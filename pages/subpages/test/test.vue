<template>
  <view class="strategy-container">
    <!-- é¡¶éƒ¨ Banner å¯é€‰ -->
    <image class="strategy-top-banner" src="@/static/game_cps/home_bg_header@2x.png"></image>

    <!-- æ ‡é¢˜ -->
    <view class="strategy-title">{{ detail.title }}</view>

    <!-- å‘å¸ƒä¿¡æ¯ -->
    <view class="strategy-meta">
      <text>{{ detail.categoryName }}</text>
      <text class="dot">Â·</text>
      <text>{{ detail.date }}</text>
      <text class="dot">Â·</text>
      <text>ä½œè€…ï¼š{{ detail.author }}</text>
    </view>

    <!-- ğŸ”¥ æ¸¸æˆåŸºç¡€ä¿¡æ¯åŒºå— -->
    <view class="strategy-gameinfo">
      <text>é€‚ç”¨å¹³å°ï¼š{{ detail.platform }}</text>
      <text class="dot">Â·</text>
      <text>è¯„åˆ†ï¼š{{ detail.score }}</text>
      <text class="dot">Â·</text>
      <text>æ ‡ç­¾ï¼š{{ detail.tags }}</text>
    </view>

    <!-- ğŸ”¥ æ“ä½œæ ï¼šç‚¹èµ / æ”¶è— / åˆ†äº« -->
    <view class="strategy-actions">
      <button class="action-btn" @click="like">ğŸ‘ ç‚¹èµ</button>
      <button class="action-btn" @click="collect">â­ æ”¶è—</button>
      <button class="action-btn" open-type="share">ğŸ”— åˆ†äº«</button>
    </view>

    <!-- æ”»ç•¥æ­£æ–‡ -->
    <view class="strategy-content" v-html="detail.content" />

    <!-- ğŸ”¥ è¯„è®ºæç¤º -->
    <view class="comment-entry" @click="toComment">
      <text>ğŸ’¬ ç‚¹å‡»æŸ¥çœ‹ç®¡ç†å‘˜ç•™è¨€</text>
    </view>

    <!-- æ¨èæ”»ç•¥ -->
    <view class="strategy-recommend">
      <view class="section-title">ğŸ¯ æ¨èæ”»ç•¥</view>
      <view v-for="(item, index) in recommends" :key="index" class="strategy-card" @click="goToDetail(item.id)">
        <image :src="item.cover" class="card-img"></image>
        <view class="card-info">
          <text class="card-title">{{ item.title }}</text>
          <text class="card-sub">{{ item.categoryName }}</text>
        </view>
      </view>
    </view>
  </view>
</template>

<script>
export default {
  data() {
    return {
      detail: {
        title: 'ã€å®ç”¨æŠ€å·§ã€‘ä¸‰åˆ†é’Ÿæ•™ä½ ä¸Šæ‰‹æ–°æ¸¸ã€Šå¹»å¡”ã€‹',
        date: '2025-04-12',
        author: 'æ¸¸æˆèŒ',
        categoryName: 'è§’è‰²æ‰®æ¼”',
        platform: 'å®‰å“ / iOS',
        score: '9.1',
        tags: 'ç§‘å¹»ã€å†’é™©ã€å¼€æ”¾ä¸–ç•Œ',
        content: `
          <p>æ¬¢è¿æ¥åˆ°ã€Šå¹»å¡”ã€‹æ–°æ‰‹æ”»ç•¥ï¼Œè¿™ç¯‡æ–‡ç« å°†ä»å…¥é—¨åˆ°å®æˆ˜ï¼Œæ‰‹æŠŠæ‰‹æ•™ä½ å¿«é€Ÿä¸Šæ‰‹ï¼</p>
          <h3>ä¸€ã€è§’è‰²æ¨è</h3>
          <p>å»ºè®®æ–°æ‰‹ä¼˜å…ˆé€‰æ‹©è¿œç¨‹èŒä¸šï¼Œæ›´å®¹æ˜“æŒæ§ã€‚</p>
          <h3>äºŒã€èµ„æºè·å–</h3>
          <p>æ¯å¤©çš„æ—¥å¸¸ä»»åŠ¡åŠ¡å¿…å®Œæˆï¼Œç´¯è®¡èµ„æºå¿«é€Ÿæå‡ã€‚</p>
        `
      },
      recommends: [
        { id: 1, title: 'ã€Šç‹è€…è£è€€ã€‹é«˜ç«¯å±€æ‰“æ³•è§£æ', cover: '/static/strategy/1.jpg', categoryName: 'MOBA' },
        { id: 2, title: 'æ–°æ‰‹å¿…çœ‹ï¼šå¦‚ä½•ç©è½¬ã€ŠåŸç¥ã€‹', cover: '/static/strategy/2.jpg', categoryName: 'å¼€æ”¾ä¸–ç•Œ' }
      ]
    }
  },
  methods: {
    goToDetail(id) {
      this.Tips("ç®¡ç†å‘˜è¿˜æœªç•™è¨€è¯·ç­‰å¾…ï¼")
    },
    like() {
      this.Tips("æ„Ÿè°¢ç‚¹èµï¼")
    },
    collect() {
      this.Tips("å·²æ”¶è—æ”»ç•¥")
    },
    toComment() {
      this.Tips("ç®¡ç†å‘˜è¿˜æœªç•™è¨€ï¼Œè¯·ç­‰å¾…")
    }
  }
}
</script>

<style scoped lang="scss">
.strategy-container {
  padding: 30rpx;
  background-color: #fff;
}

.strategy-top-banner {
  width: 100%;
  height: 260rpx;
  object-fit: cover;
  border-radius: 16rpx;
  margin-bottom: 30rpx;
}

.strategy-title {
  font-size: 36rpx;
  font-weight: bold;
  color: #333;
  margin-bottom: 10rpx;
}

.strategy-meta,
.strategy-gameinfo {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  font-size: 24rpx;
  color: #999;
  margin-bottom: 10rpx;

  .dot {
    margin: 0 10rpx;
  }
}

.strategy-actions {
  display: flex;
  justify-content: space-around;
  margin: 30rpx 0;

  .action-btn {
    padding: 16rpx 24rpx;
    border-radius: 24rpx;
    background-color: #f0f0f0;
    font-size: 26rpx;
    color: #333;
  }
}

.strategy-content {
  font-size: 28rpx;
  color: #444;
  line-height: 1.8;
  margin: 40rpx 0;
}

.comment-entry {
  background: #ebf6f3;
  padding: 20rpx;
  border-radius: 12rpx;
  text-align: center;
  font-size: 26rpx;
  color: #27c089;
  margin-bottom: 30rpx;
}

.strategy-recommend {
  margin-top: 40rpx;

  .section-title {
    font-size: 30rpx;
    font-weight: 600;
    margin-bottom: 20rpx;
  }

  .strategy-card {
    display: flex;
    align-items: center;
    margin-bottom: 20rpx;
    background: #f9f9f9;
    border-radius: 16rpx;
    overflow: hidden;

    .card-img {
      width: 160rpx;
      height: 100rpx;
      object-fit: cover;
    }

    .card-info {
      padding: 0 20rpx;

      .card-title {
        font-size: 28rpx;
        color: #333;
      }

      .card-sub {
        font-size: 24rpx;
        color: #888;
      }
    }
  }
}
</style>
