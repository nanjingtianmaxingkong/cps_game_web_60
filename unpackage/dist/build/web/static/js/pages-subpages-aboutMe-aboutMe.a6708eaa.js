(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-subpages-aboutMe-aboutMe"],{"0014":function(e,t,n){"use strict";n.r(t);var i=n("f469"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},"002c":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var i={uniPopup:n("62f1").default,lPainter:n("8a20").default,lPainterImage:n("bc8f").default,lPainterView:n("9b40").default,lPainterText:n("70dd").default,lPainterQrcode:n("7b32").default,uniSection:n("08d9").default,uniDataSelect:n("fa34").default,uniEasyinput:n("9c67").default,uniFilePicker:n("3608").default},r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("v-uni-view",{staticClass:"container"},[i("v-uni-image",{staticClass:"top",attrs:{src:n("f8c7")}}),i("v-uni-view",{staticStyle:{height:"100rpx"}}),i("v-uni-view",{staticStyle:{position:"relative"}},[i("v-uni-view",{staticClass:"top-title"},[e._v("月荔游戏")]),i("v-uni-view",{staticClass:"body center_margin"},[i("v-uni-view",{staticClass:"flex_center_not_just padding_20"},[i("span",{staticClass:"body-lv"}),i("span",{staticClass:"body-text left_10"},[e._v("我的收益")])]),i("v-uni-view",{staticClass:"flex_between left_20"},[i("v-uni-view",{staticClass:"text6 left_10"},[e._v("累计总收入"),i("span",{staticClass:"body-text left_10"},[e._v(e._s((+e.detail.totalToAmount+ +e.detail2.totalAmount).toFixed(1)))])]),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:0!=e.withdrawRadio,expression:"withdrawRadio != 0"}],staticClass:"right_20"},[i("v-uni-button",{staticClass:"button-ti",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getMoney()}}},[e._v("提现")])],1)],1),i("v-uni-view",{staticClass:"heng center_margin top_20"}),i("v-uni-view",{staticClass:"top_20 flex_between"},[i("v-uni-view",{staticClass:"center_margin"},[i("v-uni-view",{staticClass:"center_margin body-text1"},[e._v("¥ "+e._s((+e.calculateTotalWithdrawAmount).toFixed(1)))]),i("v-uni-view",{staticClass:"center_margin text6"},[e._v("累计已提现收入")])],1),i("v-uni-view",{staticClass:"center_margin "},[i("v-uni-view",{staticClass:"center_margin body-text1"},[e._v("¥ "+e._s((+e.detail.totalToAmount+ +e.detail2.totalAmount-+e.calculateTotalWithdrawAmount).toFixed(1)))]),i("v-uni-view",{staticClass:"center_margin text6"},[e._v("累计未结算收入")])],1)],1),i("v-uni-view",{staticClass:"text10 center_margin top_20 bottom_20"},[i("span",{staticClass:"left_20"},[e._v("注：提现满"+e._s(e.config)+"即可，提现后48小时内到账，法定节假日顺延。")])]),i("v-uni-view",{staticClass:"text10 center_margin top_20 bottom_20"},[i("span",{staticClass:"left_20"},[e._v("注：提现将收取 "+e._s(e.withdrawRadio)+"% 手续费")])])],1)],1),i("v-uni-view",{staticClass:"item center_margin top_20"},[i("v-uni-view",{staticClass:"flex_center_not_just padding_20"},[i("span",{staticClass:"body-lv"}),i("span",{staticClass:"body-text left_10"},[e._v("推广链接")])])],1),e._l(e.Lists,(function(t,n){return i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:0!=e.withdrawRadio,expression:"withdrawRadio != 0"}],key:n,staticClass:"item center_margin top_30"},[i("v-uni-view",{staticClass:"padding_20"},[i("v-uni-view",{staticClass:"flex_between top_20"},[i("v-uni-view",{staticClass:"text6"},[e._v("游戏名称")]),i("v-uni-view",{staticClass:"text71 flex_between"},[e._v(e._s(t.gameName))])],1),i("v-uni-view",{staticClass:"flex_between top_20"},[i("v-uni-view",{staticClass:"text6"},[e._v("推广链接")]),i("v-uni-view",{staticClass:"text7"},[e._v(e._s(t.cpsLink))])],1),i("v-uni-view",{staticClass:"flex_between top_20"},[i("v-uni-button",{staticClass:"button-2",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),function(){e.card(t)}.apply(void 0,arguments)}}},[e._v("卡片")]),i("v-uni-button",{staticClass:"button-2",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),function(){e.haibao(t)}.apply(void 0,arguments)}}},[e._v("海报")]),i("v-uni-button",{staticClass:"button-1",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),function(){e.creatQrCode(t)}.apply(void 0,arguments)}}},[e._v("二维码")]),i("v-uni-button",{staticClass:"button-3",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),function(){e.copyDuan(t)}.apply(void 0,arguments)}}},[e._v("复制")]),i("v-uni-button",{staticClass:"button-3",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),function(){e.cancel(t)}.apply(void 0,arguments)}}},[e._v("释放")])],1)],1)],1)}))],2),i("uni-popup",{ref:"alertDialoghaibao"},[i("l-painter",{ref:"painter",attrs:{css:"width: 750rpx; padding-bottom: 40rpx; background: linear-gradient(,#ff971b 0%, #ff5000 100%)"}},[i("l-painter-image",{attrs:{src:e.haibaoDetail.imgUrl,css:"margin-left: 40rpx; margin-top: 40rpx; width: 84rpx;  height: 84rpx; border-radius: 50%;"}}),i("l-painter-view",{attrs:{css:"margin-top: 40rpx; padding-left: 20rpx; display: inline-block"}},[i("l-painter-text",{attrs:{text:e.haibaoDetail.title,css:"display: block; padding-bottom: 10rpx; color: #fff; font-size: 32rpx; fontWeight: bold"}}),i("l-painter-text",{attrs:{text:"无需下载即可开玩",css:"color: rgba(255,255,255,.7); font-size: 24rpx"}})],1),i("l-painter-view",{attrs:{css:"margin-left: 40rpx; margin-top: 30rpx; padding: 32rpx; box-sizing: border-box; background: #fff; border-radius: 16rpx; width: 670rpx; box-shadow: 0 20rpx 58rpx rgba(0,0,0,.15)"}},[i("l-painter-image",{attrs:{src:e.haibaoDetail.imgUrl,css:"object-fit: cover; object-position: 50% 50%; width: 606rpx; height: 606rpx; border-radius: 12rpx;"}}),i("l-painter-view",{attrs:{css:"margin-top: 32rpx; font-size: 26rpx; color: #8c5400"}},[i("l-painter-text",{attrs:{text:"月荔游戏",css:"color: #212121; background: #ffb400;"}}),i("l-painter-text",{attrs:{text:"超多游戏福利",css:"margin-left: 16rpx; background: #fff4d9"}}),i("l-painter-text",{attrs:{text:"分享有礼",css:"margin-left: 16rpx; background: #fff4d9"}})],1),i("l-painter-view",{attrs:{css:"margin-top: 30rpx"}},[i("l-painter-text",{attrs:{css:"line-clamp: 2; color: #333333; line-height: 1.8em; font-size: 36rpx; width: 478rpx; padding-right:32rpx; box-sizing: border-box",text:e.haibaoDetail.desc}}),i("l-painter-qrcode",{attrs:{css:"width: 128rpx; height: 128rpx;",text:e.haibaoDetail.linkurl}})],1)],1)],1),i("v-uni-view",{staticClass:"top_20"},[i("v-uni-button",{staticClass:"button-3",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.saveClick()}}},[e._v("保存海报")])],1)],1),i("uni-popup",{ref:"alertDialog"},[i("v-uni-view",{staticClass:"popup"},[i("v-uni-view",{staticClass:"flex_center padding_top_20"},[i("uQrcode",{ref:"code",attrs:{"canvas-id":"code",value:e.text,size:e.size,options:{foregroundImageWidth:e.size/3,foregroundImageHeight:e.size/3,foregroundImageBorderRadius:35,backgroundImageSrc:"/static/game_cps/wei.png",margin:35,backgroundPadding:10,areaColor:"#000000",foregroundColor:"#000000"}},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.remake.apply(void 0,arguments)},complete:function(t){arguments[0]=t=e.$handleEvent(t),e.complete(t)}}})],1),i("v-uni-button",{staticClass:"button-3 top_20",staticStyle:{width:"300rpx"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.save("code")}}},[e._v("保存二维码")])],1)],1),i("uni-popup",{ref:"alertDialogCard"},[i("v-uni-view",{staticClass:"popup"},[i("v-uni-view",{staticClass:"flex_center padding_top_20"},[i("uQrcode",{ref:"code",attrs:{"canvas-id":"code",value:e.text,size:e.size,options:{foregroundImageWidth:e.size/3,foregroundImageHeight:e.size/3,foregroundImageBorderRadius:35,backgroundImageSrc:"/static/game_cps/wei.png",margin:35,backgroundPadding:10,areaColor:"#000000",foregroundColor:"#000000"}},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.remake.apply(void 0,arguments)},complete:function(t){arguments[0]=t=e.$handleEvent(t),e.complete(t)}}})],1),i("v-uni-button",{staticClass:"button-3 top_20",staticStyle:{width:"300rpx"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.save("code")}}},[e._v("扫码分享游戏")])],1)],1),i("uni-popup",{ref:"alertDialogTi"},[i("v-uni-view",{staticClass:"popup1"},[i("v-uni-view",[i("uni-section",{attrs:{title:"请选择提现方式",type:"line"}},[i("uni-data-select",{attrs:{localdata:e.range,clear:!1},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.change.apply(void 0,arguments)}},model:{value:e.req.type,callback:function(t){e.$set(e.req,"type",t)},expression:"req.type"}})],1),i("uni-section",{attrs:{title:"手机号",type:"line"}},[i("uni-easyinput",{staticClass:"uni-mt-5",attrs:{type:"number",trim:"all",placeholder:"请输入可用手机号"},model:{value:e.req.phone,callback:function(t){e.$set(e.req,"phone",t)},expression:"req.phone"}})],1),i("uni-section",{attrs:{title:"提现金额",type:"line"}},[i("uni-easyinput",{staticClass:"uni-mt-5",attrs:{trim:"all",type:"number",placeholder:"请输入提现金额"},model:{value:e.req.amount,callback:function(t){e.$set(e.req,"amount",t)},expression:"req.amount"}})],1),i("uni-section",{directives:[{name:"show",rawName:"v-show",value:0==e.req.type,expression:"req.type == 0"}],attrs:{title:"真实姓名",type:"line"}},[i("uni-easyinput",{staticClass:"uni-mt-5",attrs:{trim:"all",placeholder:"请输入银行卡对应真实姓名"},model:{value:e.req.realName,callback:function(t){e.$set(e.req,"realName",t)},expression:"req.realName"}})],1),i("uni-section",{directives:[{name:"show",rawName:"v-show",value:0==e.req.type,expression:"req.type == 0"}],attrs:{title:"银行卡号",type:"line"}},[i("uni-easyinput",{staticClass:"uni-mt-5",attrs:{type:"number",trim:"all",placeholder:"请输入银行卡对应真实姓名"},model:{value:e.req.card,callback:function(t){e.$set(e.req,"card",t)},expression:"req.card"}})],1),i("uni-section",{directives:[{name:"show",rawName:"v-show",value:0==e.req.type,expression:"req.type == 0"}],attrs:{title:"开户行",type:"line"}},[i("uni-easyinput",{staticClass:"uni-mt-5",attrs:{trim:"all",placeholder:"请输入开户行信息"},model:{value:e.req.bankBranch,callback:function(t){e.$set(e.req,"bankBranch",t)},expression:"req.bankBranch"}})],1),i("uni-section",{directives:[{name:"show",rawName:"v-show",value:1==e.req.type,expression:"req.type == 1"}],attrs:{title:"真实姓名",type:"line"}},[i("uni-easyinput",{staticClass:"uni-mt-5",attrs:{trim:"all",placeholder:"请输入支付宝对应的真实姓名"},model:{value:e.req.alipayName,callback:function(t){e.$set(e.req,"alipayName",t)},expression:"req.alipayName"}})],1),i("uni-section",{directives:[{name:"show",rawName:"v-show",value:1==e.req.type,expression:"req.type == 1"}],attrs:{title:"支付宝账号",type:"line"}},[i("uni-easyinput",{staticClass:"uni-mt-5",attrs:{trim:"all",placeholder:"请输入支付宝对应的真实姓名"},model:{value:e.req.alipayAccount,callback:function(t){e.$set(e.req,"alipayAccount",t)},expression:"req.alipayAccount"}})],1),i("uni-section",{directives:[{name:"show",rawName:"v-show",value:2==e.req.type||1==e.req.type,expression:"req.type == 2 || req.type == 1"}],attrs:{title:"收款码",type:"line"}},[i("uni-file-picker",{staticStyle:{width:"200px",height:"200px"},attrs:{fileMediatype:"image",mode:"grid",limit:1},on:{select:function(t){arguments[0]=t=e.$handleEvent(t),e.select.apply(void 0,arguments)},progress:function(t){arguments[0]=t=e.$handleEvent(t),e.progress.apply(void 0,arguments)},success:function(t){arguments[0]=t=e.$handleEvent(t),e.success.apply(void 0,arguments)},fail:function(t){arguments[0]=t=e.$handleEvent(t),e.fail.apply(void 0,arguments)}},model:{value:e.imageValue,callback:function(t){e.imageValue=t},expression:"imageValue"}})],1),i("uni-section",{directives:[{name:"show",rawName:"v-show",value:2==e.req.type||1==e.req.type,expression:"req.type == 2 || req.type == 1"}],attrs:{title:"身份证正面",type:"line"}},[i("uni-file-picker",{staticStyle:{width:"200px",height:"200px"},attrs:{fileMediatype:"image",mode:"grid",limit:1},on:{select:function(t){arguments[0]=t=e.$handleEvent(t),e.select1.apply(void 0,arguments)},progress:function(t){arguments[0]=t=e.$handleEvent(t),e.progress.apply(void 0,arguments)},success:function(t){arguments[0]=t=e.$handleEvent(t),e.success.apply(void 0,arguments)},fail:function(t){arguments[0]=t=e.$handleEvent(t),e.fail.apply(void 0,arguments)}},model:{value:e.imageValue,callback:function(t){e.imageValue=t},expression:"imageValue"}})],1),i("uni-section",{directives:[{name:"show",rawName:"v-show",value:2==e.req.type||1==e.req.type,expression:"req.type == 2 || req.type == 1"}],attrs:{title:"身份证反面",type:"line"}},[i("uni-file-picker",{staticStyle:{width:"200px",height:"200px"},attrs:{fileMediatype:"image",mode:"grid",limit:1},on:{select:function(t){arguments[0]=t=e.$handleEvent(t),e.select2.apply(void 0,arguments)},progress:function(t){arguments[0]=t=e.$handleEvent(t),e.progress.apply(void 0,arguments)},success:function(t){arguments[0]=t=e.$handleEvent(t),e.success.apply(void 0,arguments)},fail:function(t){arguments[0]=t=e.$handleEvent(t),e.fail.apply(void 0,arguments)}},model:{value:e.imageValue,callback:function(t){e.imageValue=t},expression:"imageValue"}})],1),i("uni-section",{attrs:{title:"备注",type:"line"}},[i("uni-easyinput",{staticClass:"uni-mt-5",attrs:{type:"textarea",autoHeight:!0,trim:"all",placeholder:"【可选】您还需要我们注意那些？"},model:{value:e.req.memo,callback:function(t){e.$set(e.req,"memo",t)},expression:"req.memo"}})],1),i("uni-section",{attrs:{title:"提现将扣除手续费",type:"line"}},[i("uni-easyinput",{staticClass:"uni-mt-5",attrs:{disabled:!0,trim:"all",type:"number"},model:{value:e.req.redioAmount,callback:function(t){e.$set(e.req,"redioAmount",t)},expression:"req.redioAmount"}})],1)],1),i("v-uni-button",{staticClass:"button-3 top_20",staticStyle:{width:"300rpx"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getPayouts()}}},[e._v("立即提现")])],1)],1)],1)},a=[]},"08d9":function(e,t,n){"use strict";n.r(t);var i=n("7077"),r=n("2947");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("619b");var o=n("828b"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"f2578578",null,!1,i["a"],void 0);t["default"]=s.exports},"0bd7":function(e,t,n){"use strict";n.r(t);var i=n("002c"),r=n("9b03");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("e270");var o=n("828b"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"dd530cb6",null,!1,i["a"],void 0);t["default"]=s.exports},"0e8b":function(e,t,n){var i=n("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.uni-file-picker__container[data-v-0cb8aba9]{display:flex;box-sizing:border-box;flex-wrap:wrap;margin:-5px}.file-picker__box[data-v-0cb8aba9]{position:relative;width:33.3%;height:0;padding-top:33.33%;box-sizing:border-box}.file-picker__box-content[data-v-0cb8aba9]{position:absolute;top:0;right:0;bottom:0;left:0;margin:5px;border:1px #eee solid;border-radius:5px;overflow:hidden}.file-picker__progress[data-v-0cb8aba9]{position:absolute;bottom:0;left:0;right:0;\r\n  /* border: 1px red solid; */z-index:2}.file-picker__progress-item[data-v-0cb8aba9]{width:100%}.file-picker__mask[data-v-0cb8aba9]{display:flex;justify-content:center;align-items:center;position:absolute;right:0;top:0;bottom:0;left:0;color:#fff;font-size:12px;background-color:rgba(0,0,0,.4)}.file-image[data-v-0cb8aba9]{width:100%;height:100%}.is-add[data-v-0cb8aba9]{display:flex;align-items:center;justify-content:center}.icon-add[data-v-0cb8aba9]{width:50px;height:5px;background-color:#f1f1f1;border-radius:2px}.rotate[data-v-0cb8aba9]{position:absolute;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.icon-del-box[data-v-0cb8aba9]{display:flex;align-items:center;justify-content:center;position:absolute;top:3px;right:3px;height:26px;width:26px;border-radius:50%;background-color:rgba(0,0,0,.5);z-index:2;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.icon-del[data-v-0cb8aba9]{width:15px;height:2px;background-color:#fff;border-radius:2px}',""]),e.exports=t},"126b":function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={appid:"__UNI__4FA7E71"}},1496:function(e,t,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("c223");var r=i(n("b7c7")),a=i(n("2634")),o=i(n("2fdc")),s=i(n("9b1b")),c=n("8f59"),u=i(n("b52c")),l=i(n("7bde")),d=i(n("f81a")),f=i(n("77b21")),h=i(n("70dd")),p=i(n("9b40")),g=i(n("bc8f")),v=i(n("7b32")),m=i(n("8a20")),y=i(n("c570")),b="".concat(y.default.BASE_URL),x="".concat(b,"/file/upload"),w={components:{LPainterText:h.default,LPainterView:p.default,LPainterImage:g.default,LPainterQrcode:v.default,LPainter:m.default,uQrcode:f.default},data:function(){return{haibaoDetail:"",path:"",withdrawRadio:0,range:[{value:0,text:"银行卡"},{value:1,text:"支付宝"},{value:2,text:"微信"}],req:{type:3,realName:"",alipayAccount:"",alipayName:"",amount:0,wpay:"",memo:"",phone:"",card:"",money:0,bankBranch:"",idCardFrontImage:"",idCardBackImage:"",redioAmount:0},text:"uQRCode",size:200,popupText:"—\\8月15-9月15号将上架以下数款热",List:[],type:1,Lists:[],noMore:!1,pageNum:1,hasData:!0,config:0,baseFormData:{},rules:{phone:{rules:[{required:!0,errorMessage:"手机号有误"}]},password:{rules:[{required:!0,errorMessage:"密码有误"}]}},detail:{},detail2:{},calculateTotalWithdrawAmount:0,imageValue:[],info:{}}},onShareAppMessage:function(e){return"button"===e.from&&console.log(e.target),{title:"月荔游戏",path:"/pages/index/index?code=".concat(this.info.refereeCode),imageUrl:"https://image.wyntf.cn/wl/zhu/shike.png"}},onShow:function(){var e=this;this.onRefresh();var t={userSource:1};l.default.statistics({params:t}).then((function(t){200==t.code&&(e.detail=t.data)}));var n={userSource:2};l.default.statistics({params:n}).then((function(t){200==t.code&&(e.detail2=t.data)})),l.default.userInfo().then((function(t){200==t.code&&(e.info=t.data)})),l.default.calculateTotalWithdrawAmount(null).then((function(t){200==t.code&&(e.calculateTotalWithdrawAmount=t.data)})),l.default.getData(null).then((function(t){200==t.code&&(e.config=t.data.withdrawMaxAmount?t.data.withdrawMaxAmount:0,e.withdrawRadio=t.data.withdrawRadio?t.data.withdrawRadio:0)}))},watch:{"req.amount":{handler:function(e){this.req.redioAmount=Math.round(this.req.amount*this.withdrawRadio)},immediate:!0}},computed:(0,s.default)({},(0,c.mapState)({userInfo:function(e){return e.user.userInfo}})),onReachBottom:function(){this.noMore||(this.pageNum++,this.getList())},onPullDownRefresh:function(){this.onRefresh()},methods:{saveClick:function(){console.log("saveClick"),this.$refs.painter.canvasToTempFilePathSync({fileType:"jpg",pathType:"url",quality:.9,success:function(e){console.log(e.tempFilePath),uni.saveImageToPhotosAlbum({filePath:e.tempFilePath,success:function(){uni.showToast({title:"图片已保存"})},fail:function(){uni.showToast({icon:"error",title:"图片保存失败"})}})}})},cancel:function(e){uni.showModal({title:"提示",content:"释放后将失去这个游戏推广资格！",success:function(t){var n=this;t.confirm?l.default.release(e.id).then((function(e){200==e.code&&(n.Tips("释放成功"),setTimeout((function(){n.onRefresh()}),1e3))})):t.cancel&&console.log("用户点击取消")}}),console.log(e,"val")},getPayouts:function(){var e=this;return(0,o.default)((0,a.default)().mark((function t(){return(0,a.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(3!=e.req.type){t.next=3;break}return l.default.cpsWithdrawPayouts(e.req).then(function(){var e=(0,o.default)((0,a.default)().mark((function e(t){var n,i;return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(t.data),200!=t.code){e.next=8;break}return e.next=4,l.default.getWxconfig({url:y.default.BASE_WEB_NRL});case 4:n=e.sent,i=n.data,d.default.config({debug:!1,appId:i.appId,timestamp:i.timestamp,nonceStr:i.nonceStr,signature:i.signature,jsApiList:["chooseImage","previewImage"]}),d.default.ready((function(){d.default.checkJsApi({jsApiList:["requestMerchantTransfer"],success:function(e){e.checkResult["requestMerchantTransfer"]?WeixinJSBridge.invoke("requestMerchantTransfer",{mchId:"1705531751",appId:"wx03a3adb2f2a5debe",package:t.data.packageInfo},(function(e){"requestMerchantTransfer:ok"===e.err_msg&&alert("你的微信版本过低，请更新至最新版本。11"),alert(e)})):alert("你的微信版本过低，请更新至最新版本。")}})}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.abrupt("return");case 3:if(e.req.amount){t.next=6;break}return e.Tips("请输入金额！"),t.abrupt("return");case 6:if(e.req.phone){t.next=9;break}return e.Tips("请输入手机号！"),t.abrupt("return");case 9:if(0!=e.req.type){t.next=19;break}if(e.req.realName){t.next=13;break}return e.Tips("请输入真实姓名！"),t.abrupt("return");case 13:if(e.req.card){t.next=16;break}return e.Tips("请输入卡号！"),t.abrupt("return");case 16:if(e.req.bankBranch){t.next=19;break}return e.Tips("请输入开户行信息！"),t.abrupt("return");case 19:if(1!=e.req.type){t.next=26;break}if(e.req.alipayName){t.next=23;break}return e.Tips("请输入支付宝真实姓名！"),t.abrupt("return");case 23:if(e.req.alipayAccount){t.next=26;break}return e.Tips("请输入支付宝账号！"),t.abrupt("return");case 26:l.default.cpsWithdraw(e.req).then((function(t){200==t.code&&e.Tips("申请成功，请等待一会会~")})),e.req={type:0,realName:"",alipayAccount:"",alipayName:"",amount:0,wpay:"",memo:"",phone:"",card:"",money:0};case 28:case"end":return t.stop()}}),t)})))()},select:function(e){var t=this;uni.uploadFile({header:{Authorization:u.default.state.user.token},url:x,filePath:e.tempFilePaths[0],name:"file",success:function(e){var n=JSON.parse(e.data);t.req.wpay=b+n.fileName},fail:function(e){console.log(e)}})},select1:function(e){var t=this;uni.uploadFile({header:{Authorization:u.default.state.user.token},url:x,filePath:e.tempFilePaths[0],name:"file",success:function(e){var n=JSON.parse(e.data);t.req.idCardFrontImage=b+n.fileName},fail:function(e){console.log(e)}})},select2:function(e){var t=this;uni.uploadFile({header:{Authorization:u.default.state.user.token},url:x,filePath:e.tempFilePaths[0],name:"file",success:function(e){var n=JSON.parse(e.data);t.req.idCardBackImage=b+n.fileName},fail:function(e){console.log(e)}})},progress:function(e){console.log("上传进度：",e)},success:function(e){console.log("上传成功")},fail:function(e){console.log("上传失败：",e)},change:function(e){this.req.type=e},getMoney:function(){this.$refs.alertDialogTi.open()},complete:function(e){e.success?console.log("生成成功"):console.log("生成失败")},remake:function(){var e=this.$refs["code"];e.remake()},save:function(){uni.showLoading({title:"保存中",mask:!0});var e=this.$refs["code"];e.save({success:function(e){uni.hideLoading(),uni.showToast({icon:"success",title:"保存成功"})},fail:function(e){uni.showToast({icon:"none",title:"保存失败"})}})},creatQrCode:function(e){console.log(e,"val"),e.remark?(this.text=e.remark,this.$refs.alertDialog.open()):(this.text=e.cpsLink,this.$refs.alertDialog.open())},copyDuan:function(e){console.log(e.remark,"=="),e.remark&&this.copy(e.remark)},card:function(e){console.log(e,"val"),this.text="".concat(y.default.CARD_ADDRESS,"?gameId=").concat(e.id,"&url=").concat(y.default.BASE_URL),console.log(this.text),this.$refs.alertDialogCard.open()},haibao:function(e){var t=this;l.default.getGameDetail({id:e.id}).then((function(e){200==e.code&&(t.haibaoDetail=e.data,t.$refs.alertDialoghaibao.open())}))},copy:function(e){console.log(e,"====");var t=document.createElement("textarea");t.value=e,t.readOnly="readOnly",document.body.appendChild(t),t.select(),t.setSelectionRange(0,e.length),document.execCommand("copy"),t.remove(),this.Tips("已复制")},onRefresh:function(){this.pageNum=1,this.noMore=!1,this.getList(!0)},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l.default.cpsApplyOrderRecord(this.pageNum,2).then((function(n){t&&uni.stopPullDownRefresh(),0==n.rows.length&&1==e.pageNum?e.hasData=!1:(e.hasData=!0,n.rows.length<e.pageSize&&(e.noMore=!0)),e.Lists=t?n.rows:[].concat((0,r.default)(e.Lists),(0,r.default)(n.rows))}))},formSubmit:function(){},openPopup:function(){this.$refs.alertDialog.open()},closePo:function(){this.$refs.alertDialog.close()}}};t.default=w},"15ab":function(e,t,n){"use strict";var i=n("7658"),r=n("57e7");i("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r)},1851:function(e,t,n){"use strict";var i=n("8bdb"),r=n("84d6"),a=n("1cb5");i({target:"Array",proto:!0},{fill:r}),a("fill")},"185b":function(e,t,n){"use strict";n.r(t);var i=n("1cf3"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},"186a":function(e,t,n){"use strict";n.r(t);var i=n("f661"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},"19f9":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var i={uniIcons:n("87e9").default},r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"uni-easyinput",class:{"uni-easyinput-error":e.msg},style:e.boxStyle},[n("v-uni-view",{staticClass:"uni-easyinput__content",class:e.inputContentClass,style:e.inputContentStyle},[e.prefixIcon?n("uni-icons",{staticClass:"content-clear-icon",attrs:{type:e.prefixIcon,color:"#c0c4cc",size:"22"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClickIcon("prefix")}}}):e._e(),e._t("left"),"textarea"===e.type?n("v-uni-textarea",{staticClass:"uni-easyinput__content-textarea",class:{"input-padding":e.inputBorder},attrs:{name:e.name,value:e.val,placeholder:e.placeholder,placeholderStyle:e.placeholderStyle,disabled:e.disabled,"placeholder-class":"uni-easyinput__placeholder-class",maxlength:e.inputMaxlength,focus:e.focused,autoHeight:e.autoHeight,"cursor-spacing":e.cursorSpacing,"adjust-position":e.adjustPosition},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.onInput.apply(void 0,arguments)},blur:function(t){arguments[0]=t=e.$handleEvent(t),e._Blur.apply(void 0,arguments)},focus:function(t){arguments[0]=t=e.$handleEvent(t),e._Focus.apply(void 0,arguments)},confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.onConfirm.apply(void 0,arguments)},keyboardheightchange:function(t){arguments[0]=t=e.$handleEvent(t),e.onkeyboardheightchange.apply(void 0,arguments)}}}):n("v-uni-input",{staticClass:"uni-easyinput__content-input",style:e.inputStyle,attrs:{type:"password"===e.type?"text":e.type,name:e.name,value:e.val,password:!e.showPassword&&"password"===e.type,placeholder:e.placeholder,placeholderStyle:e.placeholderStyle,"placeholder-class":"uni-easyinput__placeholder-class",disabled:e.disabled,maxlength:e.inputMaxlength,focus:e.focused,confirmType:e.confirmType,"cursor-spacing":e.cursorSpacing,"adjust-position":e.adjustPosition},on:{focus:function(t){arguments[0]=t=e.$handleEvent(t),e._Focus.apply(void 0,arguments)},blur:function(t){arguments[0]=t=e.$handleEvent(t),e._Blur.apply(void 0,arguments)},input:function(t){arguments[0]=t=e.$handleEvent(t),e.onInput.apply(void 0,arguments)},confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.onConfirm.apply(void 0,arguments)},keyboardheightchange:function(t){arguments[0]=t=e.$handleEvent(t),e.onkeyboardheightchange.apply(void 0,arguments)}}}),"password"===e.type&&e.passwordIcon?[e.isVal?n("uni-icons",{staticClass:"content-clear-icon",class:{"is-textarea-icon":"textarea"===e.type},attrs:{type:e.showPassword?"eye-slash-filled":"eye-filled",size:22,color:e.focusShow?e.primaryColor:"#c0c4cc"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onEyes.apply(void 0,arguments)}}}):e._e()]:e._e(),e.suffixIcon?[e.suffixIcon?n("uni-icons",{staticClass:"content-clear-icon",attrs:{type:e.suffixIcon,color:"#c0c4cc",size:"22"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClickIcon("suffix")}}}):e._e()]:[e.clearable&&e.isVal&&!e.disabled&&"textarea"!==e.type?n("uni-icons",{staticClass:"content-clear-icon",class:{"is-textarea-icon":"textarea"===e.type},attrs:{type:"clear",size:e.clearSize,color:e.msg?"#dd524d":e.focusShow?e.primaryColor:"#c0c4cc"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClear.apply(void 0,arguments)}}}):e._e()],e._t("right")],2)],1)},a=[]},"1cf3":function(e,t,n){"use strict";(function(e){n("6a54");var i=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("b7c7")),a=i(n("9b1b")),o=i(n("2634")),s=i(n("2fdc"));n("64aa"),n("bf0f"),n("2797"),n("aa9c"),n("dd2b"),n("5c47"),n("0506"),n("dc8a"),n("c223"),n("a1c1"),n("18f7"),n("de6c"),n("bd06"),n("e966"),n("20f3");var c=n("5b26"),u=n("faeb"),l=i(n("fc5f")),d=i(n("40ce")),f={name:"uniFilePicker",components:{uploadImage:l.default,uploadFile:d.default},options:{virtualHost:!0},emits:["select","success","fail","progress","delete","update:modelValue","input"],props:{value:{type:[Array,Object],default:function(){return[]}},disabled:{type:Boolean,default:!1},disablePreview:{type:Boolean,default:!1},delIcon:{type:Boolean,default:!0},autoUpload:{type:Boolean,default:!0},limit:{type:[Number,String],default:9},mode:{type:String,default:"grid"},fileMediatype:{type:String,default:"image"},fileExtname:{type:[Array,String],default:function(){return[]}},title:{type:String,default:""},listStyles:{type:Object,default:function(){return{border:!0,dividline:!0,borderStyle:{}}}},imageStyles:{type:Object,default:function(){return{width:"auto",height:"auto"}}},readonly:{type:Boolean,default:!1},returnType:{type:String,default:"array"},sizeType:{type:Array,default:function(){return["original","compressed"]}},sourceType:{type:Array,default:function(){return["album","camera"]}},provider:{type:String,default:""}},data:function(){return{files:[],localValue:[]}},watch:{value:{handler:function(e,t){this.setValue(e,t)},immediate:!0}},computed:{filesList:function(){var e=[];return this.files.forEach((function(t){e.push(t)})),e},showType:function(){return"image"===this.fileMediatype?this.mode:"list"},limitLength:function(){return"object"===this.returnType?1:this.limit?this.limit>=9?9:this.limit:1}},created:function(){e.config&&e.config.provider||(this.noSpace=!0,e.chooseAndUploadFile=c.chooseAndUploadFile),this.form=this.getForm("uniForms"),this.formItem=this.getForm("uniFormsItem"),this.form&&this.formItem&&this.formItem.name&&(this.rename=this.formItem.name,this.form.inputChildrens.push(this))},methods:{clearFiles:function(e){var t=this;0===e||e?this.files.splice(e,1):(this.files=[],this.$nextTick((function(){t.setEmit()}))),this.$nextTick((function(){t.setEmit()}))},upload:function(){var e=[];return this.files.forEach((function(t,n){"ready"!==t.status&&"error"!==t.status||e.push(Object.assign({},t))})),this.uploadFiles(e)},setValue:function(e,t){var n=this;return(0,s.default)((0,o.default)().mark((function t(){var i,r,a,c;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=function(){var e=(0,s.default)((0,o.default)().mark((function e(t){var i,r;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=/cloud:\/\/([\w.]+\/?)\S*/,r="",r=t.fileID?t.fileID:t.url,!i.test(r)){e.next=8;break}return t.fileID=r,e.next=7,n.getTempFileURL(r);case 7:t.url=e.sent;case 8:return t.url&&(t.path=t.url),e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),"object"!==n.returnType){t.next=10;break}if(!e){t.next=7;break}return t.next=5,i(e);case 5:t.next=8;break;case 7:e={};case 8:t.next=19;break;case 10:e||(e=[]),r=0;case 12:if(!(r<e.length)){t.next=19;break}return a=e[r],t.next=16,i(a);case 16:r++,t.next=12;break;case 19:n.localValue=e,n.form&&n.formItem&&!n.is_reset&&(n.is_reset=!1,n.formItem.setValue(n.localValue)),c=Object.keys(e).length>0?e:[],n.files=[].concat(c);case 23:case"end":return t.stop()}}),t)})))()},choose:function(){this.disabled||(this.files.length>=Number(this.limitLength)&&"grid"!==this.showType&&"array"===this.returnType?uni.showToast({title:"您最多选择 ".concat(this.limitLength," 个文件"),icon:"none"}):this.chooseFiles())},chooseFiles:function(){var t=this,n=(0,u.get_extname)(this.fileExtname);e.chooseAndUploadFile({type:this.fileMediatype,compressed:!1,sizeType:this.sizeType,sourceType:this.sourceType,extension:n.length>0?n:void 0,count:this.limitLength-this.files.length,onChooseFile:this.chooseFileCallback,onUploadProgress:function(e){t.setProgress(e,e.index)}}).then((function(e){t.setSuccessAndError(e.tempFiles)})).catch((function(e){console.log("选择失败",e)}))},chooseFileCallback:function(e){var t=this;return(0,s.default)((0,o.default)().mark((function n(){var i,r,s,c,l,d,f,h;return(0,o.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:i=(0,u.get_extname)(t.fileExtname),r=1===Number(t.limitLength)&&t.disablePreview&&!t.disabled||"object"===t.returnType,r&&(t.files=[]),s=(0,u.get_files_and_is_max)(e,i),c=s.filePaths,l=s.files,i&&i.length>0||(c=e.tempFilePaths,l=e.tempFiles),d=[],f=0;case 7:if(!(f<l.length)){n.next=21;break}if(!(t.limitLength-t.files.length<=0)){n.next=10;break}return n.abrupt("break",21);case 10:return l[f].uuid=Date.now(),n.next=13,(0,u.get_file_data)(l[f],t.fileMediatype);case 13:h=n.sent,h.progress=0,h.status="ready",t.files.push(h),d.push((0,a.default)((0,a.default)({},h),{},{file:l[f]}));case 18:f++,n.next=7;break;case 21:t.$emit("select",{tempFiles:d,tempFilePaths:c}),e.tempFiles=l,t.autoUpload&&!t.noSpace||(e.tempFiles=[]),e.tempFiles.forEach((function(e,n){t.provider&&(e.provider=t.provider);var i=e.name.split("."),r=i.pop(),a=i.join(".").replace(/[\s\/\?<>\\:\*\|":]/g,"_");e.cloudPath=a+"_"+Date.now()+"_"+n+"."+r}));case 25:case"end":return n.stop()}}),n)})))()},uploadFiles:function(e){var t=this;return e=[].concat(e),c.uploadCloudFiles.call(this,e,5,(function(e){t.setProgress(e,e.index,!0)})).then((function(e){return t.setSuccessAndError(e),e})).catch((function(e){console.log(e)}))},setSuccessAndError:function(e,t){var n=this;return(0,s.default)((0,o.default)().mark((function t(){var i,r,a,s,c,u,l;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=[],r=[],a=[],s=[],c=(0,o.default)().mark((function t(c){var u,l,d;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(u=e[c],l=u.uuid?n.files.findIndex((function(e){return e.uuid===u.uuid})):u.index,-1!==l&&n.files){t.next=4;break}return t.abrupt("return","break");case 4:if("request:fail"!==u.errMsg){t.next=12;break}n.files[l].url=u.path,n.files[l].status="error",n.files[l].errMsg=u.errMsg,r.push(n.files[l]),s.push(n.files[l].url),t.next=26;break;case 12:if(n.files[l].errMsg="",n.files[l].fileID=u.url,d=/cloud:\/\/([\w.]+\/?)\S*/,!d.test(u.url)){t.next=21;break}return t.next=18,n.getTempFileURL(u.url);case 18:n.files[l].url=t.sent,t.next=22;break;case 21:n.files[l].url=u.url;case 22:n.files[l].status="success",n.files[l].progress+=1,i.push(n.files[l]),a.push(n.files[l].fileID);case 26:case"end":return t.stop()}}),t)})),u=0;case 6:if(!(u<e.length)){t.next=14;break}return t.delegateYield(c(u),"t0",8);case 8:if(l=t.t0,"break"!==l){t.next=11;break}return t.abrupt("break",14);case 11:u++,t.next=6;break;case 14:i.length>0&&(n.setEmit(),n.$emit("success",{tempFiles:n.backObject(i),tempFilePaths:a})),r.length>0&&n.$emit("fail",{tempFiles:n.backObject(r),tempFilePaths:s});case 16:case"end":return t.stop()}}),t)})))()},setProgress:function(e,t,n){this.files.length;var i=Math.round(100*e.loaded/e.total),r=t;n||(r=this.files.findIndex((function(t){return t.uuid===e.tempFile.uuid}))),-1!==r&&this.files[r]&&(this.files[r].progress=i-1,this.$emit("progress",{index:r,progress:parseInt(i),tempFile:this.files[r]}))},delFile:function(e){var t=this;this.$emit("delete",{index:e,tempFile:this.files[e],tempFilePath:this.files[e].url}),this.files.splice(e,1),this.$nextTick((function(){t.setEmit()}))},getFileExt:function(e){var t=e.lastIndexOf("."),n=e.length;return{name:e.substring(0,t),ext:e.substring(t+1,n)}},setEmit:function(){var e=[];"object"===this.returnType?(e=this.backObject(this.files)[0],this.localValue=e||null):(e=this.backObject(this.files),this.localValue||(this.localValue=[]),this.localValue=(0,r.default)(e)),this.$emit("input",this.localValue)},backObject:function(e){var t=[];return e.forEach((function(e){t.push({extname:e.extname,fileType:e.fileType,image:e.image,name:e.name,path:e.path,size:e.size,fileID:e.fileID,url:e.url,uuid:e.uuid,status:e.status,cloudPath:e.cloudPath})})),t},getTempFileURL:function(t){return(0,s.default)((0,o.default)().mark((function n(){var i;return(0,o.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t={fileList:[].concat(t)},n.next=3,e.getTempFileURL(t);case 3:return i=n.sent,n.abrupt("return",i.fileList[0].tempFileURL||"");case 5:case"end":return n.stop()}}),n)})))()},getForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniForms",t=this.$parent,n=t.$options.name;while(n!==e){if(t=t.$parent,!t)return!1;n=t.$options.name}return t}}};t.default=f}).call(this,n("861b")["default"])},"1ea2":function(e,t,n){"use strict";var i=n("af9e"),r=n("1c06"),a=n("ada5"),o=n("5d6e"),s=Object.isExtensible,c=i((function(){s(1)}));e.exports=c||o?function(e){return!!r(e)&&((!o||"ArrayBuffer"!==a(e))&&(!s||s(e)))}:s},"1ec6":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var i=function(){var e=this.$createElement,t=this._self._c||e;return t("v-uni-text",{staticStyle:{opacity:"0",height:"0"}},[this._t("default")],2)},r=[]},"20f3":function(e,t,n){"use strict";var i=n("8bdb"),r=n("5145");i({target:"Array",proto:!0,forced:r!==[].lastIndexOf},{lastIndexOf:r})},2180:function(e,t,n){"use strict";n.r(t);var i=n("5b7e"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},2807:function(e,t,n){var i=n("c86c"),r=n("2ec5"),a=n("608e"),o=n("dda5"),s=n("860f"),c=n("ad6d"),u=n("49bf"),l=n("408e");t=i(!1);var d=r(a),f=r(o),h=r(s),p=r(c),g=r(u),v=r(l);t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.popup[data-v-dd530cb6]{width:%?450?%;height:%?500?%;background:#fff;border-radius:%?18?%}.popup1[data-v-dd530cb6]{width:%?450?%;padding:%?20?%;background:#fff;border-radius:%?18?%;height:%?800?%;overflow-y:auto}.button-1[data-v-dd530cb6]{height:%?52?%;background:#f8f9fa;border-radius:%?26?%;border:%?2?% solid #ddd;font-family:PingFangSC,PingFang SC;font-weight:400;font-size:%?28?%;color:#000;line-height:%?50?%;text-align:center;font-style:normal}.button-2[data-v-dd530cb6]{height:%?52?%;background:#f8f9fa;border-radius:%?26?%;border:%?2?% solid #ddd;font-family:PingFangSC,PingFang SC;font-weight:400;font-size:%?28?%;color:#000;line-height:%?50?%;text-align:center;font-style:normal}.button-3[data-v-dd530cb6]{height:%?52?%;background:linear-gradient(90deg,#6fd785,#28c089);border-radius:%?26?%;font-family:PingFangSC,PingFang SC;font-weight:400;font-size:%?28?%;color:#fff;line-height:%?50?%;text-align:center;font-style:normal}.top[data-v-dd530cb6]{position:absolute;width:100%;background-size:100% 100%}.top-notice[data-v-dd530cb6]{margin:%?28?% auto;width:%?710?%;height:%?50?%;border-radius:%?12?%;font-family:PingFangSC,PingFang SC}.top-title[data-v-dd530cb6]{padding-top:%?20?%;padding-bottom:%?20?%;display:flex;justify-content:center;font-family:PingFangSC,PingFang SC;font-weight:600;font-size:%?32?%;color:#000;line-height:%?48?%;text-align:right;font-style:normal;text-transform:none}.heng[data-v-dd530cb6]{width:%?670?%;height:%?2?%;background-color:#e9e9e9}.text10[data-v-dd530cb6]{width:%?670?%;height:%?54?%;background:#fff9ea;border-radius:%?12?%;font-family:PingFangSC,PingFang SC;font-weight:400;font-size:%?24?%;color:#ff9c46;line-height:%?50?%;font-style:normal}.button-ti[data-v-dd530cb6]{width:%?160?%;height:%?74?%;background:#5acf86;border-radius:%?37?%;font-family:PingFangSC,PingFang SC;font-weight:500;font-size:%?30?%;color:#fff;font-style:normal;line-height:%?70?%}.copy[data-v-dd530cb6]{width:%?68?%;height:%?38?%;background:rgba(0,0,0,.2);border-radius:%?12?%;font-family:PingFangSC,PingFang SC;font-weight:400;font-size:%?24?%;color:#fff;line-height:%?34?%;text-align:center;font-style:normal}.text1[data-v-dd530cb6]{font-family:PingFangSC,PingFang SC;font-weight:400;font-size:%?24?%;color:hsla(0,0%,100%,.8);line-height:%?34?%;text-align:left;font-style:normal}.text2[data-v-dd530cb6]{font-family:PingFangSC,PingFang SC;font-weight:500;font-size:%?32?%;color:#fff;line-height:%?44?%;text-align:left;font-style:normal}.text3[data-v-dd530cb6]{font-family:PingFangSC,PingFang SC;font-weight:400;font-size:%?24?%;color:#353433;line-height:%?34?%;text-align:left;font-style:normal}.text4[data-v-dd530cb6]{font-family:PingFangSC,PingFang SC;font-weight:600;font-size:%?32?%;color:#2a2d32;line-height:%?44?%;text-align:left;font-style:normal}.text5[data-v-dd530cb6]{font-family:PingFangSC,PingFang SC;font-weight:400;font-size:%?24?%;color:#999;line-height:%?34?%;text-align:left;font-style:normal}.text6[data-v-dd530cb6]{font-family:PingFangSC,PingFang SC;font-weight:400;font-size:%?24?%;color:#999;line-height:%?34?%;text-align:left;font-style:normal}.text7[data-v-dd530cb6]{width:%?400?%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-family:PingFangSC,PingFang SC;font-weight:500;font-size:%?28?%;color:#000;line-height:%?40?%;text-align:center;font-style:normal}.text71[data-v-dd530cb6]{font-family:PingFangSC,PingFang SC;font-weight:500;font-size:%?28?%;color:#000;line-height:%?40?%;text-align:center;font-style:normal}.text8[data-v-dd530cb6]{font-family:PingFangSC,PingFang SC;font-weight:500;font-size:%?28?%;color:#5acf86;line-height:%?40?%;text-align:center;font-style:normal}.item[data-v-dd530cb6]{width:%?710?%;background:#fff;border-radius:%?12?%}.container[data-v-dd530cb6]{width:100%;background-color:#f2f2f2;min-height:100vh}.active1[data-v-dd530cb6]{width:%?376?%;height:%?6?%;background:#5acf86}.image[data-v-dd530cb6]{width:%?310?%;height:%?100?%;background:url('+d+");background-size:100% 100%}.image1[data-v-dd530cb6]{width:%?310?%;height:%?100?%;background:url("+f+");background-size:100% 100%}.body[data-v-dd530cb6]{width:%?700?%;height:%?440?%;background:#fff;border-radius:%?30?%}.body-top-text_hui[data-v-dd530cb6]{font-family:PingFangSC,PingFang SC;font-weight:400;font-size:%?24?%;color:#999;line-height:%?34?%;font-style:normal}.body-moreImg3[data-v-dd530cb6]{height:%?140?%;width:%?710?%;background:url("+h+");background-size:100% 100%}.body-moreImg[data-v-dd530cb6]{height:%?292?%;width:%?344?%;background:url("+p+");background-size:100% 100%}.body-moreImg1[data-v-dd530cb6]{height:%?136?%;width:%?344?%;background:url("+g+");background-size:100% 100%}.body-moreImg2[data-v-dd530cb6]{height:%?136?%;width:%?344?%;background:url("+v+");background-size:100% 100%}.body-lv[data-v-dd530cb6]{width:%?6?%;height:%?20?%;background:#5acf86;border-radius:%?37?%}.body-text[data-v-dd530cb6]{font-family:PingFangSC,PingFang SC;font-weight:500;font-size:%?28?%;color:#000;line-height:%?40?%;text-align:right;font-style:normal}.body-text1[data-v-dd530cb6]{font-family:PingFangSC,PingFang SC;font-weight:500;font-size:%?28?%;color:#000;line-height:%?40?%;text-align:center;font-style:normal}[data-v-dd530cb6] .uni-section .uni-section-header__decoration{background-color:#5acf86}",""]),e.exports=t},2947:function(e,t,n){"use strict";n.r(t);var i=n("ec2b"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},"2e67":function(e,t,n){"use strict";var i=n("b2c7"),r=n.n(i);r.a},"318f":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var i=function(){var e=this.$createElement,t=this._self._c||e;return t("div")},r=[]},3292:function(e,t,n){"use strict";n.r(t);var i=n("e226"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},3471:function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,i.default)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(c)throw o}}}},n("01a2"),n("e39c"),n("bf0f"),n("844d"),n("18f7"),n("de6c"),n("7a76"),n("c9b5");var i=function(e){return e&&e.__esModule?e:{default:e}}(n("5d6b"))},3608:function(e,t,n){"use strict";n.r(t);var i=n("4021"),r=n("185b");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("484e");var o=n("828b"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"3907726b",null,!1,i["a"],void 0);t["default"]=s.exports},"3b6e":function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={easycom:{autoscan:!0,custom:{"^uni-(.*)":"@dcloudio/uni-ui/lib/uni-$1/uni-$1.vue"}},pages:[{path:"pages/index/index",style:{navigationBarTitleText:"月荔游戏"}},{path:"pages/subpages/index/index",style:{navigationBarTitleText:"",navigationStyle:"custom",onReachBottomDistance:100,"app-plus":{bounce:"none"}}},{path:"pages/subpages/goodsList/goodsList",style:{navigationBarTitleText:"渠道管理",navigationStyle:"custom",enablePullDownRefresh:!1,"app-plus":{bounce:"none"}}},{path:"pages/subpages/promotionData/promotionData",style:{enablePullDownRefresh:!0,navigationBarTitleText:"推广数据",onReachBottomDistance:100,"app-plus":{bounce:"none"}}},{path:"pages/subpages/aboutMe/aboutMe",style:{navigationBarTitleText:"",navigationStyle:"custom",onReachBottomDistance:100,"app-plus":{bounce:"none"}}},{path:"pages/subpages/orderList/orderList",style:{navigationBarTitleText:"月荔游戏",enablePullDownRefresh:!0}},{path:"pages/subpages/test/test",style:{navigationBarTitleText:"抽奖小工具",enablePullDownRefresh:!1,navigationStyle:"custom",onReachBottomDistance:100,"app-plus":{bounce:"none"}}},{path:"pages/subpages/search/search",style:{navigationBarTitleText:"搜索",enablePullDownRefresh:!0}},{path:"pages/subpages/commonH5/index",style:{navigationBarTitleText:"关于我们",enablePullDownRefresh:!1}},{path:"pages/subpages/common/gameBriefly",style:{navigationBarTitleText:"简介",navigationStyle:"custom",enablePullDownRefresh:!1,"app-plus":{bounce:"none"}}}],globalStyle:{navigationBarTextStyle:"black",navigationBarTitleText:"uni-app",navigationBarBackgroundColor:"#F8F8F8",backgroundColor:"#F8F8F8"},tabBar:{color:"#9DA4B3",backgroundColor:"#fff",selectedColor:"#0D0E15",borderStyle:"white",height:"54px",fontSize:"12px",spacing:"4px",list:[{text:"合作游戏",pagePath:"pages/subpages/index/index",iconPath:"static/game_cps/ioc/nav_tab_hzyx_wxz@2x.png",selectedIconPath:"static/game_cps/ioc/nav_tab_hzyx_xz@2x.png"},{text:"渠道管理",pagePath:"pages/subpages/goodsList/goodsList",iconPath:"static/game_cps/ioc/nav_tab_qdgl_wxz@2x.png",selectedIconPath:"static/game_cps/ioc/nav_tab_qdgl_xz@2x.png"},{text:"推广数据",pagePath:"pages/subpages/promotionData/promotionData",iconPath:"static/game_cps/ioc/nav_tab_tgsj_wxz@2x.png",selectedIconPath:"static/game_cps/ioc/nav_tab_tgsj_xz@2x.png"},{text:"我的收益",pagePath:"pages/subpages/aboutMe/aboutMe",iconPath:"static/game_cps/ioc/nav_tab_wdsy_wxz@2x.png",selectedIconPath:"static/game_cps/ioc/nav_tab_wdsy_xz@2x.png"}],position:"bottom"},uniIdRouter:{},condition:{current:0,list:[{name:"",path:"",query:""}]}}},"3bb4":function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("64aa");var i={props:{board:Object,pathType:String,fileType:{type:String,default:"png"},hidden:Boolean,quality:{type:Number,default:1},css:[String,Object],width:[Number,String],height:[Number,String],pixelRatio:Number,customStyle:String,isCanvasToTempFilePath:Boolean,sleep:{type:Number,default:1e3/30},beforeDelay:{type:Number,default:100},afterDelay:{type:Number,default:100},performance:Boolean,useCORS:Boolean,hidpi:{type:Boolean,default:!0}}};t.default=i},"3d94":function(e,t,n){var i=n("c86c");t=i(!1),t.push([e.i,".uqrcode[data-v-50c98264]{position:relative}.uqrcode-hide[data-v-50c98264]{position:fixed;left:%?7500?%}.uqrcode-canvas[data-v-50c98264]{-webkit-transform-origin:top left;transform-origin:top left}.uqrcode-makeing[data-v-50c98264]{position:absolute;top:0;right:0;bottom:0;left:0;z-index:10;\ndisplay:flex;\njustify-content:center;align-items:center}.uqrcode-makeing-image[data-v-50c98264]{\ndisplay:block;max-width:120px;max-height:120px\n}.uqrcode-error[data-v-50c98264]{position:absolute;top:0;right:0;bottom:0;left:0;\ndisplay:flex;\njustify-content:center;align-items:center}.uqrcode-error-message[data-v-50c98264]{font-size:12px;color:#939291}\n.uqrcode-h5-save[data-v-50c98264]{position:fixed;top:0;right:0;bottom:0;left:0;z-index:100;background-color:rgba(0,0,0,.68);display:flex;flex-direction:column;justify-content:center;align-items:center}.uqrcode-h5-save-image[data-v-50c98264]{width:%?512?%;height:%?512?%;padding:%?32?%}.uqrcode-h5-save-text[data-v-50c98264]{margin-top:%?20?%;font-size:%?32?%;font-weight:700;color:#fff}.uqrcode-h5-save-close[data-v-50c98264]{position:relative;margin-top:%?72?%;width:%?60?%;height:%?60?%;border:%?2?% solid #fff;border-radius:%?60?%;padding:%?10?%}.uqrcode-h5-save-close-before[data-v-50c98264]{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%) rotate(45deg);transform:translate(-50%,-50%) rotate(45deg);width:%?40?%;height:%?4?%;background:#fff}.uqrcode-h5-save-close-after[data-v-50c98264]{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%) rotate(-45deg);transform:translate(-50%,-50%) rotate(-45deg);width:%?40?%;height:%?4?%;background:#fff}\n\n",""]),e.exports=t},4021:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"uni-file-picker"},[e.title?n("v-uni-view",{staticClass:"uni-file-picker__header"},[n("v-uni-text",{staticClass:"file-title"},[e._v(e._s(e.title))]),n("v-uni-text",{staticClass:"file-count"},[e._v(e._s(e.filesList.length)+"/"+e._s(e.limitLength))])],1):e._e(),"image"===e.fileMediatype&&"grid"===e.showType?n("upload-image",{attrs:{readonly:e.readonly,"image-styles":e.imageStyles,"files-list":e.filesList,limit:e.limitLength,disablePreview:e.disablePreview,delIcon:e.delIcon},on:{uploadFiles:function(t){arguments[0]=t=e.$handleEvent(t),e.uploadFiles.apply(void 0,arguments)},choose:function(t){arguments[0]=t=e.$handleEvent(t),e.choose.apply(void 0,arguments)},delFile:function(t){arguments[0]=t=e.$handleEvent(t),e.delFile.apply(void 0,arguments)}}},[e._t("default",[n("v-uni-view",{staticClass:"is-add"},[n("v-uni-view",{staticClass:"icon-add"}),n("v-uni-view",{staticClass:"icon-add rotate"})],1)])],2):e._e(),"image"!==e.fileMediatype||"grid"!==e.showType?n("upload-file",{attrs:{readonly:e.readonly,"list-styles":e.listStyles,"files-list":e.filesList,showType:e.showType,delIcon:e.delIcon},on:{uploadFiles:function(t){arguments[0]=t=e.$handleEvent(t),e.uploadFiles.apply(void 0,arguments)},choose:function(t){arguments[0]=t=e.$handleEvent(t),e.choose.apply(void 0,arguments)},delFile:function(t){arguments[0]=t=e.$handleEvent(t),e.delFile.apply(void 0,arguments)}}},[e._t("default",[n("v-uni-button",{attrs:{type:"primary",size:"mini"}},[e._v("选择文件")])])],2):e._e()],1)},r=[]},4085:function(e,t,n){"use strict";var i=n("8bdb"),r=n("85c1");i({global:!0,forced:r.globalThis!==r},{globalThis:r})},"408e":function(e,t,n){e.exports=n.p+"static/game_cps/bg_lj_02@2x.png"},"40ce":function(e,t,n){"use strict";n.r(t);var i=n("a317"),r=n("186a");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("b693");var o=n("828b"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"1e2ea0b2",null,!1,i["a"],void 0);t["default"]=s.exports},4427:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"uni-file-picker__container"},[e._l(e.filesList,(function(t,i){return n("v-uni-view",{key:i,staticClass:"file-picker__box",style:e.boxStyle},[n("v-uni-view",{staticClass:"file-picker__box-content",style:e.borderStyle},[n("v-uni-image",{staticClass:"file-image",attrs:{src:t.url,mode:"aspectFill"},on:{click:function(n){n.stopPropagation(),arguments[0]=n=e.$handleEvent(n),e.prviewImage(t,i)}}}),e.delIcon&&!e.readonly?n("v-uni-view",{staticClass:"icon-del-box",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.delFile(i)}}},[n("v-uni-view",{staticClass:"icon-del"}),n("v-uni-view",{staticClass:"icon-del rotate"})],1):e._e(),t.progress&&100!==t.progress||0===t.progress?n("v-uni-view",{staticClass:"file-picker__progress"},[n("v-uni-progress",{staticClass:"file-picker__progress-item",attrs:{percent:-1===t.progress?0:t.progress,"stroke-width":"4",backgroundColor:t.errMsg?"#ff5a5f":"#EBEBEB"}})],1):e._e(),t.errMsg?n("v-uni-view",{staticClass:"file-picker__mask",on:{click:function(n){n.stopPropagation(),arguments[0]=n=e.$handleEvent(n),e.uploadFiles(t,i)}}},[e._v("点击重试")]):e._e()],1)],1)})),e.filesList.length<e.limit&&!e.readonly?n("v-uni-view",{staticClass:"file-picker__box",style:e.boxStyle},[n("v-uni-view",{staticClass:"file-picker__box-content is-add",style:e.borderStyle,on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.choose.apply(void 0,arguments)}}},[e._t("default",[n("v-uni-view",{staticClass:"icon-add"}),n("v-uni-view",{staticClass:"icon-add rotate"})])],2)],1):e._e()],2)},r=[]},"467e":function(e,t,n){"use strict";var i=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Painter=void 0;var r=i(n("fcf3"));n("bf0f"),n("01a2"),n("e39c"),n("844d"),n("18f7"),n("de6c"),n("7a76"),n("c9b5"),n("aa9c"),n("5c47"),n("0506"),n("e838"),n("4626"),n("9db6"),n("2c10"),n("5ef2"),n("0c26"),n("20f3"),n("6a54"),n("8a8d"),n("f7a5"),n("08eb"),n("a1c1"),n("dfcf"),n("64aa"),n("5ac7"),n("23f4"),n("7d2f"),n("9c4e"),n("ab80"),n("2797"),n("4100"),n("473f"),n("c1a3"),n("c223"),n("fd3c"),n("dc8a"),n("bd06"),n("aa77"),n("1851"),n("8f71"),n("d4b5"),n("22b6");var a=function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)};function o(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))}function s(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(r=o.trys,!((r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var c={MP_WEIXIN:"mp-weixin",MP_QQ:"mp-qq",MP_ALIPAY:"mp-alipay",MP_BAIDU:"mp-baidu",MP_TOUTIAO:"mp-toutiao",MP_DINGDING:"mp-dingding",H5:"h5",WEB:"web",PLUS:"plus"},u=["Top","Right","Bottom","Left"],l="right",d="bottom",f=["contentSize","clientSize","borderSize","offsetSize"],h={TOP:"top",MIDDLE:"middle",BOTTOM:d},p={LEFT:"left",CENTER:"center",RIGHT:l},g="view",v="text",m="image",y="qrcode",b="block",x="absolute",w="fixed",k={display:b,color:"#000000",lineHeight:"1.4em",fontSize:14,fontWeight:400,fontFamily:"sans-serif",lineCap:"butt",flexDirection:"row",flexWrap:"nowrap",textAlign:"left",alignItems:"flex-start",justifyContent:"flex-start",position:"static",transformOrigin:"".concat("center"," ").concat("center")},_={upx2px:function(e){return window.innerWidth/750*e},getSystemInfoSync:function(){return{screenWidth:window.innerWidth,screenHeight:window.innerHeight}},getImageInfo:function(e){var t=e.src,n=e.success,i=e.fail,r=new Image;r.onload=function(){n({width:r.naturalWidth,height:r.naturalHeight,path:r.src,src:t})},r.onerror=i,r.src=t}},S="object"==("undefined"===typeof window?"undefined":(0,r.default)(window))?"undefined"==typeof uni||"undefined"!=typeof uni&&!uni.addInterceptor?c.WEB:c.H5:"object"==("undefined"===typeof swan?"undefined":(0,r.default)(swan))?c.MP_BAIDU:"object"==("undefined"===typeof tt?"undefined":(0,r.default)(tt))?c.MP_TOUTIAO:"object"==("undefined"===typeof plus?"undefined":(0,r.default)(plus))?c.PLUS:"object"==("undefined"===typeof wx?"undefined":(0,r.default)(wx))?c.MP_WEIXIN:void 0,I=S==c.MP_WEIXIN?wx:"undefined"!=typeof uni?uni.getImageInfo?{upx2px:function(e){return uni.upx2px(e)},getSystemInfoSync:function(){return uni.getSystemInfoSync()},getImageInfo:function(e){return uni.getImageInfo(e)},downloadFile:function(e){return uni.downloadFile(e)}}:Object.assign(uni,_):"undefined"!=typeof window?_:uni;if(!I.upx2px){var C=((I.getSystemInfoSync&&I.getSystemInfoSync()).screenWidth||375)/750;I.upx2px=function(e){return C*e}}function P(e){return/^-?\d+(\.\d+)?$/.test(e)}function T(e,t,n){if(P(e))return 1*e;if("string"==typeof e){var i=/^-?([0-9]+)?([.]{1}[0-9]+){0,1}(em|rpx|vw|vh|px|%)$/g.exec(e);if(!e||!i)return 0;var r=i[3];e=parseFloat(e);var a=0;if("rpx"===r)a=I.upx2px(e);else if("px"===r)a=1*e;else if("%"===r&&t)a=e*T(t)/100;else if("em"===r&&t)a=e*T(t||14);else if(["vw","vh"].includes(r)){var o=I.getSystemInfoSync(),s=o.screenWidth,c=o.screenHeight;a=e*("vw"==r?s:c)/100}return 1*a.toFixed(2)}return 0}function O(e){return/%$/.test(e)}function A(e){return/^-?([0-9]+)?([.]{1}[0-9]+){0,1}(rpx|px)$/.test(e)}function M(e){for(var t=[],n=[],i=0,r=e.substring(0,e.length-1).split("%,");i<r.length;i++){var a=r[i];t.push(a.substring(0,a.lastIndexOf(" ")).trim()),n.push(a.substring(a.lastIndexOf(" "),a.length)/100)}return{colors:t,percents:n}}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},L.apply(this,arguments)}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function F(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function B(e){return"number"==typeof e}function z(e){return"auto"===e||null===e}function N(e){return/%$/.test(e)}var j=m,q=v,U=y,W=x,H=w;function V(e){return e.replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}))}function $(e,t){var n,i,r=function(e){var t=e.match(/([a-z]+)/)[1];return[t,V(e.split(t)[1])]}(e),a=r[0],o=r[1],s=t.split(" ");if(o)return(n={})[a+o]=t,n;if(s.length&&!o){var c=s[0],l=s[1],d=s[2],f=s[3];return(i={})[a+u[0]]=c,i[a+u[1]]=l||c,i[a+u[2]]=d||c,i[a+u[3]]=f||l||c,i}}var K,J=0,Y=function(){function e(){E(this,"elements",[]),E(this,"afterElements",[]),E(this,"beforeElements",[]),E(this,"ids",[]),E(this,"width",0),E(this,"height",0),E(this,"top",0),E(this,"left",0),E(this,"pre",null),E(this,"offsetX",0),E(this,"offsetY",0),J++,this.id=J}var t=e.prototype;return t.fixedBind=function(e,t){void 0===t&&(t=0),this.container=t?e.parent:e.root,this.container.fixedLine=this,this.fixedAdd(e)},t.fixedAdd=function(e){if(!this.ids.includes(e.id)){this.ids.push(e.id),this.elements.push(e);var t=e.computedStyle.zIndex;(void 0===t?0:t)>=0?this.afterElements.push(e):this.beforeElements.push(e),this.refreshLayout()}},t.bind=function(e){this.container=e.parent,this.container.line=null,this.container.lines?(this.container.lines.push(this),this.pre=this.getPreLine(),this.top=this.pre.top+this.pre.height,this.left=this.container.contentSize.left):(this.top=this.container.contentSize.top,this.left=this.container.contentSize.left,this.container.lines=[this]),this.isInline=e.isInline(),this.container.line=this,this.outerWidth=e.parent&&e.parent.contentSize.width?e.parent.contentSize.width:1/0,this.add(e)},t.getPreLine=function(){return this.container.lines[this.container.lines.length-2]},t.canIEnter=function(e){return!((100*e.offsetSize.width+100*this.width)/100>this.outerWidth)||(this.closeLine(),!1)},t.closeLine=function(){delete this.container.line},t.add=function(e){this.ids.includes(e.id)||(this.ids.push(e.id),this.elements.push(e),this.refreshWidthHeight(e))},t.refreshWidthHeight=function(e){e.offsetSize.height>this.height&&(this.height=e.offsetSize.height),this.width+=e.offsetSize.width||0,(this.container.lineMaxWidth||0)<this.width&&(this.container.lineMaxWidth=this.width)},t.refreshXAlign=function(){if(this.isInline){var e=this.container.contentSize.width-this.width,t=this.container.style.textAlign;"center"===t?e/=2:"left"===t&&(e=0),this.offsetX=e}},t.getOffsetY=function(e){if(!e||!e.style)return 0;var t=(e.style||{}).verticalAlign;return t===d?this.height-e.contentSize.height:"middle"===t?(this.height-e.contentSize.height)/2:0},t.setIndent=function(e){var t=e.style.textIndent;if(t&&/^calc/.test(t)){var n=/^calc\((.+)\)$/.exec(t);if(n&&n[1]){var i=n[1].replace(/([^\s\(\+\-\*\/]+)\.(left|right|bottom|top|width|height)/g,(function(t){var n=t.split("."),i=n[0],r=n[1],a=e.parent.querySelector(i);if(a&&a.offsetSize){var o={right:a.offsetSize.left+a.offsetSize.width,bottom:a.offsetSize.top+a.offsetSize.height};return a.offsetSize[r]||o[r]||0}})),r=function e(t){t=t.trim();for(var n=new Array,i="+",r="",a=t.length,o=0;o<a;++o){if("."===t[o]||!isNaN(Number(t[o]))&&" "!==t[o])r+=t[o];else if("("===t[o]){for(var s=1,c=o;s>0;)"("===t[c+=1]&&(s+=1),")"===t[c]&&(s-=1);r="".concat(e(t.slice(o+1,c))),o=c}if(isNaN(Number(t[o]))&&"."!==t[o]||o===a-1){var u=parseFloat(r);switch(i){case"+":n.push(u);break;case"-":n.push(-u);break;case"*":n.push(n.pop()*u);break;case"/":n.push(n.pop()/u)}i=t[o],r=""}}for(var l=0;n.length;)l+=n.pop();return l}(i.replace(new RegExp(/-?[0-9]+(\.[0-9]+)?(rpx|px|%)/,"g"),T));e.style.textIndent=r}}},t.layout=function(e,t){var n=this;this.refreshXAlign(),this.pre?(this.top=this.pre.top+this.pre.height+this.offsetY,this.left=t+this.offsetX):(this.top=Math.max(this.top,this.container.contentSize.top,e)+this.offsetY,this.left=Math.max(this.left,this.container.contentSize.left,t)+this.offsetX),this.elements.forEach((function(e,t){n.setIndent(e);var i=n.elements[t-1],r=n.getOffsetY(e);e.style.top=n.top+r,e.style.left=i?i.offsetSize.left+i.offsetSize.width:n.left,e.getBoxPosition()}))},t.refreshLayout=function(){this.afterElements=this.afterElements.sort((function(e,t){return e.computedStyle.zIndex-t.computedStyle.zIndex})),this.beforeElements=this.beforeElements.sort((function(e,t){return e.computedStyle.zIndex-t.computedStyle.zIndex}))},e}(),G=((K={})["row"]={width:"width",contentWidth:"width",lineMaxWidth:"lineMaxWidth",left:"left",top:"top",height:"height",lineMaxHeight:"lineMaxHeight",marginLeft:"marginLeft"},K["column"]={width:"height",contentWidth:"height",lineMaxWidth:"lineMaxWidth",left:"top",top:"left",height:"width",lineMaxHeight:"lineMaxHeight",marginLeft:"marginTop"},K),Q=function(e){var t,n;function i(){var t;return E(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t=e.call(this)||this),"outerWidth",0),t.exactValue=0,t.flexTotal=0,t.width=0,t.key=null,t.flexDirection="row",t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,D(t,n);var r=i.prototype;return r.bind=function(e){this.container=e.parent,this.container.line=this,this.container.lines?(this.container.lines.push(this),this.pre=this.getPreLine(),this.top=this.pre.top+this.pre.height,this.left=this.container.contentSize.left):(this.top=this.container.contentSize.top,this.left=this.container.contentSize.left,this.container.lines=[this]),e.parent&&(this.flexDirection=e.parent.style.flexDirection,this.key=G[this.flexDirection]),this.initHeight(e),this.outerWidth=e.parent&&e.parent.contentSize[this.key.contentWidth]?e.parent.contentSize[this.key.contentWidth]:1/0,this.add(e)},r.add=function(e){this.ids.push(e.id);var t=e.style.flex;B(t)?this.flexTotal+=t:B(this.getWidth(e.style))&&(this.exactValue+=this.getWidth(e.offsetSize)),this.elements.push(e),this.refreshWidthHeight(e),e.next||this.closeLine()},r.closeLine=function(){this.calcFlex()},r.initHeight=function(e){this[this.key.height]=0},r.getWidth=function(e){return e[this.key.width]||0},r.getHeight=function(e){return e[this.key.height]||0},r.setWidth=function(e,t){e[this.key.width]=t},r.setHeight=function(e,t){e[this.key.height]=t},r.calcFlex=function(){var e=this,t=this.container.contentSize[this.key.contentWidth],n=0;this.elements.forEach((function(i){var r=i.style,a=i.contentSize,o=e.getWidth(r)||e.getWidth(a);B(r.flex)&&(o=r.flex/e.flexTotal*(t-e.exactValue)),e.setWidth(i.computedStyle,o),i.isFlexCalc=!0,delete i.line,delete i.lines,delete i.lineMaxWidth,i.getBoxWidthHeight(),n=Math.max(n,e.getHeight(i.offsetSize))})),this.setHeight(this,n)},r.refreshWidthHeight=function(e){var t=this.container.style.alignItems;t&&!e.style.alignSelf&&(e.style.alignSelf=t);var n=this.getHeight(e.offsetSize);n>this[this.key.height]&&(this.container[this.key.lineMaxHeight]=this[this.key.height]=n),this[this.key.width]+=this.getWidth(e.offsetSize);var i=Math.min(this.getWidth(this),!this.getWidth(this.container.contentSize)&&1/0);(this.container[this.key.lineMaxWidth]||0)<i&&(this.container[this.key.lineMaxWidth]=i)},r.refreshXAlign=function(){var e=this,t=this.elements.reduce((function(t,n){return t+e.getWidth(n.offsetSize)}),0),n=(this.outerWidth==1/0?0:this.outerWidth-t)||0,i=this.container.style.justifyContent;"center"===i?n/=2:"flex-start"===i?n=0:["space-between","space-around"].includes(i)&&(function(t,n){void 0===n&&(n=0),n/=e.elements.length+(t?-1:1),e.elements.forEach((function(i,r){var a;t&&!r||(i.style.margin?i.style.margin[e.key.marginLeft]+=n:i.style.margin=((a={})[e.key.marginLeft]=n,a),i.getBoxPosition())})),n=0}("space-between"==i,n),n=0),this.offsetX=n||0,this.refreshYAlign()},r.refreshYAlign=function(){var e=this;if(1==this.container.lines.length)return 0;var t=this.container.lines.reduce((function(t,n){return t+e.getHeight(n)}),0),n=this.container.style.alignItems,i=this.getHeight(this.container.contentSize);if("center"===n){var r=(i-t)/(this.container.lines.length+1);this.container.lines.forEach((function(e){e.offsetY=r}))}if("flex-end"===n){var a=i-t;this.container.lines[0].offsetY=a}},r.getOffsetY=function(e){if(this.container.lines.length>1)return 0;var t=e.style.alignSelf,n=this.getHeight(this.container.contentSize),i=n-this.getHeight(e.offsetSize);return"flex-end"===t?i:"center"===t?i/2:"stretch"===t?(i&&e.name==g&&(e.style[this.key.width]=this.getWidth(e.offsetSize),e.style[this.key.height]=n,delete e.line,delete e.lines,e.getBoxWidthHeight()),0):0},r.layout=function(e,t){var n=this;this.refreshXAlign(),this.pre?(this.top=this.pre.top+this.pre.height+this.offsetY,this.left=t+this.offsetX):(this.top=Math.max(this.top,this.container.contentSize.top,e)+this.offsetY,this.left=Math.max(this.left,this.container.contentSize.left,t)+this.offsetX),this.elements.forEach((function(e,t){n.setIndent(e);var i=n.elements[t-1],r=n.getOffsetY(e);e.style[n.key.top]=n[n.key.top]+r,e.style[n.key.left]=i?i.offsetSize[n.key.left]+n.getWidth(i.offsetSize):n[n.key.left],e.getBoxPosition()}))},i}(Y),X=v,Z=g,ee=x,te=0,ne={left:null,top:null,width:null,height:null},ie=new Map,re=function(){function e(e,t,n,i){var a=this;E(this,"id",te++),E(this,"style",{left:null,top:null,width:null,height:null}),E(this,"computedStyle",{}),E(this,"originStyle",{}),E(this,"children",{}),E(this,"layoutBox",L({},ne)),E(this,"contentSize",L({},ne)),E(this,"clientSize",L({},ne)),E(this,"borderSize",L({},ne)),E(this,"offsetSize",L({},ne)),this.ctx=i,this.root=n,t&&(this.parent=t),this.name=e.type||e.name,this.attributes=this.getAttributes(e);var o=function(e,t){var n,i=["color","fontSize","lineHeight","verticalAlign","fontWeight","textAlign"],a=e.type,o=void 0===a?"view":a,s=e.styles,c=void 0===s?{}:s,l=(t||{}).computedStyle,d=Object.assign({},k);if([q,j,U].includes(o)&&!c.display&&(d.display="inline-block"),l)for(var f=0;f<i.length;f++){var h=i[f];(c[h]||l[h])&&(c[h]=c[(n=h,n.replace(/([A-Z])/g,"-$1").toLowerCase())]||c[h]||l[h])}for(var p=function(e){var t,n,i,a,s=c[e];if(/-/.test(e)&&(e=V(e),d[e]=s),/^(box|text)?shadow$/i.test(e)){var l=[];return s.replace(/((-?\d+(rpx|px|vw|vh)?\s+?){3})(.+)/,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];l=e[1].match(/-?\d+(rpx|px|vw|vh)?/g).map((function(e){return T(e)})).concat(e[4])})),/^text/.test(e)?d.textShadow=l:d.boxShadow=l,"continue"}if(/^border/i.test(e)&&!/radius$/i.test(e)){var f=e.match(/^border([BTRLa-z]+)?/)[0],h=e.match(/[W|S|C][a-z]+/),p=s.replace(/([\(,])\s+|\s+([\),])/g,"$1$2").split(" ").map((function(e){return/^\d/.test(e)?T(e,""):e}));return d[f]||(d[f]={}),1==p.length&&h?d[f][f+h[0]]=p[0]:d[f]=((t={})[f+"Width"]=P(p[0])?p[0]:0,t[f+"Style"]=p[1]||"solid",t[f+"Color"]=p[2]||"black",t),"continue"}if(/^background(color)?$/i.test(e))return d.backgroundColor=s,"continue";if(/^objectPosition$/i.test(e))return d[e]=s.split(" "),"continue";if(/^backgroundPosition$/i.test(e))return d[e]=s.split(" "),"continue";if(/padding|margin|radius/i.test(e)){var g=/radius$/i.test(e),v="borderRadius",m=g?v:e.match(/[a-z]+/)[0],y=function(e,t){return"border".concat(e).concat(t,"Radius")},b=[0,0,0,0].map((function(e,t){return g?[y(u[0],u[3]),y(u[0],u[1]),y(u[2],u[1]),y(u[2],u[3])][t]:m+u[t]}));if("padding"===e||"margin"===e||/^(border)?radius$/i.test(e)){p="".concat(s).split(" ").map((function(t){return/^-?\d+(rpx|px|vh|vw)?$/.test(t)?T(t):"margin"!=e&&/auto/.test(t)?0:t}),[])||[0];var x=g?v:e,w=p[0],k=p[1],_=p[2],S=p[3];d[x]=((n={})[b[0]]=z(w)?0:w,n[b[1]]=P(k)||z(k)?k:w,n[b[2]]=z(P(_)?_:w)?0:P(_)?_:w,n[b[3]]=P(S)?S:null!=k?k:w,n)}else"object"==(0,r.default)(d[m])||(d[m]=((i={})[b[0]]=d[m]||0,i[b[1]]=d[m]||0,i[b[2]]=d[m]||0,i[b[3]]=d[m]||0,i)),d[m][e]="margin"==m&&z(s)||N(s)?s:T(s);return"continue"}if(/^transform$/i.test(e))return d[e]={},s.replace(/([a-zA-Z]+)\(([0-9,-\.%rpxdeg\s]+)\)/g,(function(t,n,i){var r=i.split(",").map((function(e){return e.replace(/(^\s*)|(\s*$)/g,"")})),a=function(e,t){return e.includes("deg")?1*e:t&&!N(t)?T(e,t):e};n.includes("matrix")?d[e][n]=r.map((function(e){return 1*e})):n.includes("rotate")?d[e][n]=1*i.match(/^-?\d+(\.\d+)?/)[0]:/[X, Y]/.test(n)?d[e][n]=/[X]/.test(n)?a(r[0],c.width):a(r[0],c.height):(d[e][n+"X"]=a(r[0],c.width),d[e][n+"Y"]=a(r[1]||r[0],c.height))})),"continue";if(/^font$/i.test(e)&&console.warn("font 不支持简写"),/^textindent/i.test(e)&&(d[e]=/^calc/.test(s)?s:T(s)),/^textstroke/i.test(e)){var I=e.match(/color|width|type$/i),C=(f="textStroke",s.split(" ").map((function(e){return/^\d+(rpx|px|vh|vw)?$/.test(e)?T(e):e})));return I?d[f]?d[f][I[0]]=C[0]:d[f]=((a={})[I[0]]=C[0],a):d[f]={width:C[0],color:C[1],type:C[2]},"continue"}/^left|top$/i.test(e)&&![W,H].includes(c.position)?d[e]=0:d[e]=/^-?[\d\.]+(px|rpx|vw|vh)?$/.test(s)?T(s):/em$/.test(s)&&o==q?T(s,c.fontSize):s},g=0,v=Object.keys(c);g<v.length;g++)p(v[g]);return d}(e,t);this.isAbsolute=o.position==ee,this.isFixed="fixed"==o.position,this.originStyle=o,this.styles=e.styles,Object.keys(o).forEach((function(e){Object.defineProperty(a.style,e,{configurable:!0,enumerable:!0,get:function(){return o[e]},set:function(t){o[e]=t}})}));var s={contentSize:L({},this.contentSize),clientSize:L({},this.clientSize),borderSize:L({},this.borderSize),offsetSize:L({},this.offsetSize)};Object.keys(s).forEach((function(e){Object.keys(a[e]).forEach((function(t){Object.defineProperty(a[e],t,{configurable:!0,enumerable:!0,get:function(){return s[e][t]},set:function(n){s[e][t]=n}})}))})),this.computedStyle=this.style}var t=e.prototype;return t.add=function(e){e.parent=this,this.children[e.id]=e},t.getChildren=function(){var e=this;return Object.keys(this.children).map((function(t){return e.children[t]}))},t.prev=function(e){void 0===e&&(e=this);var t=e.parent.getChildren();return t[t.findIndex((function(t){return t.id==e.id}))-1]},t.querySelector=function(e){var t=this.getChildren();if("string"!=typeof e)return null;var n=t.find((function(t){var n=t.id,i=t.attributes;return n==e||i&&i.uid==e}));return n||this.parent&&this.parent.querySelector&&this.parent.querySelector(e)||null},t.getLineRect=function(e,t){var n=t?t.lines:this.parent&&this.parent.lines;return n&&n.find((function(t){return t.ids.includes(e)}))||{width:0,height:0}},t.setPosition=function(e,t){var n={left:"width",top:"height",right:"width",bottom:"height"};Object.keys(n).forEach((function(i){var r=i==l?"left":"top";[l,d].includes(i)&&void 0!==e.style[i]&&!P(e.originStyle[r])?e.style[r]=t[n[i]]-e.offsetSize[n[i]]-T(e.style[i],t[n[i]]):e.style[i]=T(e.style[i],t[n[i]])}))},t.getAttributes=function(e){var t=e.attributes,n=void 0===t?{}:t,i=e.uid,r=e.url,a=e.src,o=e.replace,s=e.text;return i&&(n.uid=i),(r||a)&&(n.src=n.src||r||a),o&&(n.replace=o),s&&(n.text=s),n},t.getOffsetSize=function(e,t,n){void 0===n&&(n=f[3]);var i=t||{},r=i.margin,a=(r=void 0===r?{}:r).marginLeft,o=void 0===a?0:a,s=r.marginTop,c=void 0===s?0:s,u=r.marginRight,l=void 0===u?0:u,d=r.marginBottom,h=void 0===d?0:d,p=i.padding,g=(p=void 0===p?{}:p).paddingLeft,v=void 0===g?0:g,m=p.paddingTop,y=void 0===m?0:m,b=p.paddingRight,x=void 0===b?0:b,w=p.paddingBottom,k=void 0===w?0:w,_=i.border,S=(_=void 0===_?{}:_).borderWidth,I=void 0===S?0:S,C=i.borderTop,P=(C=void 0===C?{}:C).borderTopWidth,T=void 0===P?I:P,O=i.borderBottom,A=(O=void 0===O?{}:O).borderBottomWidth,M=void 0===A?I:A,E=i.borderRight,L=(E=void 0===E?{}:E).borderRightWidth,D=void 0===L?I:L,R=i.borderLeft,F=(R=void 0===R?{}:R).borderLeftWidth,B=void 0===F?I:F,z=o<0&&l<0?Math.abs(o+l):0,N=c<0&&h<0?Math.abs(c+h):0,j=o>=0&&l<0,q=c>=0&&h<0;return n==f[0]&&(this[n].left=e.left+o+v+B+(j?2*-l:0),this[n].top=e.top+c+y+T+(q?2*-h:0),this[n].width=e.width+(this[n].widthAdd?0:z),this[n].height=e.height+(this[n].heightAdd?0:N),this[n].widthAdd=z,this[n].heightAdd=N),n==f[1]&&(this[n].left=e.left+o+B+(j<0?-l:0),this[n].top=e.top+c+T+(q?-h:0),this[n].width=e.width+v+x,this[n].height=e.height+y+k),n==f[2]&&(this[n].left=e.left+o+B/2+(j<0?-l:0),this[n].top=e.top+c+T/2+(q?-h:0),this[n].width=e.width+v+x+B/2+D/2,this[n].height=e.height+y+k+M/2+T/2),n==f[3]&&(this[n].left=e.left+(j<0?-l:0),this[n].top=e.top+(q?-h:0),this[n].width=e.width+v+x+B+D+o+l,this[n].height=e.height+y+k+M+T+h+c),this[n]},t.layoutBoxUpdate=function(e,t,n,i){var r=this;if(void 0===n&&(n=-1),"border-box"==t.boxSizing){var a=t||{},o=a.border,s=(o=void 0===o?{}:o).borderWidth,c=void 0===s?0:s,u=a.borderTop,l=(u=void 0===u?{}:u).borderTopWidth,d=void 0===l?c:l,h=a.borderBottom,p=(h=void 0===h?{}:h).borderBottomWidth,g=void 0===p?c:p,v=a.borderRight,m=(v=void 0===v?{}:v).borderRightWidth,y=void 0===m?c:m,b=a.borderLeft,x=(b=void 0===b?{}:b).borderLeftWidth,w=void 0===x?c:x,k=a.padding,_=(k=void 0===k?{}:k).paddingTop,S=void 0===_?0:_,I=k.paddingRight,C=void 0===I?0:I,P=k.paddingBottom,T=void 0===P?0:P,O=k.paddingLeft,A=void 0===O?0:O;n||(e.width-=A+C+y+w),1!==n||i||(e.height-=S+T+d+g)}this.layoutBox&&(f.forEach((function(n){return r.layoutBox[n]=r.getOffsetSize(e,t,n)})),this.layoutBox=Object.assign({},this.layoutBox,this.layoutBox.borderSize))},t.getBoxPosition=function(){var e=this.computedStyle,t=this.fixedLine,n=this.lines,i=e.left,r=void 0===i?0:i,a=e.top,o=void 0===a?0:a,s=L({},this.contentSize,{left:r,top:o}),c=this.contentSize.top-this.offsetSize.top,u=this.contentSize.left-this.offsetSize.left;if(this.root.fixedLine&&!this.root.isDone){this.root.isDone=!0;for(var l,d=F(this.root.fixedLine.elements);!(l=d()).done;){var f=l.value;f.setPosition(f,this.root.offsetSize),f.getBoxPosition()}}if(t)for(var h,p=F(t.elements);!(h=p()).done;){var g=h.value,v=L({},this.borderSize,{left:r,top:o});g.setPosition(g,v);var m=this.borderSize.top-this.offsetSize.top,y=this.borderSize.left-this.offsetSize.left;g.style.left+=r+y,g.style.top+=o+m,g.getBoxPosition()}if(n)for(var b,x=F(n);!(b=x()).done;)b.value.layout(s.top+c,s.left+u);return this.layoutBoxUpdate(s,e),this.layoutBox},t.getBoxState=function(e,t){return this.isBlock(e)||this.isBlock(t)},t.isBlock=function(e){return void 0===e&&(e=this),e&&"block"==e.style.display},t.isFlex=function(e){return void 0===e&&(e=this),e&&"flex"==e.style.display},t.isInFlow=function(){return!(this.isAbsolute||this.isFixed)},t.inFlexBox=function(e){return void 0===e&&(e=this),!!e.isInFlow()&&!!e.parent&&(!(!e.parent||"flex"!==e.parent.style.display)||void 0)},t.isInline=function(e){return void 0===e&&(e=this),e&&"inline-block"==e.style.display},t.contrastSize=function(e,t,n){var i=e;return n&&(i=Math.min(i,n)),t&&(i=Math.max(i,t)),i},t.measureText=function(e,t){var n=this.ctx.measureText(e),i=n.width,r=n.actualBoundingBoxAscent,a=n.actualBoundingBoxDescent;return{ascent:r,descent:a,width:i,fontHeight:r+a||.7*t+1}},t.getParentSize=function(e,t){if(void 0===e&&(e=this),void 0===t&&(t=!1),e&&e.parent){if(e.parent.contentSize.width)return e.parent.contentSize;if(t)return this.getParentSize(e.parent,t)}return null},t.getBoxWidthHeight=function(){var e=this,t=this.name,n=this.computedStyle,i=this.attributes,r=this.parent,a=void 0===r?{}:r,o=this.ctx,s=this.getChildren(),c=n.left,u=void 0===c?0:c,l=n.top,d=void 0===l?0:l,f=n.bottom,h=n.right,p=n.width,g=void 0===p?0:p,v=n.minWidth,m=n.maxWidth,y=n.minHeight,b=n.maxHeight,x=n.height,w=void 0===x?0:x,k=n.fontSize,_=n.fontWeight,S=n.fontFamily,I=n.fontStyle,C=n.position;n.textIndent;var P=n.lineClamp,O=n.lineHeight,A=n.padding,M=void 0===A?{}:A,E=n.margin,L=void 0===E?{}:E,D=n.border,R=(D=void 0===D?{}:D).borderWidth,F=void 0===R?0:R,B=n.borderRight,j=(B=void 0===B?{}:B).borderRightWidth,q=void 0===j?F:j,U=n.borderLeft,W=(U=void 0===U?{}:U).borderLeftWidth,H=void 0===W?F:W,V=a.contentSize&&a.contentSize.width,$=a.contentSize&&a.contentSize.height;if(N(g)&&V&&(g=T(g,V)),N(g)&&!V&&(g=null),N(w)&&$&&(w=T(w,$)),N(w)&&!$&&(w=null),N(v)&&V&&(v=T(v,V)),N(m)&&V&&(m=T(m,V)),N(y)&&$&&(y=T(y,$)),N(b)&&$&&(b=T(b,$)),n.padding&&V)for(var K in n.padding)Object.hasOwnProperty.call(M,K)&&(M[K]=T(M[K],V));var J=M.paddingRight,G=void 0===J?0:J,te=M.paddingLeft,ne=void 0===te?0:te;if(n.margin&&[L.marginLeft,L.marginRight].includes("auto"))if(g){var re=V&&V-g-G-ne-H-q||0;L.marginLeft==L.marginRight?L.marginLeft=L.marginRight=re/2:z(L.marginLeft)?L.marginLeft=re:L.marginRight=re}else L.marginLeft=L.marginRight=0;var ae=L.marginRight,oe=void 0===ae?0:ae,se=L.marginLeft,ce={width:g,height:w,left:0,top:0},ue=ne+G+H+q+(void 0===se?0:se)+oe;if(this.offsetWidth=ue,t==X&&!this.attributes.widths){var le=i.text||"";o.save(),o.setFonts({fontFamily:S,fontSize:k,fontWeight:_,fontStyle:I}),le.length,"\n"==le&&(le="",this.isBr=!0),(""+le).split("\n").map((function(t){var n=Array.from(t).map((function(t){var n=""+(/^[\u4e00-\u9fa5]+$/.test(t)?"cn":t)+S+k+_+I,i=ie.get(n);if(i)return{width:i,text:t};var r=e.measureText(t,k).width;return ie.set(n,r),{width:r,text:t}})),i=e.measureText(t,k),r=i.fontHeight,a=i.ascent,o=i.descent;e.attributes.fontHeight=r,e.attributes.ascent=a,e.attributes.descent=o,e.attributes.widths||(e.attributes.widths=[]),e.attributes.widths.push({widths:n,total:n.reduce((function(e,t){return e+t.width}),0)})})),o.restore()}if("image"==t&&null==g){var de=i.width,fe=i.height;ce.width=this.contrastSize(Math.round(de*w/fe)||0,v,m),this.layoutBoxUpdate(ce,n,0)}if(t==X&&null==g){var he=this.attributes.widths,pe=Math.max.apply(Math,he.map((function(e){return e.total})));a&&V>0&&(pe>V||this.isBlock(this))&&!this.isAbsolute&&!this.isFixed&&(pe=V),ce.width=this.contrastSize(pe,v,m),this.layoutBoxUpdate(ce,n,0)}if(t==X&&(a.style.flex||!this.attributes.lines)){var ge=this.attributes.widths.length;this.attributes.widths.forEach((function(e){return e.widths.reduce((function(e,t,n){return e+t.width>ce.width?(ge++,t.width):e+t.width}),0)})),ge=P&&ge>P?P:ge,this.attributes.lines=ge}if("image"==t&&null==w){var ve=i.width,me=i.height;i.text,ce.height=this.contrastSize(T(ce.width*me/ve)||0,y,b),this.layoutBoxUpdate(ce,n,1)}t==X&&null==w&&(O=T(O,k),ce.height=this.contrastSize(T(this.attributes.lines*O),y,b),this.layoutBoxUpdate(ce,n,1,!0)),!g&&a&&a.children&&V&&(!this.isFlex(a)||a.isFlexCalc)&&([Z,X].includes(t)&&this.isFlex()||t==Z&&this.isBlock(this)&&this.isInFlow())&&(ce.width=this.contrastSize(V-(a.isFlexCalc?0:ue),v,m),this.layoutBoxUpdate(ce,n)),g&&!N(g)&&(ce.width=this.contrastSize(g,v,m),this.layoutBoxUpdate(ce,n,0)),w&&!N(w)&&(ce.height=this.contrastSize(ce.height,y,b),this.layoutBoxUpdate(ce,n,1));var ye=0;if(s.length){var be=null,xe=!1;s.forEach((function(t,i){t.getBoxWidthHeight();var r=s[i+1];if(r&&r.isInFlow()&&(t.next=r),!e.line||!e.line.ids.includes(t.id))if(t.isInFlow()&&!t.inFlexBox()){var a=e.getBoxState(be,t);if(t.isBr)return xe=!0;e.line&&e.line.canIEnter(t)&&!a&&!xe?e.line.add(t):(xe=!1,(new Y).bind(t)),be=t}else t.inFlexBox()?e.line&&(e.line.canIEnter(t)||"nowrap"==n.flexWrap)?e.line.add(t):(new Q).bind(t):t.isFixed?e.root.fixedLine?e.root.fixedLine.fixedAdd(t):(new Y).fixedBind(t):e.fixedLine?e.fixedLine.fixedAdd(t):(new Y).fixedBind(t,1)})),this.lines&&(ye=this.lines.reduce((function(e,t){return e+t.height}),0))}var we=0,ke=0;if(!g&&(this.isAbsolute||this.isFixed)&&V){var _e=C==ee?V:this.root.width,Se=_e-(N(u)?T(u,_e):u)-(N(h)?T(h,_e):h);we=n.left?Se:this.lineMaxWidth}if(!w&&(null!=d?d:this.isAbsolute||this.isFixed&&$)){var Ie=C==ee?$:this.root.height,Ce=Ie-(N(d)?T(d,Ie):d)-(N(f)?T(f,Ie):f);ke=n.top?Ce:0}if(g&&!N(g)||ce.width||(ce.width=we||this.contrastSize((this.isBlock(this)&&!this.isInFlow()?V||a.lineMaxWidth:this.lineMaxWidth)||this.lineMaxWidth,v,m),this.layoutBoxUpdate(ce,n,0)),w||!ye&&!ke||(ce.height=ke||this.contrastSize(ye,y,b),this.layoutBoxUpdate(ce,n)),n.borderRadius&&this.borderSize&&this.borderSize.width)for(var K in n.borderRadius)Object.hasOwnProperty.call(n.borderRadius,K)&&(n.borderRadius[K]=T(n.borderRadius[K],this.borderSize.width));return this.layoutBox},t.layout=function(){return this.getBoxWidthHeight(),this.root.offsetSize=this.offsetSize,this.root.contentSize=this.contentSize,this.getBoxPosition(),this.offsetSize},e}(),ae=function(){var e,t,n,i,r,a,o=[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28],s=[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177],c=[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],u=[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],l=[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175],d=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],f=[],h=[],p=[],g=[],v=[],m=2;function y(e,t){var n;e>t&&(n=e,e=t,t=n),n=t,n*=t,n+=t,n>>=1,g[n+=e]=1}function b(e,n){var i;for(p[e+t*n]=1,i=-2;i<2;i++)p[e+i+t*(n-2)]=1,p[e-2+t*(n+i+1)]=1,p[e+2+t*(n+i)]=1,p[e+i+1+t*(n+2)]=1;for(i=0;i<2;i++)y(e-1,n+i),y(e+1,n-i),y(e-i,n-1),y(e+i,n+1)}function x(e){for(;e>=255;)e=((e-=255)>>8)+(255&e);return e}var w=[];function k(e,t,n,i){var r,a,o;for(r=0;r<i;r++)f[n+r]=0;for(r=0;r<t;r++){if(255!=(o=l[f[e+r]^f[n]]))for(a=1;a<i;a++)f[n+a-1]=f[n+a]^d[x(o+w[i-a])];else for(a=n;a<n+i;a++)f[a]=f[a+1];f[n+i-1]=255==o?0:d[x(o+w[0])]}}function _(e,t){var n;return e>t&&(n=e,e=t,t=n),n=t,n+=t*t,n>>=1,g[n+=e]}function S(e){var n,i,r,a;switch(e){case 0:for(i=0;i<t;i++)for(n=0;n<t;n++)n+i&1||_(n,i)||(p[n+i*t]^=1);break;case 1:for(i=0;i<t;i++)for(n=0;n<t;n++)1&i||_(n,i)||(p[n+i*t]^=1);break;case 2:for(i=0;i<t;i++)for(r=0,n=0;n<t;n++,r++)3==r&&(r=0),r||_(n,i)||(p[n+i*t]^=1);break;case 3:for(a=0,i=0;i<t;i++,a++)for(3==a&&(a=0),r=a,n=0;n<t;n++,r++)3==r&&(r=0),r||_(n,i)||(p[n+i*t]^=1);break;case 4:for(i=0;i<t;i++)for(r=0,a=i>>1&1,n=0;n<t;n++,r++)3==r&&(r=0,a=!a),a||_(n,i)||(p[n+i*t]^=1);break;case 5:for(a=0,i=0;i<t;i++,a++)for(3==a&&(a=0),r=0,n=0;n<t;n++,r++)3==r&&(r=0),(n&i&1)+!(!r|!a)||_(n,i)||(p[n+i*t]^=1);break;case 6:for(a=0,i=0;i<t;i++,a++)for(3==a&&(a=0),r=0,n=0;n<t;n++,r++)3==r&&(r=0),(n&i&1)+(r&&r==a)&1||_(n,i)||(p[n+i*t]^=1);break;case 7:for(a=0,i=0;i<t;i++,a++)for(3==a&&(a=0),r=0,n=0;n<t;n++,r++)3==r&&(r=0),(r&&r==a)+(n+i&1)&1||_(n,i)||(p[n+i*t]^=1)}}function I(e){var t,n=0;for(t=0;t<=e;t++)v[t]>=5&&(n+=3+v[t]-5);for(t=3;t<e-1;t+=2)v[t-2]==v[t+2]&&v[t+2]==v[t-1]&&v[t-1]==v[t+1]&&3*v[t-1]==v[t]&&(0==v[t-3]||t+3>e||3*v[t-3]>=4*v[t]||3*v[t+3]>=4*v[t])&&(n+=40);return n}function C(){var e,n,i,r,a,o=0,s=0;for(n=0;n<t-1;n++)for(e=0;e<t-1;e++)(p[e+t*n]&&p[e+1+t*n]&&p[e+t*(n+1)]&&p[e+1+t*(n+1)]||!(p[e+t*n]||p[e+1+t*n]||p[e+t*(n+1)]||p[e+1+t*(n+1)]))&&(o+=3);for(n=0;n<t;n++){for(v[0]=0,i=r=e=0;e<t;e++)(a=p[e+t*n])==r?v[i]++:v[++i]=1,s+=(r=a)?1:-1;o+=I(i)}s<0&&(s=-s);var c=s,u=0;for(c+=c<<2,c<<=1;c>t*t;)c-=t*t,u++;for(o+=10*u,e=0;e<t;e++){for(v[0]=0,i=r=n=0;n<t;n++)(a=p[e+t*n])==r?v[i]++:v[++i]=1,r=a;o+=I(i)}return o}var P=null;return{api:{get ecclevel(){return m},set ecclevel(e){m=e},get size(){return _size},set size(e){_size=e},get canvas(){return P},set canvas(e){P=e},getFrame:function(v){return function(v){var I,P,T,O,A,M,E,L;O=v.length,e=0;do{if(e++,T=4*(m-1)+16*(e-1),n=u[T++],i=u[T++],r=u[T++],a=u[T],O<=(T=r*(n+i)+i-3+(e<=9)))break}while(e<40);for(t=17+4*e,A=r+(r+a)*(n+i)+i,O=0;O<A;O++)h[O]=0;for(f=v.slice(0),O=0;O<t*t;O++)p[O]=0;for(O=0;O<(t*(t+1)+1)/2;O++)g[O]=0;for(O=0;O<3;O++){for(T=0,P=0,1==O&&(T=t-7),2==O&&(P=t-7),p[P+3+t*(T+3)]=1,I=0;I<6;I++)p[P+I+t*T]=1,p[P+t*(T+I+1)]=1,p[P+6+t*(T+I)]=1,p[P+I+1+t*(T+6)]=1;for(I=1;I<5;I++)y(P+I,T+1),y(P+1,T+I+1),y(P+5,T+I),y(P+I+1,T+5);for(I=2;I<4;I++)p[P+I+t*(T+2)]=1,p[P+2+t*(T+I+1)]=1,p[P+4+t*(T+I)]=1,p[P+I+1+t*(T+4)]=1}if(e>1)for(O=o[e],P=t-7;;){for(I=t-7;I>O-3&&(b(I,P),!(I<O));)I-=O;if(P<=O+9)break;b(6,P-=O),b(P,6)}for(p[8+t*(t-8)]=1,P=0;P<7;P++)y(7,P),y(t-8,P),y(7,P+t-7);for(I=0;I<8;I++)y(I,7),y(I+t-8,7),y(I,t-8);for(I=0;I<9;I++)y(I,8);for(I=0;I<8;I++)y(I+t-8,8),y(8,I);for(P=0;P<7;P++)y(8,P+t-7);for(I=0;I<t-14;I++)1&I?(y(8+I,6),y(6,8+I)):(p[8+I+6*t]=1,p[6+t*(8+I)]=1);if(e>6)for(O=s[e-7],T=17,I=0;I<6;I++)for(P=0;P<3;P++,T--)1&(T>11?e>>T-12:O>>T)?(p[5-I+t*(2-P+t-11)]=1,p[2-P+t-11+t*(5-I)]=1):(y(5-I,2-P+t-11),y(2-P+t-11,5-I));for(P=0;P<t;P++)for(I=0;I<=P;I++)p[I+t*P]&&y(I,P);for(A=f.length,M=0;M<A;M++)h[M]=f.charCodeAt(M);if(f=h.slice(0),A>=(I=r*(n+i)+i)-2&&(A=I-2,e>9&&A--),M=A,e>9){for(f[M+2]=0,f[M+3]=0;M--;)O=f[M],f[M+3]|=255&O<<4,f[M+2]=O>>4;f[2]|=255&A<<4,f[1]=A>>4,f[0]=64|A>>12}else{for(f[M+1]=0,f[M+2]=0;M--;)O=f[M],f[M+2]|=255&O<<4,f[M+1]=O>>4;f[1]|=255&A<<4,f[0]=64|A>>4}for(M=A+3-(e<10);M<I;)f[M++]=236,f[M++]=17;for(w[0]=1,M=0;M<a;M++){for(w[M+1]=1,E=M;E>0;E--)w[E]=w[E]?w[E-1]^d[x(l[w[E]]+M)]:w[E-1];w[0]=d[x(l[w[0]]+M)]}for(M=0;M<=a;M++)w[M]=l[w[M]];for(T=I,P=0,M=0;M<n;M++)k(P,r,T,a),P+=r,T+=a;for(M=0;M<i;M++)k(P,r+1,T,a),P+=r+1,T+=a;for(P=0,M=0;M<r;M++){for(E=0;E<n;E++)h[P++]=f[M+E*r];for(E=0;E<i;E++)h[P++]=f[n*r+M+E*(r+1)]}for(E=0;E<i;E++)h[P++]=f[n*r+M+E*(r+1)];for(M=0;M<a;M++)for(E=0;E<n+i;E++)h[P++]=f[I+M+E*a];for(f=h,I=P=t-1,T=A=1,L=(r+a)*(n+i)+i,M=0;M<L;M++)for(O=f[M],E=0;E<8;E++,O<<=1){128&O&&(p[I+t*P]=1);do{A?I--:(I++,T?0!=P?P--:(T=!T,6==(I-=2)&&(I--,P=9)):P!=t-1?P++:(T=!T,6==(I-=2)&&(I--,P-=8))),A=!A}while(_(I,P))}for(f=p.slice(0),O=0,P=3e4,T=0;T<8&&(S(T),(I=C())<P&&(P=I,O=T),7!=O);T++)p=f.slice(0);for(O!=T&&S(O),P=c[O+(m-1<<3)],T=0;T<8;T++,P>>=1)1&P&&(p[t-1-T+8*t]=1,T<6?p[8+t*T]=1:p[8+t*(T+1)]=1);for(T=0;T<7;T++,P>>=1)1&P&&(p[8+t*(t-7+T)]=1,T?p[6-T+8*t]=1:p[7+8*t]=1);return p}(v)},utf16to8:function(e){var t,n,i,r;for(t="",i=e.length,n=0;n<i;n++)(r=e.charCodeAt(n))>=1&&r<=127?t+=e.charAt(n):r>2047?(t+=String.fromCharCode(224|r>>12&15),t+=String.fromCharCode(128|r>>6&63),t+=String.fromCharCode(128|r>>0&63)):(t+=String.fromCharCode(192|r>>6&31),t+=String.fromCharCode(128|r>>0&63));return t},draw:function(e,n,i,r,a){n.drawView(i,r);var o=n.ctx,s=i.contentSize,c=s.width,u=s.height,l=s.left,d=s.top;r.borderRadius,r.backgroundColor;var f=r.color,h=void 0===f?"#000000":f;if(r.border,i.contentSize.left,i.borderSize.left,i.contentSize.top,i.borderSize.top,m=a||m,o){o.save(),n.setOpacity(r),n.setTransform(i,r);var p=Math.min(c,u);e=this.utf16to8(e);var g=this.getFrame(e),v=p/t;o.setFillStyle(h);for(var y=0;y<t;y++)for(var b=0;b<t;b++)g[b*t+y]&&o.fillRect(l+v*y,d+v*b,v,v);o.restore(),n.setBorder(i,r)}else console.warn("No canvas provided to draw QR code in!")}}}}(),oe=m,se=v,ce=y,ue=g,le=h.TOP,de=h.MIDDLE,fe=h.BOTTOM,he=p.LEFT,pe=p.CENTER,ge=p.RIGHT,ve=function(){function e(e){var t,n,i=this;this.v="1.9.5.1",this.id=null,this.pixelRatio=1,this.width=0,this.height=0,this.sleep=1e3/30,this.count=0,this.isRate=!1,this.isDraw=!0,this.isCache=!0,this.fixed="",this.useCORS=!1,this.performance=!1,this.imageBus=[],this.createImage=function(e,t){return new Promise((function(n,r){var a=null;window||i.canvas.createImage?(a=i.canvas&&i.canvas.createImage?i.canvas.createImage():new Image,t&&a.setAttribute("crossOrigin","Anonymous"),a.src=e,a.onload=function(){n({width:a.naturalWidth||a.width,height:a.naturalHeight||a.height,path:a,src:this.src})},a.onerror=function(e){r(e)}):r({fail:"getImageInfo fail",src:e})}))},this.options=e,Object.assign(this,e),this.ctx=(t=e.context,n={get:function(e,n){if("setFonts"===n)return function(e){var n=e.fontFamily,i=void 0===n?"sans-serif":n,r=e.fontSize,a=void 0===r?14:r,o=e.fontWeight,s=void 0===o?"normal":o,u=e.fontStyle,l=void 0===u?"normal":u;S==c.MP_TOUTIAO&&(s="bold"==s?"bold":"",l="italic"==l?"italic":""),t.font="".concat(l," ").concat(s," ").concat(Math.round(a),"px ").concat(i)};if(!t.draw||!t.setFillStyle){if("setFillStyle"===n)return function(e){t.fillStyle=e};if("setStrokeStyle"===n)return function(e){t.strokeStyle=e};if("setLineWidth"===n)return function(e){t.lineWidth=e};if("setLineCap"===n)return function(e){t.lineCap=e};if("setFontSize"===n)return function(e){t.font="".concat(String(e),"px sans-serif")};if("setGlobalAlpha"===n)return function(e){t.globalAlpha=e};if("setLineJoin"===n)return function(e){t.lineJoin=e};if("setTextAlign"===n)return function(e){t.textAlign=e};if("setMiterLimit"===n)return function(e){t.miterLimit=e};if("setShadow"===n)return function(e,n,i,r){t.shadowOffsetX=e,t.shadowOffsetY=n,t.shadowBlur=i,t.shadowColor=r};if("setTextBaseline"===n)return function(e){t.textBaseline=e};if("createCircularGradient"===n)return function(){};if("draw"===n)return function(){};if("function"==typeof t[n])return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t[n].apply(t,e)}}return e[n]},set:function(e,n,i){return t[n]=i,!0}},new Proxy(t,n)),this.progress=0,this.root={width:e.width,height:e.height,fontSizeRate:1,fixedLine:null},this.size=this.root;var r=0;Object.defineProperty(this,"progress",{configurable:!0,set:function(e){r=e,i.lifecycle("onProgress",e/i.count)},get:function(){return r||0}})}return e.prototype.lifecycle=function(e,t){this.options.listen&&this.options.listen[e]&&this.options.listen[e](t)},e.prototype.setContext=function(e){e&&(this.ctx=e)},e.prototype.init=function(){if(this.canvas.height||c.WEB==S){this.ctx.setTransform(1,0,0,1,0,0);var e=this.size.height*this.pixelRatio,t=this.size.width*this.pixelRatio;this.canvas.height=e,this.canvas.width=t,this.ctx.scale(this.pixelRatio,this.pixelRatio)}},e.prototype.clear=function(){this.ctx.clearRect(0,0,this.size.width,this.size.height)},e.prototype.clipPath=function(e,t,n,i,r,a,o){void 0===a&&(a=!1),void 0===o&&(o=!1);var s=this.ctx;if(/polygon/.test(r)){var c=r.match(/-?\d+(rpx|px|%)?\s+-?\d+(rpx|px|%)?/g)||[];s.beginPath(),c.map((function(r){var a=r.split(" "),o=a[0],s=a[1];return[T(o,n)+e,T(s,i)+t]})).forEach((function(e,t){0==t?s.moveTo(e[0],e[1]):s.lineTo(e[0],e[1])})),s.closePath(),o&&s.stroke(),a&&s.fill()}},e.prototype.roundRect=function(e,t,n,i,r,a,o){if(void 0===a&&(a=!1),void 0===o&&(o=!1),!(r<0)){var s=this.ctx;if(s.beginPath(),r){var c=r||{},u=c.borderTopLeftRadius,l=void 0===u?r||0:u,d=c.borderTopRightRadius,f=void 0===d?r||0:d,h=c.borderBottomRightRadius,p=void 0===h?r||0:h,g=c.borderBottomLeftRadius,v=void 0===g?r||0:g;s.arc(e+n-p,t+i-p,p,0,.5*Math.PI),s.lineTo(e+v,t+i),s.arc(e+v,t+i-v,v,.5*Math.PI,Math.PI),s.lineTo(e,t+l),s.arc(e+l,t+l,l,Math.PI,1.5*Math.PI),s.lineTo(e+n-f,t),s.arc(e+n-f,t+f,f,1.5*Math.PI,2*Math.PI),s.lineTo(e+n,t+i-p)}else s.rect(e,t,n,i);s.closePath(),o&&s.stroke(),a&&s.fill()}},e.prototype.setTransform=function(e,t){var n=t.transform,i=t.transformOrigin,r=this.ctx,a=n||{},o=a.scaleX,s=void 0===o?1:o,c=a.scaleY,u=void 0===c?1:c,l=a.translateX,d=void 0===l?0:l,f=a.translateY,h=void 0===f?0:f,p=a.rotate,g=void 0===p?0:p,v=a.skewX,m=void 0===v?0:v,y=a.skewY,b=void 0===y?0:y,x=e.left,w=e.top,k=e.width,_=e.height;d=T(d,k)||0,h=T(h,_)||0;var S=T("0%",1),I=T("50%",1),C=T("100%",1),O={top:S,center:I,bottom:C},A={left:S,center:I,right:C};if(i=i.split(" ").filter((function(e,t){return t<2})).reduce((function(e,t){if(/\d+/.test(t)){var n=T(t,1)/(/px|rpx$/.test(t)?P(e.x)?_:k:1);return P(e.x)?Object.assign(e,{y:n}):Object.assign(e,{x:n})}return P(A[t])&&!P(e.x)?Object.assign(e,{x:A[t]}):Object.assign(e,{y:O[t]||.5})}),{}),(d||h)&&r.translate(d,h),(s||u)&&r.scale(s,u),g){var M=x+k*i.x,E=w+_*i.y;r.translate(M,E),r.rotate(g*Math.PI/180),r.translate(-M,-E)}(m||b)&&r.transform(1,Math.tan(b*Math.PI/180),Math.tan(m*Math.PI/180),1,0,0)},e.prototype.setBackground=function(e,t,n,i,r){var a=this.ctx;e&&"transparent"!=e?function(e){return!(!e||!e.startsWith("linear")&&!e.startsWith("radial"))}(e)?function(e,t,n,i,r,a){e.startsWith("linear")?function(e,t,n,i,r,a){for(var o=function(e,t,n,i,r){void 0===i&&(i=0),void 0===r&&(r=0);var a=e.match(/([-]?\d{1,3})deg/),o=a&&a[1]?parseFloat(a[1]):0;if(o>=360&&(o-=360),o<0&&(o+=360),0===(o=Math.round(o)))return{x0:Math.round(t/2)+i,y0:n+r,x1:Math.round(t/2)+i,y1:r};if(180===o)return{x0:Math.round(t/2)+i,y0:r,x1:Math.round(t/2)+i,y1:n+r};if(90===o)return{x0:i,y0:Math.round(n/2)+r,x1:t+i,y1:Math.round(n/2)+r};if(270===o)return{x0:t+i,y0:Math.round(n/2)+r,x1:i,y1:Math.round(n/2)+r};var s=Math.round(180*Math.asin(t/Math.sqrt(Math.pow(t,2)+Math.pow(n,2)))/Math.PI);if(o===s)return{x0:i,y0:n+r,x1:t+i,y1:r};if(o===180-s)return{x0:i,y0:r,x1:t+i,y1:n+r};if(o===180+s)return{x0:t+i,y0:r,x1:i,y1:n+r};if(o===360-s)return{x0:t+i,y0:n+r,x1:i,y1:r};var c,u=0,l=0,d=0,f=0;if(o<s||o>180-s&&o<180||o>180&&o<180+s||o>360-s){var h=o*Math.PI/180,p=o<s||o>360-s?n/2:-n/2,g=Math.tan(h)*p,v=o<s||o>180-s&&o<180?t/2-g:-t/2-g;u=-(d=g+(c=Math.pow(Math.sin(h),2)*v)),l=-(f=p+c/Math.tan(h))}(o>s&&o<90||o>90&&o<90+s||o>180+s&&o<270||o>270&&o<360-s)&&(h=(90-o)*Math.PI/180,g=o>s&&o<90||o>90&&o<90+s?t/2:-t/2,p=Math.tan(h)*g,v=o>s&&o<90||o>270&&o<360-s?n/2-p:-n/2-p,u=-(d=g+(c=Math.pow(Math.sin(h),2)*v)/Math.tan(h)),l=-(f=p+c));return u=Math.round(u+t/2)+i,l=Math.round(n/2-l)+r,d=Math.round(d+t/2)+i,f=Math.round(n/2-f)+r,{x0:u,y0:l,x1:d,y1:f}}(r,e,t,n,i),s=o.x0,c=o.y0,u=o.x1,l=o.y1,d=a.createLinearGradient(s,c,u,l),f=r.match(/linear-gradient\((.+)\)/)[1],h=M(f.substring(f.indexOf(",")+1)),p=0;p<h.colors.length;p++)d.addColorStop(h.percents[p],h.colors[p]);a.setFillStyle(d)}(t,n,i,r,e,a):e.startsWith("radial")&&function(e,t,n,i,r,a){for(var o=M(r.match(/radial-gradient\((.+)\)/)[1]),s=Math.round(e/2)+n,c=Math.round(t/2)+i,u=a.createRadialGradient(s,c,0,s,c,Math.max(e,t)/2),l=0;l<o.colors.length;l++)u.addColorStop(o.percents[l],o.colors[l]);a.setFillStyle(u)}(t,n,i,r,e,a)}(e,t,n,i,r,a):a.setFillStyle(e):[c.MP_TOUTIAO,c.MP_BAIDU].includes(S)?a.setFillStyle("rgba(0,0,0,0)"):a.setFillStyle("transparent")},e.prototype.setShadow=function(e){var t=e.boxShadow,n=void 0===t?[]:t,i=this.ctx;if(n.length){var r=n[0],a=n[1],o=n[2],s=n[3];i.setShadow(r,a,o,s)}},e.prototype.setBorder=function(e,t){var n=this.ctx,i=e.width,r=e.height,a=e.left,o=e.top,s=t.border,c=t.borderBottom,u=t.borderTop,l=t.borderRight,d=t.borderLeft,f=t.borderRadius,h=t.lineCap,p=s||{},g=p.borderWidth,v=void 0===g?0:g,m=p.borderStyle,y=p.borderColor,b=c||{},x=b.borderBottomWidth,w=void 0===x?v:x,k=b.borderBottomStyle,_=void 0===k?m:k,I=b.borderBottomColor,C=void 0===I?y:I,P=u||{},T=P.borderTopWidth,O=void 0===T?v:T,A=P.borderTopStyle,M=void 0===A?m:A,E=P.borderTopColor,L=void 0===E?y:E,D=l||{},R=D.borderRightWidth,F=void 0===R?v:R,B=D.borderRightStyle,z=void 0===B?m:B,N=D.borderRightColor,j=void 0===N?y:N,q=d||{},U=q.borderLeftWidth,W=void 0===U?v:U,H=q.borderLeftStyle,V=void 0===H?m:H,$=q.borderLeftColor,K=void 0===$?y:$,J=f||{},Y=J.borderTopLeftRadius,G=void 0===Y?f||0:Y,Q=J.borderTopRightRadius,X=void 0===Q?f||0:Q,Z=J.borderBottomRightRadius,ee=void 0===Z?f||0:Z,te=J.borderBottomLeftRadius,ne=void 0===te?f||0:te;if(c||d||u||l||s){var ie=function(e,t,i){"dashed"==t?/mp/.test(S)?n.setLineDash([Math.ceil(4*e/3),Math.ceil(4*e/3)]):n.setLineDash([Math.ceil(6*e),Math.ceil(6*e)]):"dotted"==t&&n.setLineDash([e,e]),n.setStrokeStyle(i)},re=function(e,t,i,r,a,o,s,c,u,l,d,f,p,g,v){n.save(),n.setLineCap(v?"square":h),n.setLineWidth(f),ie(f,p,g),n.beginPath(),n.arc(e,t,s,Math.PI*u,Math.PI*l),n.lineTo(i,r),n.arc(a,o,c,Math.PI*l,Math.PI*d),n.stroke(),n.restore()};if(n.save(),s&&!c&&!d&&!u&&!l)return n.setLineWidth(v),ie(v,m,y),this.roundRect(a,o,i,r,f,!1,!!y),void n.restore();w&&re(a+i-ee,o+r-ee,a+ne,o+r,a+ne,o+r-ne,ee,ne,.25,.5,.75,w,_,C,W&&F),W&&re(a+ne,o+r-ne,a,o+G,a+G,o+G,ne,G,.75,1,1.25,W,V,K,O&&w),O&&re(a+G,o+G,a+i-X,o,a+i-X,o+X,G,X,1.25,1.5,1.75,O,M,L,W&&F),F&&re(a+i-X,o+X,a+i,o+r-ee,a+i-ee,o+r-ee,X,ee,1.75,2,.25,F,z,j,O&&w)}},e.prototype.setOpacity=function(e){var t=e.opacity,n=void 0===t?1:t;this.ctx.setGlobalAlpha(n)},e.prototype.drawPattern=function(e,t,n){return o(this,void 0,void 0,(function(){var i=this;return s(this,(function(r){return[2,new Promise((function(r,a){i.drawView(t,n,!0,!1,!0);var o=i,s=o.ctx;o.canvas;var c=t.width,u=t.height,l=t.left,d=t.top,f=n||{},h=f.borderRadius,p=void 0===h?0:h,g=f.backgroundImage,v=f.backgroundRepeat,m=void 0===v?"repeat":v;g&&function(e){var a=s.createPattern(e.src,m);s.setFillStyle(a),i.roundRect(l,d,c,u,p,!0,!1),i.setBorder(t,n),r()}(e)}))]}))}))},e.prototype.drawView=function(e,t,n,i,r){void 0===n&&(n=!0),void 0===i&&(i=!0),void 0===r&&(r=!0);var a=this.ctx,o=e.width,s=e.height,c=e.left,u=e.top,l=t||{},d=l.borderRadius,f=void 0===d?0:d,h=l.backgroundColor,p=void 0===h?"transparent":h,g=l.overflow;t.opacity&&this.setOpacity(t),this.setTransform(e,t),r&&(a.save(),this.setShadow(t)),n&&this.setBackground(p,o,s,c,u),t.clipPath?this.clipPath(c,u,o,s,t.clipPath,n,!1):this.roundRect(c,u,o,s,f,n,!1),r&&a.restore(),i&&this.setBorder(e,t),"hidden"==g&&a.clip()},e.prototype.drawImage=function(e,t,n,i){return void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i=!0),o(this,void 0,void 0,(function(){var r=this;return s(this,(function(a){switch(a.label){case 0:return[4,new Promise((function(a,u){return o(r,void 0,void 0,(function(){var r,o,u,l,d,f,h,p,g,v,m,y,b,x,w,k,_,I,C,P,M,E=this;return s(this,(function(s){return r=this.ctx,o=n.borderRadius,u=void 0===o?0:o,l=n.backgroundColor,d=void 0===l?"transparent":l,f=n.objectFit,h=void 0===f?"fill":f,p=n.backgroundSize,g=void 0===p?"fill":p,v=n.objectPosition,m=n.backgroundPosition,y=n.boxShadow,n.backgroundImage&&(h=g,v=m),y&&this.drawView(t,Object.assign(n,{backgroundColor:d||y&&(d||"#ffffff")}),!0,!1,!0),b=t.width,x=t.height,w=t.left,k=t.top,r.save(),_=t.contentSize.left-t.borderSize.left,I=t.contentSize.top-t.borderSize.top,i||(this.setOpacity(n),this.setTransform(t,n),this.setBackground(d,b,x,w,k),this.roundRect(w,k,b,x,u,!!(u||!y&&d),!1)),w+=_,k+=I,r.clip(),C=function(e){if("fill"!==h){var n=function(e,t,n){var i=e.objectFit,r=e.objectPosition,a=t.width/t.height,o=n.width/n.height,s=1,c="contain",u="cover";i==c&&a>=o||i==u&&a<o?s=t.height/n.height:(i==c&&a<o||i==u&&a>=o)&&(s=t.width/n.width);var l=n.width*s,d=n.height*s,f=r||[],h=f[0],p=f[1],g=A(h)?T(h,t.width):(t.width-l)*(O(h)?T(h,1):{left:0,center:.5,right:1}[h||"center"]),v=A(p)?T(p,t.height):(t.height-d)*(O(p)?T(p,1):{top:0,center:.5,bottom:1}[p||"center"]),m=function(e,t){return[(e-g)/s,(t-v)/s]},y=m(0,0),b=y[0],x=y[1],w=m(t.width,t.height),k=w[0],_=w[1],S=Math.max,I=Math.min;return{sx:S(b,0),sy:S(x,0),sw:I(k-b,n.width),sh:I(_-x,n.height),dx:S(g,0),dy:S(v,0),dw:I(l,t.width),dh:I(d,t.height)}}({objectFit:h,objectPosition:v},t.contentSize,e),i=n.sx,a=n.sy,o=n.sh,s=n.sw,u=n.dx,l=n.dy,d=n.dh,f=n.dw;S==c.MP_BAIDU?r.drawImage(e.src,u+w,l+k,f,d,i,a,s,o):r.drawImage(e.src,i,a,s,o,u+w,l+k,f,d)}else r.drawImage(e.src,w,k,b,x)},P=function(){r.restore(),E.drawView(t,n,!1,!0,!1),a(1)},M=function(e){C(e),P()},M(e),[2]}))}))}))];case 1:return a.sent(),[2]}}))}))},e.prototype.drawText=function(e,t,n,i){var r=this,a=this.ctx,o=t.borderSize,s=t.contentSize,c=t.left,u=t.top,l=s.width,d=s.height,f=s.left-o.left||0,h=s.top-o.top||0,p=n.color,g=n.lineHeight,v=n.fontSize,m=n.fontWeight,y=n.fontFamily,b=n.fontStyle,x=n.textIndent,w=void 0===x?0:x,k=n.textAlign,_=n.textStroke,S=n.verticalAlign,I=void 0===S?de:S,C=n.backgroundColor,O=n.lineClamp,A=n.backgroundClip,M=n.textShadow,E=n.textDecoration;if(w=P(w)?w:0,this.drawView(t,n,A!=se),g=T(g,v),e){a.save(),c+=f,u+=h;var L=i.fontHeight,D=i.descent,R=void 0===D?0:D,F=i.ascent,B=R+(void 0===F?0:F);switch(a.setFonts({fontFamily:y,fontSize:v,fontWeight:m,fontStyle:b}),a.setTextBaseline(de),a.setTextAlign(k),A?this.setBackground(C,l,d,c,u):a.setFillStyle(p),k){case he:break;case pe:c+=.5*l;break;case ge:c+=l}var z=i.lines*g,N=Math.ceil((d-z)/2);switch(N<0&&(N=0),I){case le:break;case de:u+=N;break;case fe:u+=2*N}var j=(g-L)/2,q=g/2,U=function(e){var t=a.measureText(e),n=t.actualBoundingBoxDescent,i=void 0===n?0:n,r=t.actualBoundingBoxAscent;return I==le?{fix:B?void 0===r?0:r:q-j/2,lineY:B?0:j-j/2}:I==de?{fix:B?q+i/4:q,lineY:B?0:j}:I==fe?{fix:B?g-i:q+j/2,lineY:B?2*j:j+j/2}:{fix:0,height:0,lineY:0}},W=function(e,t,n){var r=e;switch(k){case he:r+=n;break;case pe:r=(e-=n/2)+n;break;case ge:r=e,e-=n}if(E){a.setLineWidth(v/13),a.beginPath();var o=.1*i.fontHeight;/\bunderline\b/.test(E)&&(a.moveTo(e,t+i.fontHeight+o),a.lineTo(r,t+i.fontHeight+o)),/\boverline\b/.test(E)&&(a.moveTo(e,t-o),a.lineTo(r,t-o)),/\bline-through\b/.test(E)&&(a.moveTo(e,t+.5*i.fontHeight),a.lineTo(r,t+.5*i.fontHeight)),a.closePath(),a.setStrokeStyle(p),a.stroke()}},H=function(e,t,n){var i=function(){a.setLineWidth(_.width),a.setStrokeStyle(_.color),a.strokeText(e,t,n)},o="outset";_&&_.type!==o?(a.save(),r.setShadow({boxShadow:M}),a.fillText(e,t,n),a.restore(),i()):_&&_.type==o?(a.save(),r.setShadow({boxShadow:M}),i(),a.restore(),a.save(),a.fillText(e,t,n),a.restore()):(r.setShadow({boxShadow:M}),a.fillText(e,t,n))};if(!i.widths||1==i.widths.length&&i.widths[0].total+w<=s.width){var V=U(e),$=V.fix,K=void 0===$?0:$,J=V.lineY;return H(e,c+w,u+K),W(c+w,u+J,i&&i.widths&&i.widths[0].total||i.text),u+=g,a.restore(),void this.setBorder(t,n)}for(var Y=u,G=c,Q="",X=0,Z=a.measureText("...").width,ee=i.widths,te=0;te<ee.length;te++){var ne=ee[te].widths,ie=0;Q="",u+=1==(X+=1)?0:g,1==X&&w&&(ie=w,G=c+w);for(var re=0;re<ne.length;re++){1!==X&&w&&(G=c);var ae=ne[re],oe=ae.width,ce=ae.text,ue=(ne[re+1]||{}).width;if(Q+=ce,(ie+=oe)+(void 0===ue?0:ue)+(0==X?w:0)+(X==O?Z:0)>s.width){X>=O&&(Q+="…"),X++,ie=0;var ve=U(Q);K=ve.fix,J=ve.lineY,H(Q,G,u+K),W(G,u+J,ie),u+=g,Q=""}else if(re==ne.length-1){te!=ee.length-1&&X==O&&Z+ie<s.width&&(Q+="…");var me=U(Q);K=me.fix,J=me.lineY,H(Q,G,u+K),W(G,u+J,ie)}if(u>Y+d||X>O)break}}a.restore()}},e.prototype.source=function(e){return o(this,void 0,void 0,(function(){var t,n,i,r,a=this;return s(this,(function(o){switch(o.label){case 0:if(this.node=null,t=+new Date,"{}"==JSON.stringify(e))return[2];if(e.styles=e.styles||e.css||{},!e.type)for(n in e.type=ue,e)["views","children","type","css","styles"].includes(n)||(e.styles[n]=e[n],delete e[n]);return e.styles.boxSizing||(e.styles.boxSizing="border-box"),[4,this.create(e)];case 1:return(i=o.sent())?(r=i.layout()||{},this.size=r,this.node=i,this.onEffectFinished().then((function(e){return a.lifecycle("onEffectSuccess",e)})).catch((function(e){return a.lifecycle("onEffectFail",e)})),this.performance&&console.log("布局用时："+(+new Date-t)+"ms"),[2,this.size]):[2,console.warn("no node")]}}))}))},e.prototype.getImageInfo=function(e){return this.imageBus[e]||(this.imageBus[e]=this.createImage(e,this.useCORS)),this.imageBus[e]},e.prototype.create=function(e,t){return o(this,void 0,void 0,(function(){var n,i,r,o,c,u,l,d,f,h,p,g,v,m,y,b,x,w,k,_,S,I,C,P;return s(this,(function(s){switch(s.label){case 0:if(!e)return[2];if(e.styles||(e.styles=e.css||{}),n=e.type,i=e.show,r=void 0===i||i,o=n==oe,c=[se,ce].includes(n),u="textBox"==n,l=e.styles||{},d=l.backgroundImage,f=l.display,o&&!e.src&&!e.url)return[2];if("none"==f||!r)return[2];if(c||u){if(h=e.children,p=e.views,!h&&p&&(e.children=h=p),!e.text&&(!h||h&&!h.length))return[2];h&&h.length&&!e.flattened&&(g=function e(t,n,i){void 0===n&&(n={}),void 0===i&&(i=!0);var r=[];return t.forEach((function(t){var o=t.styles,s=void 0===o?{}:o,c=t.css,u=void 0===c?{}:c,l=t.children,d=void 0===l?[]:l,f=t.views,h=void 0===f?[]:f,p=t.text,g=void 0===p?"":p,v=t.type,m=void 0===v?"":v;!d&&h&&(t.children=d=h);var y;y=a(a(i?a({},n):{},s),u);var b={},x={},w={};if(Object.keys(y).map((function(e){if(e.includes("padding")||e.includes("margin")){var t=$(e,y[e]);Object.keys(t).map((function(e){e.includes("Left")?x[e]=t[e]:e.includes("Right")?w[e]=t[e]:b[e]=t[e]}))}})),y.textIndent&&(x.textIndent=y.textIndent,delete n.textIndent),""!==g){var k=Array.from(g);k.forEach((function(e,t){var n=Object.assign({},y,b);0===t?Object.assign(n,x):t==k.length-1&&Object.assign(n,w),delete n.padding,delete n.margin,r.push({type:"text",text:e,styles:n})}))}if(m==oe||m==ce)r.push(t);else if("block"===s.display&&d.length>0){var _=e(d,y,!1);t.children=_,t.flattened=!0,r.push(t)}else d.length>0&&(_=e(d,y,i),r=r.concat(_))})),r}(e.children||e.views),e.type="view",e.children=g)}if(!(o||e.type==ue&&d))return[3,4];v=o?e.src:"",m=/url\(['"]?(.*?)['"]?\)/.exec(d),d&&m&&m[1]&&(v=m[1]||""),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.getImageInfo(v)];case 2:return y=s.sent(),b=y.width,x=y.height,!(w=y.path)&&o?[2]:(w&&(e.attributes=Object.assign(e.attributes||{},{width:b,height:x,path:w,src:w,naturalSrc:v})),[3,4]);case 3:return k=s.sent(),e.type!=ue?[2]:(this.lifecycle("onEffectFail",a(a({},k),{src:v})),[3,4]);case 4:if(this.count+=1,_=new re(e,t,this.root,this.ctx),!(S=e.children||e.views))return[3,8];I=0,s.label=5;case 5:return I<S.length?(C=S[I],[4,this.create(C,_)]):[3,8];case 6:(P=s.sent())&&_.add(P),s.label=7;case 7:return I++,[3,5];case 8:return[2,_]}}))}))},e.prototype.drawNode=function(e,t){return void 0===t&&(t=!1),o(this,void 0,void 0,(function(){var n,i,r,a,o,c,u,l,d,f,h,p,g,v,m,y,b,x,w,k,_,S,I;return s(this,(function(s){switch(s.label){case 0:return n=e.layoutBox,i=e.computedStyle,r=e.attributes,a=e.name,o=e.children,c=e.fixedLine,u=e.attributes,l=u.src,d=u.text,f=i.position,h=i.backgroundImage,p=i.backgroundRepeat,["fixed"].includes(f)&&!t?[2]:(this.ctx.save(),a!==ue?[3,7]:l&&h?p?[4,this.drawPattern(r,n,i)]:[3,2]:[3,5]);case 1:return s.sent(),[3,4];case 2:return[4,this.drawImage(r,n,i,!1)];case 3:s.sent(),s.label=4;case 4:return[3,6];case 5:this.drawView(n,i),s.label=6;case 6:return[3,10];case 7:return a===oe&&l?[4,this.drawImage(r,n,i,!1)]:[3,9];case 8:return s.sent(),[3,10];case 9:a===se?this.drawText(d,n,i,r):a===ce&&ae.api&&ae.api.draw(d,this,n,i),s.label=10;case 10:if(this.progress+=1,v=(g=c||{}).beforeElements,m=g.afterElements,!v)return[3,14];y=0,b=v,s.label=11;case 11:return y<b.length?(I=b[y],[4,this.drawNode(I)]):[3,14];case 12:s.sent(),s.label=13;case 13:return y++,[3,11];case 14:if(!o)return[3,18];x=Object.values?Object.values(o):Object.keys(o).map((function(e){return o[e]})),w=0,k=x,s.label=15;case 15:return w<k.length?"absolute"===(I=k[w]).computedStyle.position?[3,17]:[4,this.drawNode(I)]:[3,18];case 16:s.sent(),s.label=17;case 17:return w++,[3,15];case 18:if(!m)return[3,22];_=0,S=m,s.label=19;case 19:return _<S.length?(I=S[_],[4,this.drawNode(I)]):[3,22];case 20:s.sent(),s.label=21;case 21:return _++,[3,19];case 22:return this.ctx.restore(),[2]}}))}))},e.prototype.render=function(e){var t=this;return void 0===e&&(e=30),new Promise((function(n,i){return o(t,void 0,void 0,(function(){var t,r,a,o,c,u,l,d,f,h;return s(this,(function(s){switch(s.label){case 0:return t=+new Date,this.init(),[4,(p=e,void 0===p&&(p=0),new Promise((function(e){return setTimeout(e,p)})))];case 1:s.sent(),s.label=2;case 2:if(s.trys.push([2,14,,15]),!this.node)return[3,12];if(r=this.root.fixedLine||{},a=r.beforeElements,o=r.afterElements,!a)return[3,6];c=0,u=a,s.label=3;case 3:return c<u.length?(f=u[c],[4,this.drawNode(f,!0)]):[3,6];case 4:s.sent(),s.label=5;case 5:return c++,[3,3];case 6:return[4,this.drawNode(this.node)];case 7:if(s.sent(),!o)return[3,11];l=0,d=o,s.label=8;case 8:return l<d.length?(f=d[l],[4,this.drawNode(f,!0)]):[3,11];case 9:s.sent(),s.label=10;case 10:return l++,[3,8];case 11:return n(this.node),[3,13];case 12:this.lifecycle("onEffectFail","node is empty"),s.label=13;case 13:return[3,15];case 14:return h=s.sent(),this.lifecycle("onEffectFail",h),i(h),[3,15];case 15:return this.performance&&console.log("渲染用时："+(+new Date-t-30)+"ms"),[2]}var p}))}))}))},e.prototype.onEffectFinished=function(){var e=this,t=Object.keys(this.imageBus).map((function(t){return e.imageBus[t]}));return Promise.all(t)},e.prototype.destroy=function(){this.node=[]},e.prototype.save=function(e){try{var t=e||{},n=t.fileType,i=void 0===n?"png":n,r=t.quality,a=void 0===r?1:r;return this.canvas.toDataURL("image/".concat(i),a)}catch(e){return this.lifecycle("onEffectFail","image cross domain"),e}},e}();t.default=t.Painter=ve,c.WEB==S&&(window.Painter=ve)},"484e":function(e,t,n){"use strict";var i=n("a24b"),r=n.n(i);r.a},"49bf":function(e,t,n){e.exports=n.p+"static/game_cps/bg_yqm_03@2x.png"},"49d5":function(e,t,n){"use strict";var i=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.children=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.indexKey;return{inject:(0,o.default)({},e,{default:null}),watch:{el:{handler:function(e,t){JSON.stringify(e)!=JSON.stringify(t)&&this.bindRelation()},deep:!0,immediate:!0},src:{handler:function(e,t){e!=t&&this.bindRelation()},immediate:!0},text:{handler:function(e,t){e!=t&&this.bindRelation()},immediate:!0},css:{handler:function(e,t){e!=t&&(this.el.css=("object"==(0,a.default)(e)?e:e&&Object.assign.apply(Object,(0,r.default)(s(e))))||{})},immediate:!0},replace:{handler:function(e,t){JSON.stringify(e)!=JSON.stringify(t)&&this.bindRelation()},deep:!0,immediate:!0}},created:function(){var t=this;this._uid||(this._uid=this._.uid),Object.defineProperty(this,"parent",{get:function(){return t[e]||[]}}),Object.defineProperty(this,"index",{get:function(){t.bindRelation();var e=t.parent;e=void 0===e?{}:e;var n=e.el;n=void 0===n?{}:n;var i=n.views,r=void 0===i?[]:i;return r.indexOf(t.el)}}),this.el.type=this.type,this.uid&&(this.el.uid=this.uid),this.bindRelation()},beforeDestroy:function(){this.removeEl()},methods:{removeEl:function(){var e=this;this.parent&&(this.parent.el.views=this.parent.el.views.filter((function(t){return t._uid!==e._uid})))},bindRelation:function(){var e=this;if(this.el._uid||(this.el._uid=this._uid),["text","qrcode"].includes(this.type)&&(this.el.text=this.$slots&&this.$slots.default&&this.$slots.default[0].text||"".concat(this.text||"").replace(/\\n/g,"\n")),"image"==this.type&&(this.el.src=this.src),this.parent){var t=this.parent.el.views||[];-1!==t.indexOf(this.el)?this.parent.el.views=t.map((function(t){return t._uid==e._uid?e.el:t})):this.parent.el.views=[].concat((0,r.default)(t),[this.el])}}},mounted:function(){}}},t.parent=function(e){return{provide:function(){return(0,o.default)({},e,this)},data:function(){return{el:{id:null,css:{},views:[]}}},watch:{css:{handler:function(e){this.canvasId&&(this.el.css=("object"==(0,a.default)(e)?e:e&&Object.assign.apply(Object,(0,r.default)(s(e))))||{},this.canvasWidth=this.el.css&&this.el.css.width||this.canvasWidth,this.canvasHeight=this.el.css&&this.el.css.height||this.canvasHeight)},immediate:!0}}}};var r=i(n("b7c7")),a=i(n("fcf3")),o=i(n("39d8"));n("fd3c"),n("8f71"),n("bf0f"),n("5c47"),n("0506"),n("f7a5"),n("5ef2"),n("a1c1"),n("d4b5"),n("6a54"),n("4626"),n("c223");var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split(";").filter((function(e){return e&&!/^[\n\s]+$/.test(e)})).map((function(e){var t=e.slice(0,e.indexOf(":")),n=e.slice(e.indexOf(":")+1);return(0,o.default)({},t.replace(/-([a-z])/g,(function(){return arguments[1].toUpperCase()})).replace(/\s+/g,""),n.replace(/^\s+/,"").replace(/\s+$/,"")||"")}))}},"4f05":function(e,t,n){"use strict";var i=n("ee98").start,r=n("8b27");e.exports=r("trimStart")?function(){return i(this)}:"".trimStart},5075:function(e,t,n){"use strict";var i=n("ae5c"),r=n("71e9"),a=n("e7e3"),o=n("52df"),s=n("81a7"),c=n("1fc1"),u=n("1297"),l=n("d67c"),d=n("5112"),f=n("7e91"),h=TypeError,p=function(e,t){this.stopped=e,this.result=t},g=p.prototype;e.exports=function(e,t,n){var v,m,y,b,x,w,k,_=n&&n.that,S=!(!n||!n.AS_ENTRIES),I=!(!n||!n.IS_RECORD),C=!(!n||!n.IS_ITERATOR),P=!(!n||!n.INTERRUPTED),T=i(t,_),O=function(e){return v&&f(v,"normal",e),new p(!0,e)},A=function(e){return S?(a(e),P?T(e[0],e[1],O):T(e[0],e[1])):P?T(e,O):T(e)};if(I)v=e.iterator;else if(C)v=e;else{if(m=d(e),!m)throw new h(o(e)+" is not iterable");if(s(m)){for(y=0,b=c(e);b>y;y++)if(x=A(e[y]),x&&u(g,x))return x;return new p(!1)}v=l(e,m)}w=I?e.next:v.next;while(!(k=r(w,v)).done){try{x=A(k.value)}catch(M){f(v,"throw",M)}if("object"==typeof x&&x&&u(g,x))return x}return new p(!1)}},"57e7":function(e,t,n){"use strict";var i=n("e37c"),r=n("e4ca"),a=n("a74c"),o=n("ae5c"),s=n("b720"),c=n("1eb8"),u=n("5075"),l=n("0cc2"),d=n("97ed"),f=n("437f"),h=n("ab4a"),p=n("d0b1").fastKey,g=n("235c"),v=g.set,m=g.getterFor;e.exports={getConstructor:function(e,t,n,l){var d=e((function(e,r){s(e,f),v(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),h||(e.size=0),c(r)||u(r,e[l],{that:e,AS_ENTRIES:n})})),f=d.prototype,g=m(t),y=function(e,t,n){var i,r,a=g(e),o=b(e,t);return o?o.value=n:(a.last=o={index:r=p(t,!0),key:t,value:n,previous:i=a.last,next:void 0,removed:!1},a.first||(a.first=o),i&&(i.next=o),h?a.size++:e.size++,"F"!==r&&(a.index[r]=o)),e},b=function(e,t){var n,i=g(e),r=p(t);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key===t)return n};return a(f,{clear:function(){var e=g(this),t=e.first;while(t)t.removed=!0,t.previous&&(t.previous=t.previous.next=void 0),t=t.next;e.first=e.last=void 0,e.index=i(null),h?e.size=0:this.size=0},delete:function(e){var t=g(this),n=b(this,e);if(n){var i=n.next,r=n.previous;delete t.index[n.index],n.removed=!0,r&&(r.next=i),i&&(i.previous=r),t.first===n&&(t.first=i),t.last===n&&(t.last=r),h?t.size--:this.size--}return!!n},forEach:function(e){var t,n=g(this),i=o(e,arguments.length>1?arguments[1]:void 0);while(t=t?t.next:n.first){i(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!b(this,e)}}),a(f,n?{get:function(e){var t=b(this,e);return t&&t.value},set:function(e,t){return y(this,0===e?0:e,t)}}:{add:function(e){return y(this,e=0===e?0:e,e)}}),h&&r(f,"size",{configurable:!0,get:function(){return g(this).size}}),d},setStrong:function(e,t,n){var i=t+" Iterator",r=m(t),a=m(i);l(e,t,(function(e,t){v(this,{type:i,target:e,state:r(e),kind:t,last:void 0})}),(function(){var e=a(this),t=e.kind,n=e.last;while(n&&n.removed)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?d("keys"===t?n.key:"values"===t?n.value:[n.key,n.value],!1):(e.target=void 0,d(void 0,!0))}),n?"entries":"values",!n,!0),f(t)}}},"5a55":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var i={uniIcons:n("87e9").default},r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"uni-stat__select"},[e.label?n("span",{staticClass:"uni-label-text hide-on-phone"},[e._v(e._s(e.label+"："))]):e._e(),n("v-uni-view",{staticClass:"uni-stat-box",class:{"uni-stat__actived":e.current}},[n("v-uni-view",{staticClass:"uni-select",class:{"uni-select--disabled":e.disabled}},[n("v-uni-view",{staticClass:"uni-select__input-box",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toggleSelector.apply(void 0,arguments)}}},[e.current?n("v-uni-view",{staticClass:"uni-select__input-text"},[e._v(e._s(e.textShow))]):n("v-uni-view",{staticClass:"uni-select__input-text uni-select__input-placeholder"},[e._v(e._s(e.typePlaceholder))]),e.current&&e.clear&&!e.disabled?n("v-uni-view",{on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.clearVal.apply(void 0,arguments)}}},[n("uni-icons",{attrs:{type:"clear",color:"#c0c4cc",size:"24"}})],1):n("v-uni-view",[n("uni-icons",{attrs:{type:e.showSelector?"top":"bottom",size:"14",color:"#999"}})],1)],1),e.showSelector?n("v-uni-view",{staticClass:"uni-select--mask",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toggleSelector.apply(void 0,arguments)}}}):e._e(),e.showSelector?n("v-uni-view",{staticClass:"uni-select__selector",style:e.getOffsetByPlacement},[n("v-uni-view",{class:"bottom"==e.placement?"uni-popper__arrow_bottom":"uni-popper__arrow_top"}),n("v-uni-scroll-view",{staticClass:"uni-select__selector-scroll",attrs:{"scroll-y":"true"}},[0===e.mixinDatacomResData.length?n("v-uni-view",{staticClass:"uni-select__selector-empty"},[n("v-uni-text",[e._v(e._s(e.emptyTips))])],1):e._l(e.mixinDatacomResData,(function(t,i){return n("v-uni-view",{key:i,staticClass:"uni-select__selector-item",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.change(t)}}},[n("v-uni-text",{class:{"uni-select__selector__disabled":t.disable}},[e._v(e._s(e.formatItemName(t)))])],1)}))],2)],1):e._e()],1)],1)],1)},a=[]},"5b26":function(e,t,n){"use strict";(function(e){n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.chooseAndUploadFile=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"all"};if("image"===e.type)return c(r(e),e);if("video"===e.type)return c(a(e),e);return c(o(e),e)},t.uploadCloudFiles=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,i=arguments.length>2?arguments[2]:void 0;t=JSON.parse(JSON.stringify(t));var r=t.length,a=0,o=this;return new Promise((function(s){while(a<n)c();function c(){var n=a++;if(n>=r)!t.find((function(e){return!e.url&&!e.errMsg}))&&s(t);else{var u=t[n],l=o.files.findIndex((function(e){return e.uuid===u.uuid}));u.url="",delete u.errMsg,e.uploadFile({filePath:u.path,cloudPath:u.cloudPath,fileType:u.fileType,onUploadProgress:function(e){e.index=l,i&&i(e)}}).then((function(e){u.url=e.fileID,u.index=l,n<r&&c()})).catch((function(e){u.errMsg=e.errMsg||e.message,u.index=l,n<r&&c()}))}}}))},n("bf0f"),n("5c47"),n("a1c1"),n("2797"),n("20f3"),n("fd3c"),n("d4b5"),n("aa77"),n("bd06");var i="chooseAndUploadFile:fail";function r(e){var t=e.count,n=e.sizeType,r=void 0===n?["original","compressed"]:n,a=e.sourceType,o=e.extension;return new Promise((function(e,n){uni.chooseImage({count:t,sizeType:r,sourceType:a,extension:o,success:function(t){e(s(t,"image"))},fail:function(e){n({errMsg:e.errMsg.replace("chooseImage:fail",i)})}})}))}function a(e){e.count;var t=e.camera,n=e.compressed,r=e.maxDuration,a=e.sourceType,o=e.extension;return new Promise((function(e,c){uni.chooseVideo({camera:t,compressed:n,maxDuration:r,sourceType:a,extension:o,success:function(t){var n=t.tempFilePath,i=t.duration,r=t.size,a=t.height,o=t.width;e(s({errMsg:"chooseVideo:ok",tempFilePaths:[n],tempFiles:[{name:t.tempFile&&t.tempFile.name||"",path:n,size:r,type:t.tempFile&&t.tempFile.type||"",width:o,height:a,duration:i,fileType:"video",cloudPath:""}]},"video"))},fail:function(e){c({errMsg:e.errMsg.replace("chooseVideo:fail",i)})}})}))}function o(e){var t=e.count,n=e.extension;return new Promise((function(e,r){var a=uni.chooseFile;if("undefined"!==typeof wx&&"function"===typeof wx.chooseMessageFile&&(a=wx.chooseMessageFile),"function"!==typeof a)return r({errMsg:i+" 请指定 type 类型，该平台仅支持选择 image 或 video。"});a({type:"all",count:t,extension:n,success:function(t){e(s(t))},fail:function(e){r({errMsg:e.errMsg.replace("chooseFile:fail",i)})}})}))}function s(e,t){return e.tempFiles.forEach((function(e,n){e.name||(e.name=e.path.substring(e.path.lastIndexOf("/")+1)),t&&(e.fileType=t),e.cloudPath=Date.now()+"_"+n+e.name.substring(e.name.lastIndexOf("."))})),e.tempFilePaths||(e.tempFilePaths=e.tempFiles.map((function(e){return e.path}))),e}function c(e,t){var n=t.onChooseFile;t.onUploadProgress;return e.then((function(e){if(n){var t=n(e);if("undefined"!==typeof t)return Promise.resolve(t).then((function(t){return"undefined"===typeof t?e:t}))}return e})).then((function(e){return!1===e?{errMsg:"chooseAndUploadFile:ok",tempFilePaths:[],tempFiles:[]}:e}))}}).call(this,n("861b")["default"])},"5b7e":function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("64aa"),n("c223"),n("bf0f"),n("2797"),n("aa9c"),n("5ef2");var i={name:"uploadImage",emits:["uploadFiles","choose","delFile"],props:{filesList:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},disablePreview:{type:Boolean,default:!1},limit:{type:[Number,String],default:9},imageStyles:{type:Object,default:function(){return{width:"auto",height:"auto",border:{}}}},delIcon:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1}},computed:{styles:function(){return Object.assign({width:"auto",height:"auto",border:{}},this.imageStyles)},boxStyle:function(){var e=this.styles,t=e.width,n=void 0===t?"auto":t,i=e.height,r=void 0===i?"auto":i,a={};"auto"===r?"auto"!==n?(a.height=this.value2px(n),a["padding-top"]=0):a.height=0:(a.height=this.value2px(r),a["padding-top"]=0),a.width="auto"===n?"auto"!==r?this.value2px(r):"33.3%":this.value2px(n);var o="";for(var s in a)o+="".concat(s,":").concat(a[s],";");return o},borderStyle:function(){var e=this.styles.border,t={};if("boolean"===typeof e)t.border=e?"1px #eee solid":"none";else{var n=e&&e.width||1;n=this.value2px(n);var i=e&&e.radius||3;i=this.value2px(i),t={"border-width":n,"border-style":e&&e.style||"solid","border-color":e&&e.color||"#eee","border-radius":i}}var r="";for(var a in t)r+="".concat(a,":").concat(t[a],";");return r}},methods:{uploadFiles:function(e,t){this.$emit("uploadFiles",e)},choose:function(){this.$emit("choose")},delFile:function(e){this.$emit("delFile",e)},prviewImage:function(e,t){var n=[];1===Number(this.limit)&&this.disablePreview&&!this.disabled&&this.$emit("choose"),this.disablePreview||(this.filesList.forEach((function(e){n.push(e.url)})),uni.previewImage({urls:n,current:t}))},value2px:function(e){return"number"===typeof e?e+="px":-1===e.indexOf("%")&&(e=-1!==e.indexOf("px")?e:e+"px"),e}}};t.default=i},"5d6e":function(e,t,n){"use strict";var i=n("af9e");e.exports=i((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},"608e":function(e,t,n){e.exports=n.p+"static/game_cps/bg_huoyue_01@2x.png"},"619b":function(e,t,n){"use strict";var i=n("a2a8"),r=n.n(i);r.a},"62b0":function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t&&("object"===(0,i.default)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,r.default)(e)},n("7a76"),n("c9b5");var i=a(n("fcf3")),r=a(n("f478"));function a(e){return e&&e.__esModule?e:{default:e}}},"64af":function(e,t,n){"use strict";var i=n("79c7"),r=n.n(i);r.a},6730:function(e,t,n){"use strict";var i=n("8bdb"),r=n("71e9");i({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return r(URL.prototype.toString,this)}})},"68ef":function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=c,n("c1a3"),n("bf0f"),n("18f7"),n("de6c"),n("7a76"),n("c9b5");var i=s(n("f1f8")),r=s(n("e668")),a=s(n("d441")),o=s(n("d2c4"));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){var n="function"===typeof Map?new Map:void 0;return t.default=c=function(e){if(null===e||!(0,a.default)(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return(0,o.default)(e,arguments,(0,i.default)(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),(0,r.default)(t,e)},c(e)}},"6c31":function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},n("bf0f"),n("7996"),n("6a88")},"6e12":function(e,t,n){"use strict";n("73c2");var i=n("8bdb"),r=n("ab3f5");i({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==r},{trimEnd:r})},7077:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"uni-section"},[n("v-uni-view",{staticClass:"uni-section-header",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClick.apply(void 0,arguments)}}},[e.type?n("v-uni-view",{staticClass:"uni-section-header__decoration",class:e.type}):e._t("decoration"),n("v-uni-view",{staticClass:"uni-section-header__content"},[n("v-uni-text",{staticClass:"uni-section__content-title",class:{distraction:!e.subTitle},style:{"font-size":e.titleFontSize,color:e.titleColor}},[e._v(e._s(e.title))]),e.subTitle?n("v-uni-text",{staticClass:"uni-section-header__content-sub",style:{"font-size":e.subTitleFontSize,color:e.subTitleColor}},[e._v(e._s(e.subTitle))]):e._e()],1),n("v-uni-view",{staticClass:"uni-section-header__slot-right"},[e._t("right")],2)],2),n("v-uni-view",{staticClass:"uni-section-content",style:{padding:e._padding}},[e._t("default")],2)],1)},r=[]},"70dd":function(e,t,n){"use strict";n.r(t);var i=n("1ec6"),r=n("ad32");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);var o=n("828b"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"7764aa8f",null,!1,i["a"],void 0);t["default"]=s.exports},7340:function(e,t,n){"use strict";var i=n("8bdb"),r=n("4f05");i({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==r},{trimLeft:r})},"73c2":function(e,t,n){"use strict";var i=n("8bdb"),r=n("ab3f5");i({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==r},{trimRight:r})},"74a5":function(e,t,n){var i=n("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */@media screen and (max-width:500px){.hide-on-phone[data-v-fdd9c65c]{display:none}}.uni-stat__select[data-v-fdd9c65c]{display:flex;align-items:center;cursor:pointer;width:100%;flex:1;box-sizing:border-box}.uni-stat-box[data-v-fdd9c65c]{width:100%;flex:1}.uni-stat__actived[data-v-fdd9c65c]{width:100%;flex:1}.uni-label-text[data-v-fdd9c65c]{font-size:14px;font-weight:700;color:#6a6a6a;margin:auto 0;margin-right:5px}.uni-select[data-v-fdd9c65c]{font-size:14px;border:1px solid #e5e5e5;box-sizing:border-box;border-radius:4px;padding:0 5px;padding-left:10px;position:relative;display:flex;-webkit-user-select:none;user-select:none;flex-direction:row;align-items:center;border-bottom:solid 1px #e5e5e5;width:100%;flex:1;height:35px}.uni-select--disabled[data-v-fdd9c65c]{background-color:#f5f7fa;cursor:not-allowed}.uni-select__label[data-v-fdd9c65c]{font-size:16px;height:35px;padding-right:10px;color:#909399}.uni-select__input-box[data-v-fdd9c65c]{height:35px;position:relative;display:flex;flex:1;flex-direction:row;align-items:center}.uni-select__input[data-v-fdd9c65c]{flex:1;font-size:14px;height:22px;line-height:22px}.uni-select__input-plac[data-v-fdd9c65c]{font-size:14px;color:#909399}.uni-select__selector[data-v-fdd9c65c]{box-sizing:border-box;position:absolute;left:0;width:100%;background-color:#fff;border:1px solid #ebeef5;border-radius:6px;box-shadow:0 2px 12px 0 rgba(0,0,0,.1);z-index:3;padding:4px 0}.uni-select__selector-scroll[data-v-fdd9c65c]{max-height:200px;box-sizing:border-box}@media (min-width:768px){.uni-select__selector-scroll[data-v-fdd9c65c]{max-height:600px}}.uni-select__selector-empty[data-v-fdd9c65c],\r\n.uni-select__selector-item[data-v-fdd9c65c]{display:flex;cursor:pointer;line-height:35px;font-size:14px;text-align:center;\r\n  /* border-bottom: solid 1px $uni-border-3; */padding:0 10px}.uni-select__selector-item[data-v-fdd9c65c]:hover{background-color:#f9f9f9}.uni-select__selector-empty[data-v-fdd9c65c]:last-child,\r\n.uni-select__selector-item[data-v-fdd9c65c]:last-child{border-bottom:none}.uni-select__selector__disabled[data-v-fdd9c65c]{opacity:.4;cursor:default}\r\n/* picker 弹出层通用的指示小三角 */.uni-popper__arrow_bottom[data-v-fdd9c65c],\r\n.uni-popper__arrow_bottom[data-v-fdd9c65c]::after,\r\n.uni-popper__arrow_top[data-v-fdd9c65c],\r\n.uni-popper__arrow_top[data-v-fdd9c65c]::after{position:absolute;display:block;width:0;height:0;border-color:transparent;border-style:solid;border-width:6px}.uni-popper__arrow_bottom[data-v-fdd9c65c]{-webkit-filter:drop-shadow(0 2px 12px rgba(0,0,0,.03));filter:drop-shadow(0 2px 12px rgba(0,0,0,.03));top:-6px;left:10%;margin-right:3px;border-top-width:0;border-bottom-color:#ebeef5}.uni-popper__arrow_bottom[data-v-fdd9c65c]::after{content:" ";top:1px;margin-left:-6px;border-top-width:0;border-bottom-color:#fff}.uni-popper__arrow_top[data-v-fdd9c65c]{-webkit-filter:drop-shadow(0 2px 12px rgba(0,0,0,.03));filter:drop-shadow(0 2px 12px rgba(0,0,0,.03));bottom:-6px;left:10%;margin-right:3px;border-bottom-width:0;border-top-color:#ebeef5}.uni-popper__arrow_top[data-v-fdd9c65c]::after{content:" ";bottom:1px;margin-left:-6px;border-bottom-width:0;border-top-color:#fff}.uni-select__input-text[data-v-fdd9c65c]{width:100%;color:#333;white-space:nowrap;text-overflow:ellipsis;-o-text-overflow:ellipsis;overflow:hidden}.uni-select__input-placeholder[data-v-fdd9c65c]{color:#6a6a6a;font-size:12px}.uni-select--mask[data-v-fdd9c65c]{position:fixed;top:0;bottom:0;right:0;left:0;z-index:2}',""]),e.exports=t},"74e0":function(e,t,n){"use strict";function i(){var e=this.waitingQueue=[],t=this.isRunning=!1;this.exec=function(n){return new Promise((function(i,r){t?e.push({task:n,resolve:i,reject:r}):(t=!0,function n(i,r,a){i().then((function(e){r(e)})).catch((function(e){a(e)})).finally((function(){if(e.length){var i=e.shift();n(i.task,i.resolve,i.reject)}else t=!1}))}(n,i,r))}))}}n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.queueLoadImage=t.queueDraw=void 0,n("bf0f"),n("5c47"),n("aa9c");var r=new i;t.queueDraw=r;var a=new i;t.queueLoadImage=a},7558:function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.cacheImageList=void 0;t.cacheImageList=[]},7658:function(e,t,n){"use strict";var i=n("8bdb"),r=n("85c1"),a=n("bb80"),o=n("8466"),s=n("81a9"),c=n("d0b1"),u=n("5075"),l=n("b720"),d=n("474f"),f=n("1eb8"),h=n("1c06"),p=n("af9e"),g=n("29ba"),v=n("181d"),m=n("dcda");e.exports=function(e,t,n){var y=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),x=y?"set":"add",w=r[e],k=w&&w.prototype,_=w,S={},I=function(e){var t=a(k[e]);s(k,e,"add"===e?function(e){return t(this,0===e?0:e),this}:"delete"===e?function(e){return!(b&&!h(e))&&t(this,0===e?0:e)}:"get"===e?function(e){return b&&!h(e)?void 0:t(this,0===e?0:e)}:"has"===e?function(e){return!(b&&!h(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})},C=o(e,!d(w)||!(b||k.forEach&&!p((function(){(new w).entries().next()}))));if(C)_=n.getConstructor(t,e,y,x),c.enable();else if(o(e,!0)){var P=new _,T=P[x](b?{}:-0,1)!==P,O=p((function(){P.has(1)})),A=g((function(e){new w(e)})),M=!b&&p((function(){var e=new w,t=5;while(t--)e[x](t,t);return!e.has(-0)}));A||(_=t((function(e,t){l(e,k);var n=m(new w,e,_);return f(t)||u(t,n[x],{that:n,AS_ENTRIES:y}),n})),_.prototype=k,k.constructor=_),(O||M)&&(I("delete"),I("has"),y&&I("get")),(M||T)&&I(x),b&&k.clear&&delete k.clear}return S[e]=_,i({global:!0,constructor:!0,forced:_!==w},S),v(_,e),b||n.setStrong(_,e,y),_}},"77b21":function(e,t,n){"use strict";n.r(t);var i=n("be9e"),r=n("3292");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("8124");var o=n("828b"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"50c98264",null,!1,i["a"],void 0);t["default"]=s.exports},"79c7":function(e,t,n){var i=n("bc0e");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("967d").default;r("dcd314ea",i,!0,{sourceMap:!1,shadowMode:!1})},"7b32":function(e,t,n){"use strict";n.r(t);var i=n("f936"),r=n("a810");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);var o=n("828b"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"09972ada",null,!1,i["a"],void 0);t["default"]=s.exports},8124:function(e,t,n){"use strict";var i=n("ee26"),r=n.n(i);r.a},"860f":function(e,t,n){e.exports=n.p+"static/game_cps/bg_sy_tic_heji_04@2x.png"},"861b":function(e,t,n){"use strict";(function(e){var i=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("f478")),a=i(n("5de6")),o=i(n("fcf3")),s=i(n("b7c7")),c=i(n("3471")),u=i(n("2634")),l=i(n("2fdc")),d=i(n("9b1b")),f=i(n("acb1")),h=i(n("cad9")),p=i(n("68ef")),g=i(n("80b1")),v=i(n("efe5"));n("4085"),n("7a76"),n("c9b5"),n("bf0f"),n("ab80"),n("f7a5"),n("aa9c"),n("e966"),n("c223"),n("dd2b"),n("5ef2"),n("2797"),n("dc8a"),n("473f"),n("4626"),n("5ac7"),n("4100"),n("5c47"),n("d4b5"),n("0c26"),n("0506"),n("fd3c"),n("6a54"),n("de6c"),n("af8f"),n("64aa"),n("a1c1"),n("8f71"),n("23f4"),n("7d2f"),n("9c4e"),n("4db2"),n("c976"),n("4d8f"),n("7b97"),n("668a"),n("c5b7"),n("8ff5"),n("2378"),n("641a"),n("64e0"),n("cce3"),n("efba"),n("d009"),n("bd7d"),n("7edd"),n("d798"),n("f547"),n("5e54"),n("b60a"),n("8c18"),n("12973"),n("f991"),n("198e"),n("8557"),n("63b1"),n("1954"),n("1cf1"),n("01a2"),n("e39c"),n("e062"),n("aa77"),n("2c10"),n("f555"),n("dc69"),n("9370"),n("6730"),n("08eb"),n("18f7"),n("15d1"),n("d5c6"),n("5a56"),n("f074"),n("20f3");var m=i(n("3b6e"));function y(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e||"undefined"!=typeof self&&self;var b=y((function(e,t){var n;e.exports=(n=n||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),i={},r=i.lib={},a=r.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=r.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes,r=e.sigBytes;if(this.clamp(),i%4)for(var a=0;a<r;a++){var o=n[a>>>2]>>>24-a%4*8&255;t[i+a>>>2]|=o<<24-(i+a)%4*8}else for(a=0;a<r;a+=4)t[i+a>>>2]=n[a>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,i=[],r=function(t){t=t;var n=987654321,i=4294967295;return function(){var r=((n=36969*(65535&n)+(n>>16)&i)<<16)+(t=18e3*(65535&t)+(t>>16)&i)&i;return r/=4294967296,(r+=.5)*(e.random()>.5?1:-1)}},a=0;a<t;a+=4){var s=r(4294967296*(n||e.random()));n=987654071*s(),i.push(4294967296*s()|0)}return new o.init(i,t)}}),s=i.enc={},c=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r++){var a=t[r>>>2]>>>24-r%4*8&255;i.push((a>>>4).toString(16)),i.push((15&a).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new o.init(n,t/2)}},u=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r++){var a=t[r>>>2]>>>24-r%4*8&255;i.push(String.fromCharCode(a))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new o.init(n,t)}},l=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},d=r.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,r=n.sigBytes,a=this.blockSize,s=r/(4*a),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,u=e.min(4*c,r);if(c){for(var l=0;l<c;l+=a)this._doProcessBlock(i,l);var d=i.splice(0,c);n.sigBytes-=u}return new o.init(d,u)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});r.Hasher=d.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new f.HMAC.init(e,n).finalize(t)}}});var f=i.algo={};return i}(Math),n)})),x=b,w=(y((function(e,t){var n;e.exports=(n=x,function(e){var t=n,i=t.lib,r=i.WordArray,a=i.Hasher,o=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=o.MD5=a.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var i=t+n,r=e[i];e[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var a=this._hash.words,o=e[t+0],c=e[t+1],h=e[t+2],p=e[t+3],g=e[t+4],v=e[t+5],m=e[t+6],y=e[t+7],b=e[t+8],x=e[t+9],w=e[t+10],k=e[t+11],_=e[t+12],S=e[t+13],I=e[t+14],C=e[t+15],P=a[0],T=a[1],O=a[2],A=a[3];P=u(P,T,O,A,o,7,s[0]),A=u(A,P,T,O,c,12,s[1]),O=u(O,A,P,T,h,17,s[2]),T=u(T,O,A,P,p,22,s[3]),P=u(P,T,O,A,g,7,s[4]),A=u(A,P,T,O,v,12,s[5]),O=u(O,A,P,T,m,17,s[6]),T=u(T,O,A,P,y,22,s[7]),P=u(P,T,O,A,b,7,s[8]),A=u(A,P,T,O,x,12,s[9]),O=u(O,A,P,T,w,17,s[10]),T=u(T,O,A,P,k,22,s[11]),P=u(P,T,O,A,_,7,s[12]),A=u(A,P,T,O,S,12,s[13]),O=u(O,A,P,T,I,17,s[14]),P=l(P,T=u(T,O,A,P,C,22,s[15]),O,A,c,5,s[16]),A=l(A,P,T,O,m,9,s[17]),O=l(O,A,P,T,k,14,s[18]),T=l(T,O,A,P,o,20,s[19]),P=l(P,T,O,A,v,5,s[20]),A=l(A,P,T,O,w,9,s[21]),O=l(O,A,P,T,C,14,s[22]),T=l(T,O,A,P,g,20,s[23]),P=l(P,T,O,A,x,5,s[24]),A=l(A,P,T,O,I,9,s[25]),O=l(O,A,P,T,p,14,s[26]),T=l(T,O,A,P,b,20,s[27]),P=l(P,T,O,A,S,5,s[28]),A=l(A,P,T,O,h,9,s[29]),O=l(O,A,P,T,y,14,s[30]),P=d(P,T=l(T,O,A,P,_,20,s[31]),O,A,v,4,s[32]),A=d(A,P,T,O,b,11,s[33]),O=d(O,A,P,T,k,16,s[34]),T=d(T,O,A,P,I,23,s[35]),P=d(P,T,O,A,c,4,s[36]),A=d(A,P,T,O,g,11,s[37]),O=d(O,A,P,T,y,16,s[38]),T=d(T,O,A,P,w,23,s[39]),P=d(P,T,O,A,S,4,s[40]),A=d(A,P,T,O,o,11,s[41]),O=d(O,A,P,T,p,16,s[42]),T=d(T,O,A,P,m,23,s[43]),P=d(P,T,O,A,x,4,s[44]),A=d(A,P,T,O,_,11,s[45]),O=d(O,A,P,T,C,16,s[46]),P=f(P,T=d(T,O,A,P,h,23,s[47]),O,A,o,6,s[48]),A=f(A,P,T,O,y,10,s[49]),O=f(O,A,P,T,I,15,s[50]),T=f(T,O,A,P,v,21,s[51]),P=f(P,T,O,A,_,6,s[52]),A=f(A,P,T,O,p,10,s[53]),O=f(O,A,P,T,w,15,s[54]),T=f(T,O,A,P,c,21,s[55]),P=f(P,T,O,A,b,6,s[56]),A=f(A,P,T,O,C,10,s[57]),O=f(O,A,P,T,m,15,s[58]),T=f(T,O,A,P,S,21,s[59]),P=f(P,T,O,A,g,6,s[60]),A=f(A,P,T,O,k,10,s[61]),O=f(O,A,P,T,h,15,s[62]),T=f(T,O,A,P,x,21,s[63]),a[0]=a[0]+P|0,a[1]=a[1]+T|0,a[2]=a[2]+O|0,a[3]=a[3]+A|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;n[r>>>5]|=128<<24-r%32;var a=e.floor(i/4294967296),o=i;n[15+(r+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n[14+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,c=s.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,n,i,r,a,o){var s=e+(t&n|~t&i)+r+o;return(s<<a|s>>>32-a)+t}function l(e,t,n,i,r,a,o){var s=e+(t&i|n&~i)+r+o;return(s<<a|s>>>32-a)+t}function d(e,t,n,i,r,a,o){var s=e+(t^n^i)+r+o;return(s<<a|s>>>32-a)+t}function f(e,t,n,i,r,a,o){var s=e+(n^(t|~i))+r+o;return(s<<a|s>>>32-a)+t}t.MD5=a._createHelper(c),t.HmacMD5=a._createHmacHelper(c)}(Math),n.MD5)})),y((function(e,t){var n;e.exports=(n=x,void function(){var e=n,t=e.lib.Base,i=e.enc.Utf8;e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var a=this._oKey=t.clone(),o=this._iKey=t.clone(),s=a.words,c=o.words,u=0;u<n;u++)s[u]^=1549556828,c[u]^=909522486;a.sigBytes=o.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})}())})),y((function(e,t){e.exports=x.HmacMD5}))),k=y((function(e,t){e.exports=x.enc.Utf8})),_=y((function(e,t){var n;e.exports=(n=x,function(){var e=n,t=e.lib.WordArray;function i(e,n,i){for(var r=[],a=0,o=0;o<n;o++)if(o%4){var s=i[e.charCodeAt(o-1)]<<o%4*2,c=i[e.charCodeAt(o)]>>>6-o%4*2;r[a>>>2]|=(s|c)<<24-a%4*8,a++}return t.create(r,a)}e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,i=this._map;e.clamp();for(var r=[],a=0;a<n;a+=3)for(var o=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<n;s++)r.push(i.charAt(o>>>6*(3-s)&63));var c=i.charAt(64);if(c)for(;r.length%4;)r.push(c);return r.join("")},parse:function(e){var t=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var a=0;a<n.length;a++)r[n.charCodeAt(a)]=a}var o=n.charAt(64);if(o){var s=e.indexOf(o);-1!==s&&(t=s)}return i(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)})),S="FUNCTION",I="OBJECT",C="pending",P="fulfilled",T="rejected";function O(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function A(e){return"object"===O(e)}function M(e){return"function"==typeof e}function E(e){return function(){try{return e.apply(e,arguments)}catch(e){console.error(e)}}}var L="REJECTED",D="NOT_PENDING",R=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.createPromise,i=t.retryRule,r=void 0===i?L:i;(0,g.default)(this,e),this.createPromise=n,this.status=null,this.promise=null,this.retryRule=r}return(0,v.default)(e,[{key:"needRetry",get:function(){if(!this.status)return!0;switch(this.retryRule){case L:return this.status===T;case D:return this.status!==C}}},{key:"exec",value:function(){var e=this;return this.needRetry?(this.status=C,this.promise=this.createPromise().then((function(t){return e.status=P,Promise.resolve(t)}),(function(t){return e.status=T,Promise.reject(t)})),this.promise):this.promise}}]),e}();function F(e){return e&&"string"==typeof e?JSON.parse(e):e}var B=F([]),z="web",N=(F(void 0),F([])||[]);try{(n("126b").default||n("126b")).appid}catch(si){}var j={};function q(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=j,n=e,Object.prototype.hasOwnProperty.call(t,n)||(j[e]=i),j[e]}"app"===z&&(j=uni._globalUniCloudObj?uni._globalUniCloudObj:uni._globalUniCloudObj={});var U=["invoke","success","fail","complete"],W=q("_globalUniCloudInterceptor");function H(e,t){W[e]||(W[e]={}),A(t)&&Object.keys(t).forEach((function(n){U.indexOf(n)>-1&&function(e,t,n){var i=W[e][t];i||(i=W[e][t]=[]),-1===i.indexOf(n)&&M(n)&&i.push(n)}(e,n,t[n])}))}function V(e,t){W[e]||(W[e]={}),A(t)?Object.keys(t).forEach((function(n){U.indexOf(n)>-1&&function(e,t,n){var i=W[e][t];if(i){var r=i.indexOf(n);r>-1&&i.splice(r,1)}}(e,n,t[n])})):delete W[e]}function $(e,t){return e&&0!==e.length?e.reduce((function(e,n){return e.then((function(){return n(t)}))}),Promise.resolve()):Promise.resolve()}function K(e,t){return W[e]&&W[e][t]||[]}function J(e){H("callObject",e)}var Y=q("_globalUniCloudListener"),G="response",Q="needLogin",X="refreshToken",Z="clientdb",ee="cloudfunction",te="cloudobject";function ne(e){return Y[e]||(Y[e]=[]),Y[e]}function ie(e,t){var n=ne(e);n.includes(t)||n.push(t)}function re(e,t){var n=ne(e),i=n.indexOf(t);-1!==i&&n.splice(i,1)}function ae(e,t){for(var n=ne(e),i=0;i<n.length;i++)(0,n[i])(t)}var oe,se=!1;function ce(){return oe||(oe=new Promise((function(e){se&&e(),function t(){if("function"==typeof getCurrentPages){var n=getCurrentPages();n&&n[0]&&(se=!0,e())}se||setTimeout((function(){t()}),30)}()})),oe)}function ue(e){var t={};for(var n in e){var i=e[n];M(i)&&(t[n]=E(i))}return t}var le,de,fe=function(e){(0,f.default)(n,e);var t=(0,h.default)(n);function n(e){var i;return(0,g.default)(this,n),i=t.call(this,e.message),i.errMsg=e.message||e.errMsg||"unknown system error",i.code=i.errCode=e.code||e.errCode||"SYSTEM_ERROR",i.errSubject=i.subject=e.subject||e.errSubject,i.cause=e.cause,i.requestId=e.requestId,i}return(0,v.default)(n,[{key:"toJson",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!(e>=10))return e++,{errCode:this.errCode,errMsg:this.errMsg,errSubject:this.errSubject,cause:this.cause&&this.cause.toJson?this.cause.toJson(e):this.cause}}}]),n}((0,p.default)(Error)),he={request:function(e){return uni.request(e)},uploadFile:function(e){return uni.uploadFile(e)},setStorageSync:function(e,t){return uni.setStorageSync(e,t)},getStorageSync:function(e){return uni.getStorageSync(e)},removeStorageSync:function(e){return uni.removeStorageSync(e)},clearStorageSync:function(){return uni.clearStorageSync()},connectSocket:function(e){return uni.connectSocket(e)}};function pe(){return{token:he.getStorageSync("uni_id_token")||he.getStorageSync("uniIdToken"),tokenExpired:he.getStorageSync("uni_id_token_expired")}}function ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.token,n=e.tokenExpired;t&&he.setStorageSync("uni_id_token",t),n&&he.setStorageSync("uni_id_token_expired",n)}function ve(){return le||(le=uni.getSystemInfoSync()),le}var me={};function ye(){var e=uni.getLocale&&uni.getLocale()||"en";if(de)return(0,d.default)((0,d.default)((0,d.default)({},me),de),{},{locale:e,LOCALE:e});var t=ve(),n=t.deviceId,i=t.osName,r=t.uniPlatform,a=t.appId,o=["appId","appLanguage","appName","appVersion","appVersionCode","appWgtVersion","browserName","browserVersion","deviceBrand","deviceId","deviceModel","deviceType","osName","osVersion","romName","romVersion","ua","hostName","hostVersion","uniPlatform","uniRuntimeVersion","uniRuntimeVersionCode","uniCompilerVersion","uniCompilerVersionCode"];for(var s in t)Object.hasOwnProperty.call(t,s)&&-1===o.indexOf(s)&&delete t[s];return de=(0,d.default)((0,d.default)({PLATFORM:r,OS:i,APPID:a,DEVICEID:n},function(){var e,t;try{if(uni.getLaunchOptionsSync){if(uni.getLaunchOptionsSync.toString().indexOf("not yet implemented")>-1)return;var n=uni.getLaunchOptionsSync(),i=n.scene,r=n.channel;e=r,t=i}}catch(e){}return{channel:e,scene:t}}()),t),(0,d.default)((0,d.default)((0,d.default)({},me),de),{},{locale:e,LOCALE:e})}var be,xe={sign:function(e,t){var n="";return Object.keys(e).sort().forEach((function(t){e[t]&&(n=n+"&"+t+"="+e[t])})),n=n.slice(1),w(n,t).toString()},wrappedRequest:function(e,t){return new Promise((function(n,i){t(Object.assign(e,{complete:function(e){e||(e={});var t=e.data&&e.data.header&&e.data.header["x-serverless-request-id"]||e.header&&e.header["request-id"];if(!e.statusCode||e.statusCode>=400){var r=e.data&&e.data.error&&e.data.error.code||"SYS_ERR",a=e.data&&e.data.error&&e.data.error.message||e.errMsg||"request:fail";return i(new fe({code:r,message:a,requestId:t}))}var o=e.data;if(o.error)return i(new fe({code:o.error.code,message:o.error.message,requestId:t}));o.result=o.data,o.requestId=t,delete o.data,n(o)}}))}))},toBase64:function(e){return _.stringify(k.parse(e))}},we=function(){function e(t){var n=this;(0,g.default)(this,e),["spaceId","clientSecret"].forEach((function(e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new Error("".concat(e," required"))})),this.config=Object.assign({},{endpoint:0===t.spaceId.indexOf("mp-")?"https://api.next.bspapp.com":"https://api.bspapp.com"},t),this.config.provider="aliyun",this.config.requestUrl=this.config.endpoint+"/client",this.config.envType=this.config.envType||"public",this.config.accessTokenKey="access_token_"+this.config.spaceId,this.adapter=he,this._getAccessTokenPromiseHub=new R({createPromise:function(){return n.requestAuth(n.setupRequest({method:"serverless.auth.user.anonymousAuthorize",params:"{}"},"auth")).then((function(e){if(!e.result||!e.result.accessToken)throw new fe({code:"AUTH_FAILED",message:"获取accessToken失败"});n.setAccessToken(e.result.accessToken)}))},retryRule:D})}return(0,v.default)(e,[{key:"hasAccessToken",get:function(){return!!this.accessToken}},{key:"setAccessToken",value:function(e){this.accessToken=e}},{key:"requestWrapped",value:function(e){return xe.wrappedRequest(e,this.adapter.request)}},{key:"requestAuth",value:function(e){return this.requestWrapped(e)}},{key:"request",value:function(e,t){var n=this;return Promise.resolve().then((function(){return n.hasAccessToken?t?n.requestWrapped(e):n.requestWrapped(e).catch((function(t){return new Promise((function(e,n){!t||"GATEWAY_INVALID_TOKEN"!==t.code&&"InvalidParameter.InvalidToken"!==t.code?n(t):e()})).then((function(){return n.getAccessToken()})).then((function(){var t=n.rebuildRequest(e);return n.request(t,!0)}))})):n.getAccessToken().then((function(){var t=n.rebuildRequest(e);return n.request(t,!0)}))}))}},{key:"rebuildRequest",value:function(e){var t=Object.assign({},e);return t.data.token=this.accessToken,t.header["x-basement-token"]=this.accessToken,t.header["x-serverless-sign"]=xe.sign(t.data,this.config.clientSecret),t}},{key:"setupRequest",value:function(e,t){var n=Object.assign({},e,{spaceId:this.config.spaceId,timestamp:Date.now()}),i={"Content-Type":"application/json"};return"auth"!==t&&(n.token=this.accessToken,i["x-basement-token"]=this.accessToken),i["x-serverless-sign"]=xe.sign(n,this.config.clientSecret),{url:this.config.requestUrl,method:"POST",data:n,dataType:"json",header:i}}},{key:"getAccessToken",value:function(){return this._getAccessTokenPromiseHub.exec()}},{key:"authorize",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(){return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getAccessToken();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"callFunction",value:function(e){var t={method:"serverless.function.runtime.invoke",params:JSON.stringify({functionTarget:e.name,functionArgs:e.data||{}})};return this.request(this.setupRequest(t))}},{key:"getOSSUploadOptionsFromPath",value:function(e){var t={method:"serverless.file.resource.generateProximalSign",params:JSON.stringify(e)};return this.request(this.setupRequest(t))}},{key:"uploadFileToOSS",value:function(e){var t=this,n=e.url,i=e.formData,r=e.name,a=e.filePath,o=e.fileType,s=e.onUploadProgress;return new Promise((function(e,c){var u=t.adapter.uploadFile({url:n,formData:i,name:r,filePath:a,fileType:o,header:{"X-OSS-server-side-encrpytion":"AES256"},success:function(t){t&&t.statusCode<400?e(t):c(new fe({code:"UPLOAD_FAILED",message:"文件上传失败"}))},fail:function(e){c(new fe({code:e.code||"UPLOAD_FAILED",message:e.message||e.errMsg||"文件上传失败"}))}});"function"==typeof s&&u&&"function"==typeof u.onProgressUpdate&&u.onProgressUpdate((function(e){s({loaded:e.totalBytesSent,total:e.totalBytesExpectedToSend})}))}))}},{key:"reportOSSUpload",value:function(e){var t={method:"serverless.file.resource.report",params:JSON.stringify(e)};return this.request(this.setupRequest(t))}},{key:"uploadFile",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(t){var n,i,r,a,o,s,c,l,d,f,h,p,g,v,m,y,b,x,w,k,_,S;return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.filePath,i=t.cloudPath,r=t.fileType,a=void 0===r?"image":r,o=t.cloudPathAsRealPath,s=void 0!==o&&o,c=t.onUploadProgress,l=t.config,"string"===O(i)){e.next=3;break}throw new fe({code:"INVALID_PARAM",message:"cloudPath必须为字符串类型"});case 3:if(i=i.trim()){e.next=5;break}throw new fe({code:"INVALID_PARAM",message:"cloudPath不可为空"});case 5:if(!/:\/\//.test(i)){e.next=7;break}throw new fe({code:"INVALID_PARAM",message:"cloudPath不合法"});case 7:if(d=l&&l.envType||this.config.envType,!(s&&("/"!==i[0]&&(i="/"+i),i.indexOf("\\")>-1))){e.next=10;break}throw new fe({code:"INVALID_PARAM",message:"使用cloudPath作为路径时，cloudPath不可包含“\\”"});case 10:return e.next=12,this.getOSSUploadOptionsFromPath({env:d,filename:s?i.split("/").pop():i,fileId:s?i:void 0});case 12:return f=e.sent.result,h="https://"+f.cdnDomain+"/"+f.ossPath,p=f.securityToken,g=f.accessKeyId,v=f.signature,m=f.host,y=f.ossPath,b=f.id,x=f.policy,w=f.ossCallbackUrl,k={"Cache-Control":"max-age=2592000","Content-Disposition":"attachment",OSSAccessKeyId:g,Signature:v,host:m,id:b,key:y,policy:x,success_action_status:200},p&&(k["x-oss-security-token"]=p),w&&(_=JSON.stringify({callbackUrl:w,callbackBody:JSON.stringify({fileId:b,spaceId:this.config.spaceId}),callbackBodyType:"application/json"}),k.callback=xe.toBase64(_)),S={url:"https://"+f.host,formData:k,fileName:"file",name:"file",filePath:n,fileType:a},e.next=27,this.uploadFileToOSS(Object.assign({},S,{onUploadProgress:c}));case 27:if(!w){e.next=29;break}return e.abrupt("return",{success:!0,filePath:n,fileID:h});case 29:return e.next=31,this.reportOSSUpload({id:b});case 31:if(!e.sent.success){e.next=33;break}return e.abrupt("return",{success:!0,filePath:n,fileID:h});case 33:throw new fe({code:"UPLOAD_FAILED",message:"文件上传失败"});case 34:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTempFileURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fileList;return new Promise((function(e,n){Array.isArray(t)&&0!==t.length||n(new fe({code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"})),e({fileList:t.map((function(e){return{fileID:e,tempFileURL:e}}))})}))}},{key:"getFileInfo",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(){var t,n,i,r=arguments;return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:{},n=t.fileList,Array.isArray(n)&&0!==n.length){e.next=3;break}throw new fe({code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"});case 3:return i={method:"serverless.file.resource.info",params:JSON.stringify({id:n.map((function(e){return e.split("?")[0]})).join(",")})},e.next=6,this.request(this.setupRequest(i));case 6:return e.t0=e.sent.result,e.abrupt("return",{fileList:e.t0});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ke={init:function(e){var t=new we(e),n={signInAnonymously:function(){return t.authorize()},getLoginState:function(){return Promise.resolve(!1)}};return t.auth=function(){return n},t.customAuth=t.auth,t}},_e="undefined"!=typeof location&&"http:"===location.protocol?"http:":"https:";!function(e){e.local="local",e.none="none",e.session="session"}(be||(be={}));var Se,Ie=function(){},Ce=y((function(e,t){var n;e.exports=(n=x,function(e){var t=n,i=t.lib,r=i.WordArray,a=i.Hasher,o=t.algo,s=[],c=[];!function(){function t(t){for(var n=e.sqrt(t),i=2;i<=n;i++)if(!(t%i))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var i=2,r=0;r<64;)t(i)&&(r<8&&(s[r]=n(e.pow(i,.5))),c[r]=n(e.pow(i,1/3)),r++),i++}();var u=[],l=o.SHA256=a.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],a=n[2],o=n[3],s=n[4],l=n[5],d=n[6],f=n[7],h=0;h<64;h++){if(h<16)u[h]=0|e[t+h];else{var p=u[h-15],g=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,v=u[h-2],m=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;u[h]=g+u[h-7]+m+u[h-16]}var y=i&r^i&a^r&a,b=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),x=f+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&d)+c[h]+u[h];f=d,d=l,l=s,s=o+x|0,o=a,a=r,r=i,i=x+(b+y)|0}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+a|0,n[3]=n[3]+o|0,n[4]=n[4]+s|0,n[5]=n[5]+l|0,n[6]=n[6]+d|0,n[7]=n[7]+f|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;return n[r>>>5]|=128<<24-r%32,n[14+(r+64>>>9<<4)]=e.floor(i/4294967296),n[15+(r+64>>>9<<4)]=i,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=a._createHelper(l),t.HmacSHA256=a._createHmacHelper(l)}(Math),n.SHA256)})),Pe=Ce,Te=y((function(e,t){e.exports=x.HmacSHA256})),Oe=function(){var e;if(!Promise){e=function(){},e.promise={};var t=function(){throw new fe({message:'Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.'})};return Object.defineProperty(e.promise,"then",{get:t}),Object.defineProperty(e.promise,"catch",{get:t}),e}var n=new Promise((function(t,n){e=function(e,i){return e?n(e):t(i)}}));return e.promise=n,e};function Ae(e){return void 0===e}function Me(e){return"[object Null]"===Object.prototype.toString.call(e)}!function(e){e.WEB="web",e.WX_MP="wx_mp"}(Se||(Se={}));var Ee={adapter:null,runtime:void 0},Le=["anonymousUuidKey"],De=function(e){(0,f.default)(n,e);var t=(0,h.default)(n);function n(){var e;return(0,g.default)(this,n),e=t.call(this),Ee.adapter.root.tcbObject||(Ee.adapter.root.tcbObject={}),e}return(0,v.default)(n,[{key:"setItem",value:function(e,t){Ee.adapter.root.tcbObject[e]=t}},{key:"getItem",value:function(e){return Ee.adapter.root.tcbObject[e]}},{key:"removeItem",value:function(e){delete Ee.adapter.root.tcbObject[e]}},{key:"clear",value:function(){delete Ee.adapter.root.tcbObject}}]),n}(Ie);function Re(e,t){switch(e){case"local":return t.localStorage||new De;case"none":return new De;default:return t.sessionStorage||new De}}var Fe=function(){function e(t){if((0,g.default)(this,e),!this._storage){this._persistence=Ee.adapter.primaryStorage||t.persistence,this._storage=Re(this._persistence,Ee.adapter);var n="access_token_".concat(t.env),i="access_token_expire_".concat(t.env),r="refresh_token_".concat(t.env),a="anonymous_uuid_".concat(t.env),o="login_type_".concat(t.env),s="user_info_".concat(t.env);this.keys={accessTokenKey:n,accessTokenExpireKey:i,refreshTokenKey:r,anonymousUuidKey:a,loginTypeKey:o,userInfoKey:s}}}return(0,v.default)(e,[{key:"updatePersistence",value:function(e){if(e!==this._persistence){var t="local"===this._persistence;this._persistence=e;var n=Re(e,Ee.adapter);for(var i in this.keys){var r=this.keys[i];if(!t||!Le.includes(i)){var a=this._storage.getItem(r);Ae(a)||Me(a)||(n.setItem(r,a),this._storage.removeItem(r))}}this._storage=n}}},{key:"setStore",value:function(e,t,n){if(this._storage){var i={version:n||"localCachev1",content:t},r=JSON.stringify(i);try{this._storage.setItem(e,r)}catch(e){throw e}}}},{key:"getStore",value:function(e,t){try{if(!this._storage)return}catch(e){return""}t=t||"localCachev1";var n=this._storage.getItem(e);return n&&n.indexOf(t)>=0?JSON.parse(n).content:""}},{key:"removeStore",value:function(e){this._storage.removeItem(e)}}]),e}(),Be={},ze={};function Ne(e){return Be[e]}var je=(0,v.default)((function e(t,n){(0,g.default)(this,e),this.data=n||null,this.name=t})),qe=function(e){(0,f.default)(n,e);var t=(0,h.default)(n);function n(e,i){var r;return(0,g.default)(this,n),r=t.call(this,"error",{error:e,data:i}),r.error=e,r}return(0,v.default)(n)}(je),Ue=new(function(){function e(){(0,g.default)(this,e),this._listeners={}}return(0,v.default)(e,[{key:"on",value:function(e,t){return function(e,t,n){n[e]=n[e]||[],n[e].push(t)}(e,t,this._listeners),this}},{key:"off",value:function(e,t){return function(e,t,n){if(n&&n[e]){var i=n[e].indexOf(t);-1!==i&&n[e].splice(i,1)}}(e,t,this._listeners),this}},{key:"fire",value:function(e,t){if(e instanceof qe)return console.error(e.error),this;var n="string"==typeof e?new je(e,t||{}):e,i=n.name;if(this._listens(i)){n.target=this;var r,a=this._listeners[i]?(0,s.default)(this._listeners[i]):[],o=(0,c.default)(a);try{for(o.s();!(r=o.n()).done;){var u=r.value;u.call(this,n)}}catch(l){o.e(l)}finally{o.f()}}return this}},{key:"_listens",value:function(e){return this._listeners[e]&&this._listeners[e].length>0}}]),e}());function We(e,t){Ue.on(e,t)}function He(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ue.fire(e,t)}function Ve(e,t){Ue.off(e,t)}var $e,Ke="loginStateChanged",Je="loginStateExpire",Ye="loginTypeChanged",Ge="anonymousConverted",Qe="refreshAccessToken";!function(e){e.ANONYMOUS="ANONYMOUS",e.WECHAT="WECHAT",e.WECHAT_PUBLIC="WECHAT-PUBLIC",e.WECHAT_OPEN="WECHAT-OPEN",e.CUSTOM="CUSTOM",e.EMAIL="EMAIL",e.USERNAME="USERNAME",e.NULL="NULL"}($e||($e={}));var Xe=["auth.getJwt","auth.logout","auth.signInWithTicket","auth.signInAnonymously","auth.signIn","auth.fetchAccessTokenWithRefreshToken","auth.signUpWithEmailAndPassword","auth.activateEndUserMail","auth.sendPasswordResetEmail","auth.resetPasswordWithToken","auth.isUsernameRegistered"],Ze={"X-SDK-Version":"1.3.5"};function et(e,t,n){var i=e[t];e[t]=function(t){var r={},a={};n.forEach((function(n){var i=n.call(e,t),o=i.data,s=i.headers;Object.assign(r,o),Object.assign(a,s)}));var o=t.data;return o&&function(){var e;if(e=o,"[object FormData]"!==Object.prototype.toString.call(e))t.data=(0,d.default)((0,d.default)({},o),r);else for(var n in r)o.append(n,r[n])}(),t.headers=(0,d.default)((0,d.default)({},t.headers||{}),a),i.call(e,t)}}function tt(){var e=Math.random().toString(16).slice(2);return{data:{seqId:e},headers:(0,d.default)((0,d.default)({},Ze),{},{"x-seqid":e})}}var nt=function(){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,g.default)(this,e),this.config=n,this._reqClass=new Ee.adapter.reqClass({timeout:this.config.timeout,timeoutMsg:"请求在".concat(this.config.timeout/1e3,"s内未完成，已中断"),restrictedMethods:["post"]}),this._cache=Ne(this.config.env),this._localCache=(t=this.config.env,ze[t]),et(this._reqClass,"post",[tt]),et(this._reqClass,"upload",[tt]),et(this._reqClass,"download",[tt])}return(0,v.default)(e,[{key:"post",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(t){return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._reqClass.post(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"upload",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(t){return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._reqClass.upload(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"download",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(t){return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._reqClass.download(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"refreshAccessToken",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(){var t,n;return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._refreshAccessTokenPromise||(this._refreshAccessTokenPromise=this._refreshAccessToken()),e.prev=1,e.next=4,this._refreshAccessTokenPromise;case 4:t=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),n=e.t0;case 10:if(this._refreshAccessTokenPromise=null,this._shouldRefreshAccessTokenHook=null,!n){e.next=12;break}throw n;case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"_refreshAccessToken",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(){var t,n,i,r,a,o,s,c,l,d,f,h,p;return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this._cache.keys,n=t.accessTokenKey,i=t.accessTokenExpireKey,r=t.refreshTokenKey,a=t.loginTypeKey,o=t.anonymousUuidKey,this._cache.removeStore(n),this._cache.removeStore(i),s=this._cache.getStore(r),s){e.next=5;break}throw new fe({message:"未登录CloudBase"});case 5:return c={refresh_token:s},e.next=8,this.request("auth.fetchAccessTokenWithRefreshToken",c);case 8:if(l=e.sent,!l.data.code){e.next=21;break}if(d=l.data.code,"SIGN_PARAM_INVALID"!==d&&"REFRESH_TOKEN_EXPIRED"!==d&&"INVALID_REFRESH_TOKEN"!==d){e.next=20;break}if(this._cache.getStore(a)!==$e.ANONYMOUS||"INVALID_REFRESH_TOKEN"!==d){e.next=19;break}return f=this._cache.getStore(o),h=this._cache.getStore(r),e.next=17,this.send("auth.signInAnonymously",{anonymous_uuid:f,refresh_token:h});case 17:return p=e.sent,e.abrupt("return",(this.setRefreshToken(p.refresh_token),this._refreshAccessToken()));case 19:He(Je),this._cache.removeStore(r);case 20:throw new fe({code:l.data.code,message:"刷新access token失败：".concat(l.data.code)});case 21:if(!l.data.access_token){e.next=23;break}return e.abrupt("return",(He(Qe),this._cache.setStore(n,l.data.access_token),this._cache.setStore(i,l.data.access_token_expire+Date.now()),{accessToken:l.data.access_token,accessTokenExpire:l.data.access_token_expire}));case 23:l.data.refresh_token&&(this._cache.removeStore(r),this._cache.setStore(r,l.data.refresh_token),this._refreshAccessToken());case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAccessToken",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(){var t,n,i,r,a,o,s;return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this._cache.keys,n=t.accessTokenKey,i=t.accessTokenExpireKey,r=t.refreshTokenKey,this._cache.getStore(r)){e.next=3;break}throw new fe({message:"refresh token不存在，登录状态异常"});case 3:if(a=this._cache.getStore(n),o=this._cache.getStore(i),s=!0,e.t0=this._shouldRefreshAccessTokenHook,!e.t0){e.next=9;break}return e.next=8,this._shouldRefreshAccessTokenHook(a,o);case 8:e.t0=!e.sent;case 9:if(e.t1=e.t0,!e.t1){e.next=12;break}s=!1;case 12:return e.abrupt("return",(!a||!o||o<Date.now())&&s?this.refreshAccessToken():{accessToken:a,accessTokenExpire:o});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"request",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(t,n,i){var r,a,o,s,c,l,f,h,p,g,v,m,y,b,x,w;return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r="x-tcb-trace_".concat(this.config.env),a="application/x-www-form-urlencoded",o=(0,d.default)({action:t,env:this.config.env,dataVersion:"2019-08-16"},n),-1!==Xe.indexOf(t)){e.next=10;break}if(s=this._cache.keys.refreshTokenKey,e.t0=this._cache.getStore(s),!e.t0){e.next=10;break}return e.next=9,this.getAccessToken();case 9:o.access_token=e.sent.accessToken;case 10:if("storage.uploadFile"===t){for(l in c=new FormData,c)c.hasOwnProperty(l)&&void 0!==c[l]&&c.append(l,o[l]);a="multipart/form-data"}else for(f in a="application/json",c={},o)void 0!==o[f]&&(c[f]=o[f]);return h={headers:{"content-type":a}},i&&i.onUploadProgress&&(h.onUploadProgress=i.onUploadProgress),p=this._localCache.getStore(r),p&&(h.headers["X-TCB-Trace"]=p),g=n.parse,v=n.inQuery,m=n.search,y={env:this.config.env},g&&(y.parse=!0),v&&(y=(0,d.default)((0,d.default)({},v),y)),b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=/\?/.test(t),r="";for(var a in n)""===r?!i&&(t+="?"):r+="&",r+="".concat(a,"=").concat(encodeURIComponent(n[a]));return/^http(s)?\:\/\//.test(t+=r)?t:"".concat(e).concat(t)}(_e,"//tcb-api.tencentcloudapi.com/web",y),m&&(b+=m),e.next=22,this.post((0,d.default)({url:b,data:c},h));case 22:if(x=e.sent,w=x.header&&x.header["x-tcb-trace"],w&&this._localCache.setStore(r,w),(200===Number(x.status)||200===Number(x.statusCode))&&x.data){e.next=26;break}throw new fe({code:"NETWORK_ERROR",message:"network request error"});case 26:return e.abrupt("return",x);case 27:case"end":return e.stop()}}),e,this)})));return function(t,n,i){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(t){var n,i,r,a=arguments;return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.request(t,n,{onUploadProgress:n.onUploadProgress});case 3:if(i=e.sent,"ACCESS_TOKEN_EXPIRED"!==i.data.code||-1!==Xe.indexOf(t)){e.next=13;break}return e.next=7,this.refreshAccessToken();case 7:return e.next=9,this.request(t,n,{onUploadProgress:n.onUploadProgress});case 9:if(r=e.sent,!r.data.code){e.next=12;break}throw new fe({code:r.data.code,message:r.data.message});case 12:return e.abrupt("return",r.data);case 13:if(!i.data.code){e.next=15;break}throw new fe({code:i.data.code,message:i.data.message});case 15:return e.abrupt("return",i.data);case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setRefreshToken",value:function(e){var t=this._cache.keys,n=t.accessTokenKey,i=t.accessTokenExpireKey,r=t.refreshTokenKey;this._cache.removeStore(n),this._cache.removeStore(i),this._cache.setStore(r,e)}}]),e}(),it={};function rt(e){return it[e]}var at=function(){function e(t){(0,g.default)(this,e),this.config=t,this._cache=Ne(t.env),this._request=rt(t.env)}return(0,v.default)(e,[{key:"setRefreshToken",value:function(e){var t=this._cache.keys,n=t.accessTokenKey,i=t.accessTokenExpireKey,r=t.refreshTokenKey;this._cache.removeStore(n),this._cache.removeStore(i),this._cache.setStore(r,e)}},{key:"setAccessToken",value:function(e,t){var n=this._cache.keys,i=n.accessTokenKey,r=n.accessTokenExpireKey;this._cache.setStore(i,e),this._cache.setStore(r,t)}},{key:"refreshUserInfo",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(){var t,n;return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._request.send("auth.getUserInfo",{});case 2:return t=e.sent,n=t.data,e.abrupt("return",(this.setLocalUserInfo(n),n));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setLocalUserInfo",value:function(e){var t=this._cache.keys.userInfoKey;this._cache.setStore(t,e)}}]),e}(),ot=function(){function e(t){if((0,g.default)(this,e),!t)throw new fe({code:"PARAM_ERROR",message:"envId is not defined"});this._envId=t,this._cache=Ne(this._envId),this._request=rt(this._envId),this.setUserInfo()}return(0,v.default)(e,[{key:"linkWithTicket",value:function(e){if("string"!=typeof e)throw new fe({code:"PARAM_ERROR",message:"ticket must be string"});return this._request.send("auth.linkWithTicket",{ticket:e})}},{key:"linkWithRedirect",value:function(e){e.signInWithRedirect()}},{key:"updatePassword",value:function(e,t){return this._request.send("auth.updatePassword",{oldPassword:t,newPassword:e})}},{key:"updateEmail",value:function(e){return this._request.send("auth.updateEmail",{newEmail:e})}},{key:"updateUsername",value:function(e){if("string"!=typeof e)throw new fe({code:"PARAM_ERROR",message:"username must be a string"});return this._request.send("auth.updateUsername",{username:e})}},{key:"getLinkedUidList",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(){var t,n,i,r;return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._request.send("auth.getLinkedUidList",{});case 2:return t=e.sent,n=t.data,i=!1,r=n.users,e.abrupt("return",(r.forEach((function(e){e.wxOpenId&&e.wxPublicId&&(i=!0)})),{users:r,hasPrimaryUid:i}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPrimaryUid",value:function(e){return this._request.send("auth.setPrimaryUid",{uid:e})}},{key:"unlink",value:function(e){return this._request.send("auth.unlink",{platform:e})}},{key:"update",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(t){var n,i,r,a,o,s,c,l;return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.nickName,i=t.gender,r=t.avatarUrl,a=t.province,o=t.country,s=t.city,e.next=8,this._request.send("auth.updateUserInfo",{nickName:n,gender:i,avatarUrl:r,province:a,country:o,city:s});case 8:c=e.sent,l=c.data,this.setLocalUserInfo(l);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"refresh",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(){var t,n;return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._request.send("auth.getUserInfo",{});case 2:return t=e.sent,n=t.data,e.abrupt("return",(this.setLocalUserInfo(n),n));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setUserInfo",value:function(){var e=this,t=this._cache.keys.userInfoKey,n=this._cache.getStore(t);["uid","loginType","openid","wxOpenId","wxPublicId","unionId","qqMiniOpenId","email","hasPassword","customUserId","nickName","gender","avatarUrl"].forEach((function(t){e[t]=n[t]})),this.location={country:n.country,province:n.province,city:n.city}}},{key:"setLocalUserInfo",value:function(e){var t=this._cache.keys.userInfoKey;this._cache.setStore(t,e),this.setUserInfo()}}]),e}(),st=function(){function e(t){if((0,g.default)(this,e),!t)throw new fe({code:"PARAM_ERROR",message:"envId is not defined"});this._cache=Ne(t);var n=this._cache.keys,i=n.refreshTokenKey,r=n.accessTokenKey,a=n.accessTokenExpireKey,o=this._cache.getStore(i),s=this._cache.getStore(r),c=this._cache.getStore(a);this.credential={refreshToken:o,accessToken:s,accessTokenExpire:c},this.user=new ot(t)}return(0,v.default)(e,[{key:"isAnonymousAuth",get:function(){return this.loginType===$e.ANONYMOUS}},{key:"isCustomAuth",get:function(){return this.loginType===$e.CUSTOM}},{key:"isWeixinAuth",get:function(){return this.loginType===$e.WECHAT||this.loginType===$e.WECHAT_OPEN||this.loginType===$e.WECHAT_PUBLIC}},{key:"loginType",get:function(){return this._cache.getStore(this._cache.keys.loginTypeKey)}}]),e}(),ct=function(e){(0,f.default)(n,e);var t=(0,h.default)(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,v.default)(n,[{key:"signIn",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(){var t,n,i,r,a,o,s;return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._cache.updatePersistence("local"),t=this._cache.keys,n=t.anonymousUuidKey,i=t.refreshTokenKey,r=this._cache.getStore(n)||void 0,a=this._cache.getStore(i)||void 0,e.next=8,this._request.send("auth.signInAnonymously",{anonymous_uuid:r,refresh_token:a});case 8:if(o=e.sent,!o.uuid||!o.refresh_token){e.next=20;break}return this._setAnonymousUUID(o.uuid),this.setRefreshToken(o.refresh_token),e.next=14,this._request.refreshAccessToken();case 14:return He(Ke),He(Ye,{env:this.config.env,loginType:$e.ANONYMOUS,persistence:"local"}),s=new st(this.config.env),e.next=19,s.user.refresh();case 19:return e.abrupt("return",s);case 20:throw new fe({message:"匿名登录失败"});case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"linkAndRetrieveDataWithTicket",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(t){var n,i,r,a,o,s;return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this._cache.keys,i=n.anonymousUuidKey,r=n.refreshTokenKey,a=this._cache.getStore(i),o=this._cache.getStore(r),e.next=7,this._request.send("auth.linkAndRetrieveDataWithTicket",{anonymous_uuid:a,refresh_token:o,ticket:t});case 7:if(s=e.sent,!s.refresh_token){e.next=16;break}return this._clearAnonymousUUID(),this.setRefreshToken(s.refresh_token),e.next=13,this._request.refreshAccessToken();case 13:return He(Ge,{env:this.config.env}),He(Ye,{loginType:$e.CUSTOM,persistence:"local"}),e.abrupt("return",{credential:{refreshToken:s.refresh_token}});case 16:throw new fe({message:"匿名转化失败"});case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_setAnonymousUUID",value:function(e){var t=this._cache.keys,n=t.anonymousUuidKey,i=t.loginTypeKey;this._cache.removeStore(n),this._cache.setStore(n,e),this._cache.setStore(i,$e.ANONYMOUS)}},{key:"_clearAnonymousUUID",value:function(){this._cache.removeStore(this._cache.keys.anonymousUuidKey)}}]),n}(at),ut=function(e){(0,f.default)(n,e);var t=(0,h.default)(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,v.default)(n,[{key:"signIn",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(t){var n,i;return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"==typeof t){e.next=2;break}throw new fe({code:"PARAM_ERROR",message:"ticket must be a string"});case 2:return n=this._cache.keys.refreshTokenKey,e.next=5,this._request.send("auth.signInWithTicket",{ticket:t,refresh_token:this._cache.getStore(n)||""});case 5:if(i=e.sent,!i.refresh_token){e.next=15;break}return this.setRefreshToken(i.refresh_token),e.next=10,this._request.refreshAccessToken();case 10:return He(Ke),He(Ye,{env:this.config.env,loginType:$e.CUSTOM,persistence:this.config.persistence}),e.next=14,this.refreshUserInfo();case 14:return e.abrupt("return",new st(this.config.env));case 15:throw new fe({message:"自定义登录失败"});case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(at),lt=function(e){(0,f.default)(n,e);var t=(0,h.default)(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,v.default)(n,[{key:"signIn",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(t,n){var i,r,a,o,s;return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"==typeof t){e.next=2;break}throw new fe({code:"PARAM_ERROR",message:"email must be a string"});case 2:return i=this._cache.keys.refreshTokenKey,e.next=5,this._request.send("auth.signIn",{loginType:"EMAIL",email:t,password:n,refresh_token:this._cache.getStore(i)||""});case 5:if(r=e.sent,a=r.refresh_token,o=r.access_token,s=r.access_token_expire,!a){e.next=22;break}if(this.setRefreshToken(a),!o||!s){e.next=15;break}this.setAccessToken(o,s),e.next=17;break;case 15:return e.next=17,this._request.refreshAccessToken();case 17:return e.next=19,this.refreshUserInfo();case 19:return He(Ke),He(Ye,{env:this.config.env,loginType:$e.EMAIL,persistence:this.config.persistence}),e.abrupt("return",new st(this.config.env));case 22:throw r.code?new fe({code:r.code,message:"邮箱登录失败: ".concat(r.message)}):new fe({message:"邮箱登录失败"});case 23:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"activate",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(t){return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this._request.send("auth.activateEndUserMail",{token:t}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resetPasswordWithToken",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(t,n){return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this._request.send("auth.resetPasswordWithToken",{token:t,newPassword:n}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(at),dt=function(e){(0,f.default)(n,e);var t=(0,h.default)(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,v.default)(n,[{key:"signIn",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(t,n){var i,r,a,o,s;return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"==typeof t){e.next=2;break}throw new fe({code:"PARAM_ERROR",message:"username must be a string"});case 2:return"string"!=typeof n&&(n="",console.warn("password is empty")),i=this._cache.keys.refreshTokenKey,e.next=6,this._request.send("auth.signIn",{loginType:$e.USERNAME,username:t,password:n,refresh_token:this._cache.getStore(i)||""});case 6:if(r=e.sent,a=r.refresh_token,o=r.access_token_expire,s=r.access_token,!a){e.next=23;break}if(this.setRefreshToken(a),!s||!o){e.next=16;break}this.setAccessToken(s,o),e.next=18;break;case 16:return e.next=18,this._request.refreshAccessToken();case 18:return e.next=20,this.refreshUserInfo();case 20:return He(Ke),He(Ye,{env:this.config.env,loginType:$e.USERNAME,persistence:this.config.persistence}),e.abrupt("return",new st(this.config.env));case 23:throw r.code?new fe({code:r.code,message:"用户名密码登录失败: ".concat(r.message)}):new fe({message:"用户名密码登录失败"});case 24:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(at),ft=function(){function e(t){(0,g.default)(this,e),this.config=t,this._cache=Ne(t.env),this._request=rt(t.env),this._onAnonymousConverted=this._onAnonymousConverted.bind(this),this._onLoginTypeChanged=this._onLoginTypeChanged.bind(this),We(Ye,this._onLoginTypeChanged)}return(0,v.default)(e,[{key:"currentUser",get:function(){var e=this.hasLoginState();return e&&e.user||null}},{key:"loginType",get:function(){return this._cache.getStore(this._cache.keys.loginTypeKey)}},{key:"anonymousAuthProvider",value:function(){return new ct(this.config)}},{key:"customAuthProvider",value:function(){return new ut(this.config)}},{key:"emailAuthProvider",value:function(){return new lt(this.config)}},{key:"usernameAuthProvider",value:function(){return new dt(this.config)}},{key:"signInAnonymously",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(){return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new ct(this.config).signIn());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"signInWithEmailAndPassword",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(t,n){return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new lt(this.config).signIn(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"signInWithUsernameAndPassword",value:function(e,t){return new dt(this.config).signIn(e,t)}},{key:"linkAndRetrieveDataWithTicket",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(t){return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._anonymousAuthProvider||(this._anonymousAuthProvider=new ct(this.config)),We(Ge,this._onAnonymousConverted),e.next=3,this._anonymousAuthProvider.linkAndRetrieveDataWithTicket(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(){var t,n,i,r,a,o;return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.loginType!==$e.ANONYMOUS){e.next=2;break}throw new fe({message:"匿名用户不支持登出操作"});case 2:if(t=this._cache.keys,n=t.refreshTokenKey,i=t.accessTokenKey,r=t.accessTokenExpireKey,a=this._cache.getStore(n),a){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,this._request.send("auth.logout",{refresh_token:a});case 7:return o=e.sent,e.abrupt("return",(this._cache.removeStore(n),this._cache.removeStore(i),this._cache.removeStore(r),He(Ke),He(Ye,{env:this.config.env,loginType:$e.NULL,persistence:this.config.persistence}),o));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"signUpWithEmailAndPassword",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(t,n){return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this._request.send("auth.signUpWithEmailAndPassword",{email:t,password:n}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"sendPasswordResetEmail",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(t){return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this._request.send("auth.sendPasswordResetEmail",{email:t}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onLoginStateChanged",value:function(e){var t=this;We(Ke,(function(){var n=t.hasLoginState();e.call(t,n)}));var n=this.hasLoginState();e.call(this,n)}},{key:"onLoginStateExpired",value:function(e){We(Je,e.bind(this))}},{key:"onAccessTokenRefreshed",value:function(e){We(Qe,e.bind(this))}},{key:"onAnonymousConverted",value:function(e){We(Ge,e.bind(this))}},{key:"onLoginTypeChanged",value:function(e){var t=this;We(Ye,(function(){var n=t.hasLoginState();e.call(t,n)}))}},{key:"getAccessToken",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(){return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._request.getAccessToken();case 2:return e.t0=e.sent.accessToken,e.t1=this.config.env,e.abrupt("return",{accessToken:e.t0,env:e.t1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hasLoginState",value:function(){var e=this._cache.keys.refreshTokenKey;return this._cache.getStore(e)?new st(this.config.env):null}},{key:"isUsernameRegistered",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(t){var n,i;return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"==typeof t){e.next=2;break}throw new fe({code:"PARAM_ERROR",message:"username must be a string"});case 2:return e.next=4,this._request.send("auth.isUsernameRegistered",{username:t});case 4:return n=e.sent,i=n.data,e.abrupt("return",i&&i.isRegistered);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLoginState",value:function(){return Promise.resolve(this.hasLoginState())}},{key:"signInWithTicket",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(t){return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new ut(this.config).signIn(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"shouldRefreshAccessToken",value:function(e){this._request._shouldRefreshAccessTokenHook=e.bind(this)}},{key:"getUserInfo",value:function(){return this._request.send("auth.getUserInfo",{}).then((function(e){return e.code?e:(0,d.default)((0,d.default)({},e.data),{},{requestId:e.seqId})}))}},{key:"getAuthHeader",value:function(){var e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,i=this._cache.getStore(t);return{"x-cloudbase-credentials":this._cache.getStore(n)+"/@@/"+i}}},{key:"_onAnonymousConverted",value:function(e){var t=e.data.env;t===this.config.env&&this._cache.updatePersistence(this.config.persistence)}},{key:"_onLoginTypeChanged",value:function(e){var t=e.data,n=t.loginType,i=t.persistence,r=t.env;r===this.config.env&&(this._cache.updatePersistence(i),this._cache.setStore(this._cache.keys.loginTypeKey,n))}}]),e}(),ht=function(e,t){t=t||Oe();var n=rt(this.config.env),i=e.cloudPath,r=e.filePath,a=e.onUploadProgress,o=e.fileType,s=void 0===o?"image":o;return n.send("storage.getUploadMetadata",{path:i}).then((function(e){var o=e.data,c=o.url,u=o.authorization,l=o.token,d=o.fileId,f=o.cosFileId,h=e.requestId,p={key:i,signature:u,"x-cos-meta-fileid":f,success_action_status:"201","x-cos-security-token":l};n.upload({url:c,data:p,file:r,name:i,fileType:s,onUploadProgress:a}).then((function(e){201===e.statusCode?t(null,{fileID:d,requestId:h}):t(new fe({code:"STORAGE_REQUEST_FAIL",message:"STORAGE_REQUEST_FAIL: ".concat(e.data)}))})).catch((function(e){t(e)}))})).catch((function(e){t(e)})),t.promise},pt=function(e,t){t=t||Oe();var n=rt(this.config.env),i=e.cloudPath;return n.send("storage.getUploadMetadata",{path:i}).then((function(e){t(null,e)})).catch((function(e){t(e)})),t.promise},gt=function(e,t){var n=e.fileList;if(t=t||Oe(),!n||!Array.isArray(n))return{code:"INVALID_PARAM",message:"fileList必须是非空的数组"};var i,r=(0,c.default)(n);try{for(r.s();!(i=r.n()).done;){var a=i.value;if(!a||"string"!=typeof a)return{code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"}}}catch(s){r.e(s)}finally{r.f()}var o={fileid_list:n};return rt(this.config.env).send("storage.batchDeleteFile",o).then((function(e){e.code?t(null,e):t(null,{fileList:e.data.delete_list,requestId:e.requestId})})).catch((function(e){t(e)})),t.promise},vt=function(e,t){var n=e.fileList;t=t||Oe(),n&&Array.isArray(n)||t(null,{code:"INVALID_PARAM",message:"fileList必须是非空的数组"});var i,r=[],a=(0,c.default)(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;"object"==(0,o.default)(s)?(s.hasOwnProperty("fileID")&&s.hasOwnProperty("maxAge")||t(null,{code:"INVALID_PARAM",message:"fileList的元素必须是包含fileID和maxAge的对象"}),r.push({fileid:s.fileID,max_age:s.maxAge})):"string"==typeof s?r.push({fileid:s}):t(null,{code:"INVALID_PARAM",message:"fileList的元素必须是字符串"})}}catch(l){a.e(l)}finally{a.f()}var u={file_list:r};return rt(this.config.env).send("storage.batchGetDownloadUrl",u).then((function(e){e.code?t(null,e):t(null,{fileList:e.data.download_list,requestId:e.requestId})})).catch((function(e){t(e)})),t.promise},mt=function(){var e=(0,l.default)((0,u.default)().mark((function e(t,n){var i,r,a,o;return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.fileID,e.next=3,vt.call(this,{fileList:[{fileID:i,maxAge:600}]});case 3:if(r=e.sent.fileList[0],"SUCCESS"===r.code){e.next=6;break}return e.abrupt("return",n?n(r):new Promise((function(e){e(r)})));case 6:if(a=rt(this.config.env),o=r.download_url,o=encodeURI(o),n){e.next=10;break}return e.abrupt("return",a.download({url:o}));case 10:return e.t0=n,e.next=13,a.download({url:o});case 13:e.t1=e.sent,(0,e.t0)(e.t1);case 15:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),yt=function(e,t){var n,i=e.name,r=e.data,a=e.query,o=e.parse,s=e.search,c=t||Oe();try{n=r?JSON.stringify(r):""}catch(i){return Promise.reject(i)}if(!i)return Promise.reject(new fe({code:"PARAM_ERROR",message:"函数名不能为空"}));var u={inQuery:a,parse:o,search:s,function_name:i,request_data:n};return rt(this.config.env).send("functions.invokeFunction",u).then((function(e){if(e.code)c(null,e);else{var t=e.data.response_data;if(o)c(null,{result:t,requestId:e.requestId});else try{t=JSON.parse(e.data.response_data),c(null,{result:t,requestId:e.requestId})}catch(e){c(new fe({message:"response data must be json"}))}}return c.promise})).catch((function(e){c(e)})),c.promise},bt={timeout:15e3,persistence:"session"},xt={},wt=function(){function e(t){(0,g.default)(this,e),this.config=t||this.config,this.authObj=void 0}return(0,v.default)(e,[{key:"init",value:function(t){switch(Ee.adapter||(this.requestClient=new Ee.adapter.reqClass({timeout:t.timeout||5e3,timeoutMsg:"请求在".concat((t.timeout||5e3)/1e3,"s内未完成，已中断")})),this.config=(0,d.default)((0,d.default)({},bt),t),!0){case this.config.timeout>6e5:console.warn("timeout大于可配置上限[10分钟]，已重置为上限数值"),this.config.timeout=6e5;break;case this.config.timeout<100:console.warn("timeout小于可配置下限[100ms]，已重置为下限数值"),this.config.timeout=100}return new e(this.config)}},{key:"auth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.persistence;if(this.authObj)return this.authObj;var n,i=t||Ee.adapter.primaryStorage||bt.persistence;return i!==this.config.persistence&&(this.config.persistence=i),function(e){var t=e.env;Be[t]=new Fe(e),ze[t]=new Fe((0,d.default)((0,d.default)({},e),{},{persistence:"local"}))}(this.config),n=this.config,it[n.env]=new nt(n),this.authObj=new ft(this.config),this.authObj}},{key:"on",value:function(e,t){return We.apply(this,[e,t])}},{key:"off",value:function(e,t){return Ve.apply(this,[e,t])}},{key:"callFunction",value:function(e,t){return yt.apply(this,[e,t])}},{key:"deleteFile",value:function(e,t){return gt.apply(this,[e,t])}},{key:"getTempFileURL",value:function(e,t){return vt.apply(this,[e,t])}},{key:"downloadFile",value:function(e,t){return mt.apply(this,[e,t])}},{key:"uploadFile",value:function(e,t){return ht.apply(this,[e,t])}},{key:"getUploadMetadata",value:function(e,t){return pt.apply(this,[e,t])}},{key:"registerExtension",value:function(e){xt[e.name]=e}},{key:"invokeExtension",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(t,n){var i;return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=xt[t],i){e.next=3;break}throw new fe({message:"扩展".concat(t," 必须先注册")});case 3:return e.next=5,i.invoke(n,this);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"useAdapters",value:function(e){var t=function(e){var t,n,i=(t=e,"[object Array]"===Object.prototype.toString.call(t)?e:[e]),r=(0,c.default)(i);try{for(r.s();!(n=r.n()).done;){var a=n.value,o=a.isMatch,s=a.genAdapter,u=a.runtime;if(o())return{adapter:s(),runtime:u}}}catch(l){r.e(l)}finally{r.f()}}(e)||{},n=t.adapter,i=t.runtime;n&&(Ee.adapter=n),i&&(Ee.runtime=i)}}]),e}(),kt=new wt;function _t(e,t,n){void 0===n&&(n={});var i=/\?/.test(t),r="";for(var a in n)""===r?!i&&(t+="?"):r+="&",r+=a+"="+encodeURIComponent(n[a]);return/^http(s)?:\/\//.test(t+=r)?t:""+e+t}var St=function(){function e(){(0,g.default)(this,e)}return(0,v.default)(e,[{key:"post",value:function(e){var t=e.url,n=e.data,i=e.headers;return new Promise((function(e,r){he.request({url:_t("https:",t),data:n,method:"POST",header:i,success:function(t){e(t)},fail:function(e){r(e)}})}))}},{key:"upload",value:function(e){return new Promise((function(t,n){var i=e.url,r=e.file,a=e.data,o=e.headers,s=e.fileType,c=he.uploadFile({url:_t("https:",i),name:"file",formData:Object.assign({},a),filePath:r,fileType:s,header:o,success:function(e){var n={statusCode:e.statusCode,data:e.data||{}};200===e.statusCode&&a.success_action_status&&(n.statusCode=parseInt(a.success_action_status,10)),t(n)},fail:function(e){n(new Error(e.errMsg||"uploadFile:fail"))}});"function"==typeof e.onUploadProgress&&c&&"function"==typeof c.onProgressUpdate&&c.onProgressUpdate((function(t){e.onUploadProgress({loaded:t.totalBytesSent,total:t.totalBytesExpectedToSend})}))}))}}]),e}(),It={setItem:function(e,t){he.setStorageSync(e,t)},getItem:function(e){return he.getStorageSync(e)},removeItem:function(e){he.removeStorageSync(e)},clear:function(){he.clearStorageSync()}},Ct={genAdapter:function(){return{root:{},reqClass:St,localStorage:It,primaryStorage:"local"}},isMatch:function(){return!0},runtime:"uni_app"};kt.useAdapters(Ct);var Pt=kt,Tt=Pt.init;Pt.init=function(e){e.env=e.spaceId;var t=Tt.call(this,e);t.config.provider="tencent",t.config.spaceId=e.spaceId;var n=t.auth;return t.auth=function(e){var t=n.call(this,e);return["linkAndRetrieveDataWithTicket","signInAnonymously","signOut","getAccessToken","getLoginState","signInWithTicket","getUserInfo"].forEach((function(e){var n;t[e]=(n=t[e],function(e){e=e||{};var t=ue(e),i=t.success,r=t.fail,a=t.complete;if(!(i||r||a))return n.call(this,e);n.call(this,e).then((function(e){i&&i(e),a&&a(e)}),(function(e){r&&r(e),a&&a(e)}))}).bind(t)})),t},t.customAuth=t.auth,t};var Ot=Pt,At=function(e){(0,f.default)(n,e);var t=(0,h.default)(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,v.default)(n,[{key:"getAccessToken",value:function(){var e=this;return new Promise((function(t,n){var i="Anonymous_Access_token";e.setAccessToken(i),t(i)}))}},{key:"setupRequest",value:function(e,t){var n=Object.assign({},e,{spaceId:this.config.spaceId,timestamp:Date.now()}),i={"Content-Type":"application/json"};"auth"!==t&&(n.token=this.accessToken,i["x-basement-token"]=this.accessToken),i["x-serverless-sign"]=xe.sign(n,this.config.clientSecret);var r=ye();i["x-client-info"]=encodeURIComponent(JSON.stringify(r));var a=pe(),o=a.token;return i["x-client-token"]=o,{url:this.config.requestUrl,method:"POST",data:n,dataType:"json",header:JSON.parse(JSON.stringify(i))}}},{key:"uploadFileToOSS",value:function(e){var t=this,n=e.url,i=e.formData,r=e.name,a=e.filePath,o=e.fileType,s=e.onUploadProgress;return new Promise((function(e,c){var u=t.adapter.uploadFile({url:n,formData:i,name:r,filePath:a,fileType:o,success:function(t){t&&t.statusCode<400?e(t):c(new fe({code:"UPLOAD_FAILED",message:"文件上传失败"}))},fail:function(e){c(new fe({code:e.code||"UPLOAD_FAILED",message:e.message||e.errMsg||"文件上传失败"}))}});"function"==typeof s&&u&&"function"==typeof u.onProgressUpdate&&u.onProgressUpdate((function(e){s({loaded:e.totalBytesSent,total:e.totalBytesExpectedToSend})}))}))}},{key:"uploadFile",value:function(e){var t,n=this,i=e.filePath,r=e.cloudPath,a=e.fileType,o=void 0===a?"image":a,s=e.onUploadProgress;if(!r)throw new fe({code:"CLOUDPATH_REQUIRED",message:"cloudPath不可为空"});return this.getOSSUploadOptionsFromPath({cloudPath:r}).then((function(e){var r=e.result,a=r.url,c=r.formData,u=r.name;t=e.result.fileUrl;var l={url:a,formData:c,name:u,filePath:i,fileType:o};return n.uploadFileToOSS(Object.assign({},l,{onUploadProgress:s}))})).then((function(){return n.reportOSSUpload({cloudPath:r})})).then((function(e){return new Promise((function(n,r){e.success?n({success:!0,filePath:i,fileID:t}):r(new fe({code:"UPLOAD_FAILED",message:"文件上传失败"}))}))}))}},{key:"deleteFile",value:function(e){var t=e.fileList,n={method:"serverless.file.resource.delete",params:JSON.stringify({fileList:t})};return this.request(this.setupRequest(n)).then((function(e){if(e.success)return e.result;throw new fe({code:"DELETE_FILE_FAILED",message:"删除文件失败"})}))}},{key:"getTempFileURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fileList,n=e.maxAge;if(!Array.isArray(t)||0===t.length)throw new fe({code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"});var i={method:"serverless.file.resource.getTempFileURL",params:JSON.stringify({fileList:t,maxAge:n})};return this.request(this.setupRequest(i)).then((function(e){if(e.success)return{fileList:e.result.fileList.map((function(e){return{fileID:e.fileID,tempFileURL:e.tempFileURL}}))};throw new fe({code:"GET_TEMP_FILE_URL_FAILED",message:"获取临时文件链接失败"})}))}}]),n}(we),Mt={init:function(e){var t=new At(e),n={signInAnonymously:function(){return t.authorize()},getLoginState:function(){return Promise.resolve(!1)}};return t.auth=function(){return n},t.customAuth=t.auth,t}},Et=y((function(e,t){e.exports=x.enc.Hex}));function Lt(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function Dt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.data,i=t.functionName,r=t.method,o=t.headers,s=t.signHeaderKeys,c=void 0===s?[]:s,u=t.config,l=Date.now(),d=Lt(),f=Object.assign({},o,{"x-from-app-id":u.spaceAppId,"x-from-env-id":u.spaceId,"x-to-env-id":u.spaceId,"x-from-instance-id":l,"x-from-function-name":i,"x-client-timestamp":l,"x-alipay-source":"client","x-request-id":d,"x-alipay-callid":d,"x-trace-id":d}),h=["x-from-app-id","x-from-env-id","x-to-env-id","x-from-instance-id","x-from-function-name","x-client-timestamp"].concat(c),p=e.split("?")||[],g=(0,a.default)(p,2),v=g[0],m=void 0===v?"":v,y=g[1],b=void 0===y?"":y,x=function(e){var t=e.signedHeaders.join(";"),n=e.signedHeaders.map((function(t){return"".concat(t.toLowerCase(),":").concat(e.headers[t],"\n")})).join(""),i=Pe(e.body).toString(Et),r="".concat(e.method.toUpperCase(),"\n").concat(e.path,"\n").concat(e.query,"\n").concat(n,"\n").concat(t,"\n").concat(i,"\n"),a=Pe(r).toString(Et),o="HMAC-SHA256\n".concat(e.timestamp,"\n").concat(a,"\n"),s=Te(o,e.secretKey).toString(Et);return"HMAC-SHA256 Credential=".concat(e.secretId,", SignedHeaders=").concat(t,", Signature=").concat(s)}({path:m,query:b,method:r,headers:f,timestamp:l,body:JSON.stringify(n),secretId:u.accessKey,secretKey:u.secretKey,signedHeaders:h.sort()});return{url:"".concat(u.endpoint).concat(e),headers:Object.assign({},f,{Authorization:x})}}function Rt(e){var t=e.url,n=e.data,i=e.method,r=void 0===i?"POST":i,a=e.headers,s=void 0===a?{}:a;return new Promise((function(e,i){he.request({url:t,method:r,data:"object"==(0,o.default)(n)?JSON.stringify(n):n,header:s,dataType:"json",complete:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=s["x-trace-id"]||"";if(!t.statusCode||t.statusCode>=400){var r=t.data||{},a=r.message,o=r.errMsg,c=r.trace_id;return i(new fe({code:"SYS_ERR",message:a||o||"request:fail",requestId:c||n}))}e({status:t.statusCode,data:t.data,headers:t.header,requestId:n})}})}))}function Ft(e,t){var n=e.path,i=e.data,r=e.method,a=void 0===r?"GET":r,o=Dt(n,{functionName:"",data:i,method:a,headers:{"x-alipay-cloud-mode":"oss","x-data-api-type":"oss","x-expire-timestamp":Date.now()+6e4},signHeaderKeys:["x-data-api-type","x-expire-timestamp"],config:t}),s=o.url,c=o.headers;return Rt({url:s,data:i,method:a,headers:c}).then((function(e){var t=e.data||{};if(!t.success)throw new fe({code:e.errCode,message:e.errMsg,requestId:e.requestId});return t.data||{}})).catch((function(e){throw new fe({code:e.errCode,message:e.errMsg,requestId:e.requestId})}))}function Bt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.trim().replace(/^cloud:\/\//,""),n=t.indexOf("/");if(n<=0)throw new fe({code:"INVALID_PARAM",message:"fileID不合法"});var i=t.substring(0,n),r=t.substring(n+1);return i!==this.config.spaceId&&console.warn("file ".concat(e," does not belong to env ").concat(this.config.spaceId)),r}function zt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"cloud://".concat(this.config.spaceId,"/").concat(e.replace(/^\/+/,""))}var Nt=function(){function e(t){(0,g.default)(this,e),this.config=t}return(0,v.default)(e,[{key:"signedURL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="/ws/function/".concat(e),i=this.config.wsEndpoint.replace(/^ws(s)?:\/\//,""),r=Object.assign({},t,{accessKeyId:this.config.accessKey,signatureNonce:Lt(),timestamp:""+Date.now()}),a=[n,["accessKeyId","authorization","signatureNonce","timestamp"].sort().map((function(e){return r[e]?"".concat(e,"=").concat(r[e]):null})).filter(Boolean).join("&"),"host:".concat(i)].join("\n"),o=["HMAC-SHA256",Pe(a).toString(Et)].join("\n"),s=Te(o,this.config.secretKey).toString(Et),c=Object.keys(r).map((function(e){return"".concat(e,"=").concat(encodeURIComponent(r[e]))})).join("&");return"".concat(this.config.wsEndpoint).concat(n,"?").concat(c,"&signature=").concat(s)}}]),e}(),jt=function(){function e(t){if((0,g.default)(this,e),["spaceId","spaceAppId","accessKey","secretKey"].forEach((function(e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new Error("".concat(e," required"))})),t.endpoint){if("string"!=typeof t.endpoint)throw new Error("endpoint must be string");if(!/^https:\/\//.test(t.endpoint))throw new Error("endpoint must start with https://");t.endpoint=t.endpoint.replace(/\/$/,"")}this.config=Object.assign({},t,{endpoint:t.endpoint||"https://".concat(t.spaceId,".api-hz.cloudbasefunction.cn"),wsEndpoint:t.wsEndpoint||"wss://".concat(t.spaceId,".api-hz.cloudbasefunction.cn")}),this._websocket=new Nt(this.config)}return(0,v.default)(e,[{key:"callFunction",value:function(e){return function(e,t){var n=e.name,i=e.data,r=e.async,a=void 0!==r&&r,o="POST",s={"x-to-function-name":n};a&&(s["x-function-invoke-type"]="async");var c=Dt("/functions/invokeFunction",{functionName:n,data:i,method:o,headers:s,signHeaderKeys:["x-to-function-name"],config:t}),u=c.url,l=c.headers;return Rt({url:u,data:i,method:o,headers:l}).then((function(e){var t=0;if(a){var n=e.data||{};t="200"===n.errCode?0:n.errCode,e.data=n.data||{},e.errMsg=n.errMsg}if(0!==t)throw new fe({code:t,message:e.errMsg,requestId:e.requestId});return{errCode:t,success:0===t,requestId:e.requestId,result:e.data}})).catch((function(e){throw new fe({code:e.errCode,message:e.errMsg,requestId:e.requestId})}))}(e,this.config)}},{key:"uploadFileToOSS",value:function(e){var t=e.url,n=e.filePath,i=e.fileType,r=e.formData,a=e.onUploadProgress;return new Promise((function(e,o){var s=he.uploadFile({url:t,filePath:n,fileType:i,formData:r,name:"file",success:function(t){t&&t.statusCode<400?e(t):o(new fe({code:"UPLOAD_FAILED",message:"文件上传失败"}))},fail:function(e){o(new fe({code:e.code||"UPLOAD_FAILED",message:e.message||e.errMsg||"文件上传失败"}))}});"function"==typeof a&&s&&"function"==typeof s.onProgressUpdate&&s.onProgressUpdate((function(e){a({loaded:e.totalBytesSent,total:e.totalBytesExpectedToSend})}))}))}},{key:"uploadFile",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(t){var n,i,r,a,o,s,c,l,d,f,h;return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.filePath,i=t.cloudPath,r=void 0===i?"":i,a=t.fileType,o=void 0===a?"image":a,s=t.onUploadProgress,"string"===O(r)){e.next=3;break}throw new fe({code:"INVALID_PARAM",message:"cloudPath必须为字符串类型"});case 3:if(r=r.trim()){e.next=5;break}throw new fe({code:"INVALID_PARAM",message:"cloudPath不可为空"});case 5:if(!/:\/\//.test(r)){e.next=7;break}throw new fe({code:"INVALID_PARAM",message:"cloudPath不合法"});case 7:return e.next=9,Ft({path:"/".concat(r.replace(/^\//,""),"?post_url")},this.config);case 9:return c=e.sent,l=c.file_id,d=c.upload_url,f=c.form_data,h=f&&f.reduce((function(e,t){return e[t.key]=t.value,e}),{}),e.abrupt("return",this.uploadFileToOSS({url:d,filePath:n,fileType:o,formData:h,onUploadProgress:s}).then((function(){return{fileID:l}})));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTempFileURL",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(t){var n,i=this;return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.fileList,e.abrupt("return",new Promise((function(e,t){(!n||n.length<0)&&t(new fe({errCode:"INVALID_PARAM",errMsg:"fileList不能为空数组"})),n.length>50&&t(new fe({errCode:"INVALID_PARAM",errMsg:"fileList数组长度不能超过50"}));var r,a=[],o=(0,c.default)(n);try{for(o.s();!(r=o.n()).done;){var s=r.value;"string"!==O(s)&&t(new fe({errCode:"INVALID_PARAM",errMsg:"fileList的元素必须是非空的字符串"}));var u=Bt.call(i,s);a.push({file_id:u,expire:600})}}catch(l){o.e(l)}finally{o.f()}Ft({path:"/?download_url",data:{file_list:a},method:"POST"},i.config).then((function(t){var n=t.file_list,r=void 0===n?[]:n;e({fileList:r.map((function(e){return{fileID:zt.call(i,e.file_id),tempFileURL:e.download_url}}))})})).catch((function(e){return t(e)}))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"connectWebSocket",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(t){var n,i;return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.name,i=t.query,e.abrupt("return",he.connectSocket({url:this._websocket.signedURL(n,i),complete:function(){}}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),qt={init:function(e){e.provider="alipay";var t=new jt(e);return t.auth=function(){return{signInAnonymously:function(){return Promise.resolve()},getLoginState:function(){return Promise.resolve(!0)}}},t}};function Ut(e){var t,n=e.data;t=ye();var i=JSON.parse(JSON.stringify(n||{}));if(Object.assign(i,{clientInfo:t}),!i.uniIdToken){var r=pe(),a=r.token;a&&(i.uniIdToken=a)}return i}var Wt=[{rule:/fc_function_not_found|FUNCTION_NOT_FOUND/,content:"，云函数[{functionName}]在云端不存在，请检查此云函数名称是否正确以及该云函数是否已上传到服务空间",mode:"append"}],Ht=/[\\^$.*+?()[\]{}|]/g,Vt=RegExp(Ht.source);function $t(e,t,n){return e.replace(new RegExp((i=t)&&Vt.test(i)?i.replace(Ht,"\\$&"):i,"g"),n);var i}var Kt="request",Jt="response";var Yt;Yt="0123456789abcdef";var Gt={code:2e4,message:"System error"},Qt={code:20101,message:"Invalid client"};function Xt(e){var t=e||{},n=t.errSubject,i=t.subject,r=t.errCode,a=t.errMsg,o=t.code,s=t.message,c=t.cause;return new fe({subject:n||i||"uni-secure-network",code:r||o||Gt.code,message:a||s,cause:c})}var Zt;function en(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.secretType;return t===Kt||t===Jt||"both"===t}function tn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=e.data,i=void 0===n?{}:n;return"app"===z&&"DCloud-clientDB"===t&&"encryption"===i.redirectTo&&"getAppClientKey"===i.action}function nn(e){e.functionName,e.result,e.logPvd}function rn(e){var t=e.callFunction,n=function(n){var i=this,r=n.name;n.data=Ut.call(e,{data:n.data});var a={aliyun:"aliyun",tencent:"tcb",tcb:"tcb",alipay:"alipay"}[this.config.provider],o=en(n),s=tn(n),c=o||s;return t.call(this,n).then((function(e){return e.errCode=0,!c&&nn.call(i,{functionName:r,result:e,logPvd:a}),Promise.resolve(e)}),(function(e){return!c&&nn.call(i,{functionName:r,result:e,logPvd:a}),e&&e.message&&(e.message=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.message,n=void 0===t?"":t,i=e.extraInfo,r=void 0===i?{}:i,a=e.formatter,o=void 0===a?[]:a,s=0;s<o.length;s++){var c=o[s],u=c.rule,l=c.content,d=c.mode,f=n.match(u);if(f){for(var h=l,p=1;p<f.length;p++)h=$t(h,"{$".concat(p,"}"),f[p]);for(var g in r)h=$t(h,"{".concat(g,"}"),r[g]);return"replace"===d?h:n+h}}return n}({message:"[".concat(n.name,"]: ").concat(e.message),formatter:Wt,extraInfo:{functionName:r}})),Promise.reject(e)}))};e.callFunction=function(t){var i,r,a=e.config,o=a.provider,s=a.spaceId,c=t.name;return t.data=t.data||{},i=n,i=i.bind(e),r=tn(t)?n.call(e,t):function(e){var t=e.name,n=e.data,i=void 0===n?{}:n;return"mp-weixin"===z&&"uni-id-co"===t&&"secureNetworkHandshakeByWeixin"===i.method}(t)?i.call(e,t):en(t)?new Zt({secretType:t.secretType,uniCloudIns:e}).wrapEncryptDataCallFunction(n.bind(e))(t):function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.provider,n=e.spaceId,i=e.functionName,r=ve(),a=r.appId,o=r.uniPlatform,s=r.osName,c=o;"app"===o&&(c=s);var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.provider,n=e.spaceId,i=B;if(!i)return{};t=function(e){return"tencent"===e?"tcb":e}(t);var r=i.find((function(e){return e.provider===t&&e.spaceId===n}));return r&&r.config}({provider:t,spaceId:n});if(!u||!u.accessControl||!u.accessControl.enable)return!1;var l=u.accessControl.function||{},d=Object.keys(l);if(0===d.length)return!0;var f=function(e,t){for(var n,i,r,a=0;a<e.length;a++){var o=e[a];o!==t?"*"!==o?o.split(",").map((function(e){return e.trim()})).indexOf(t)>-1&&(i=o):r=o:n=o}return n||i||r}(d,i);if(!f)return!1;if((l[f]||[]).find((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.appId===a&&(e.platform||"").toLowerCase()===c.toLowerCase()})))return!0;throw console.error("此应用[appId: ".concat(a,", platform: ").concat(c,"]不在云端配置的允许访问的应用列表内，参考：https://uniapp.dcloud.net.cn/uniCloud/secure-network.html#verify-client")),Xt(Qt)}({provider:o,spaceId:s,functionName:c})?new Zt({secretType:t.secretType,uniCloudIns:e}).wrapVerifyClientCallFunction(n.bind(e))(t):i(t),Object.defineProperty(r,"result",{get:function(){return console.warn("当前返回结果为Promise类型，不可直接访问其result属性，详情请参考：https://uniapp.dcloud.net.cn/uniCloud/faq?id=promise"),{}}}),r.then((function(e){return"undefined"!=typeof UTSJSONObject&&(e.result=new UTSJSONObject(e.result)),e}))}}Zt="mp-weixin"!==z&&"app"!==z?function(){return(0,v.default)((function e(){throw(0,g.default)(this,e),Xt({message:"Platform ".concat(z," is not supported by secure network")})}))}():function(){return(0,v.default)((function e(){throw(0,g.default)(this,e),Xt({message:"Platform ".concat(z," is not enabled, please check whether secure network module is enabled in your manifest.json")})}))}();var an=Symbol("CLIENT_DB_INTERNAL");function on(e,t){return e.then="DoNotReturnProxyWithAFunctionNamedThen",e._internalType=an,e.inspect=null,e.__ob__=void 0,new Proxy(e,{get:function(e,n,i){if("_uniClient"===n)return null;if("symbol"==(0,o.default)(n))return e[n];if(n in e||"string"!=typeof n){var r=e[n];return"function"==typeof r?r.bind(e):r}return t.get(e,n,i)}})}function sn(e){return{on:function(t,n){e[t]=e[t]||[],e[t].indexOf(n)>-1||e[t].push(n)},off:function(t,n){e[t]=e[t]||[];var i=e[t].indexOf(n);-1!==i&&e[t].splice(i,1)}}}var cn=["db.Geo","db.command","command.aggregate"];function un(e,t){return cn.indexOf("".concat(e,".").concat(t))>-1}function ln(e){switch(O(e)){case"array":return e.map((function(e){return ln(e)}));case"object":return e._internalType===an||Object.keys(e).forEach((function(t){e[t]=ln(e[t])})),e;case"regexp":return{$regexp:{source:e.source,flags:e.flags}};case"date":return{$date:e.toISOString()};default:return e}}function dn(e){return e&&e.content&&e.content.$method}var fn=function(){function e(t,n,i){(0,g.default)(this,e),this.content=t,this.prevStage=n||null,this.udb=null,this._database=i}return(0,v.default)(e,[{key:"toJSON",value:function(){for(var e=this,t=[e.content];e.prevStage;)e=e.prevStage,t.push(e.content);return{$db:t.reverse().map((function(e){return{$method:e.$method,$param:ln(e.$param)}}))}}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}},{key:"getAction",value:function(){var e=this.toJSON().$db.find((function(e){return"action"===e.$method}));return e&&e.$param&&e.$param[0]}},{key:"getCommand",value:function(){return{$db:this.toJSON().$db.filter((function(e){return"action"!==e.$method}))}}},{key:"isAggregate",get:function(){for(var e=this;e;){var t=dn(e),n=dn(e.prevStage);if("aggregate"===t&&"collection"===n||"pipeline"===t)return!0;e=e.prevStage}return!1}},{key:"isCommand",get:function(){for(var e=this;e;){if("command"===dn(e))return!0;e=e.prevStage}return!1}},{key:"isAggregateCommand",get:function(){for(var e=this;e;){var t=dn(e),n=dn(e.prevStage);if("aggregate"===t&&"command"===n)return!0;e=e.prevStage}return!1}},{key:"getNextStageFn",value:function(e){var t=this;return function(){return hn({$method:e,$param:ln(Array.from(arguments))},t,t._database)}}},{key:"count",get:function(){return this.isAggregate?this.getNextStageFn("count"):function(){return this._send("count",Array.from(arguments))}}},{key:"remove",get:function(){return this.isCommand?this.getNextStageFn("remove"):function(){return this._send("remove",Array.from(arguments))}}},{key:"get",value:function(){return this._send("get",Array.from(arguments))}},{key:"add",get:function(){return this.isCommand?this.getNextStageFn("add"):function(){return this._send("add",Array.from(arguments))}}},{key:"update",value:function(){return this._send("update",Array.from(arguments))}},{key:"end",value:function(){return this._send("end",Array.from(arguments))}},{key:"set",get:function(){return this.isCommand?this.getNextStageFn("set"):function(){throw new Error("JQL禁止使用set方法")}}},{key:"_send",value:function(e,t){var n=this.getAction(),i=this.getCommand();return i.$db.push({$method:e,$param:ln(t)}),this._database._callCloudFunction({action:n,command:i})}}]),e}();function hn(e,t,n){return on(new fn(e,t,n),{get:function(e,t){var i="db";return e&&e.content&&(i=e.content.$method),un(i,t)?hn({$method:t},e,n):function(){return hn({$method:t,$param:ln(Array.from(arguments))},e,n)}}})}function pn(e){var t=e.path,n=e.method;return function(){function e(){(0,g.default)(this,e),this.param=Array.from(arguments)}return(0,v.default)(e,[{key:"toJSON",value:function(){return{$newDb:[].concat((0,s.default)(t.map((function(e){return{$method:e}}))),[{$method:n,$param:this.param}])}}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}}]),e}()}function gn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return on(new e(t),{get:function(e,t){return un("db",t)?hn({$method:t},null,e):function(){return hn({$method:t,$param:ln(Array.from(arguments))},null,e)}}})}var vn=function(e){(0,f.default)(n,e);var t=(0,h.default)(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,v.default)(n,[{key:"_parseResult",value:function(e){return this._isJQL?e.result:e}},{key:"_callCloudFunction",value:function(e){var t=this,n=e.action,i=e.command,r=e.multiCommand,a=e.queryList;function o(e,t){if(r&&a)for(var n=0;n<a.length;n++){var i=a[n];i.udb&&"function"==typeof i.udb.setResult&&(t?i.udb.setResult(t):i.udb.setResult(e.result.dataList[n]))}}var s=this,c=this._isJQL?"databaseForJQL":"database";function u(e){return s._callback("error",[e]),$(K(c,"fail"),e).then((function(){return $(K(c,"complete"),e)})).then((function(){return o(null,e),ae(G,{type:Z,content:e}),Promise.reject(e)}))}var l=$(K(c,"invoke")),d=this._uniClient;return l.then((function(){return d.callFunction({name:"DCloud-clientDB",type:"CLIENT_DB",data:{action:n,command:i,multiCommand:r}})})).then((function(e){var n=e.result,i=n.code,r=n.message,a=n.token,l=n.tokenExpired,d=n.systemInfo,f=void 0===d?[]:d;if(f)for(var h=0;h<f.length;h++){var p=f[h],g=p.level,v=p.message,m=p.detail,y=console["app"===z&&"warn"===g?"error":g]||console.log,b="[System Info]"+v;m&&(b="".concat(b,"\n详细信息：").concat(m)),y(b)}if(i)return u(new fe({code:i,message:r,requestId:e.requestId}));e.result.errCode=e.result.errCode||e.result.code,e.result.errMsg=e.result.errMsg||e.result.message,a&&l&&(ge({token:a,tokenExpired:l}),t._callbackAuth("refreshToken",[{token:a,tokenExpired:l}]),t._callback("refreshToken",[{token:a,tokenExpired:l}]),ae(X,{token:a,tokenExpired:l}));for(var x=[{prop:"affectedDocs",tips:"affectedDocs不再推荐使用，请使用inserted/deleted/updated/data.length替代"},{prop:"code",tips:"code不再推荐使用，请使用errCode替代"},{prop:"message",tips:"message不再推荐使用，请使用errMsg替代"}],w=function(t){var n=x[t],i=n.prop,r=n.tips;if(i in e.result){var a=e.result[i];Object.defineProperty(e.result,i,{get:function(){return console.warn(r),a}})}},k=0;k<x.length;k++)w(k);return function(e){return $(K(c,"success"),e).then((function(){return $(K(c,"complete"),e)})).then((function(){o(e,null);var t=s._parseResult(e);return ae(G,{type:Z,content:t}),Promise.resolve(t)}))}(e)}),(function(e){return/fc_function_not_found|FUNCTION_NOT_FOUND/g.test(e.message)&&console.warn("clientDB未初始化，请在web控制台保存一次schema以开启clientDB"),u(new fe({code:e.code||"SYSTEM_ERROR",message:e.message,requestId:e.requestId}))}))}}]),n}(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.uniClient,i=void 0===n?{}:n,r=t.isJQL,a=void 0!==r&&r;(0,g.default)(this,e),this._uniClient=i,this._authCallBacks={},this._dbCallBacks={},i._isDefault&&(this._dbCallBacks=q("_globalUniCloudDatabaseCallback")),a||(this.auth=sn(this._authCallBacks)),this._isJQL=a,Object.assign(this,sn(this._dbCallBacks)),this.env=on({},{get:function(e,t){return{$env:t}}}),this.Geo=on({},{get:function(e,t){return pn({path:["Geo"],method:t})}}),this.serverDate=pn({path:[],method:"serverDate"}),this.RegExp=pn({path:[],method:"RegExp"})}return(0,v.default)(e,[{key:"getCloudEnv",value:function(e){if("string"!=typeof e||!e.trim())throw new Error("getCloudEnv参数错误");return{$env:e.replace("$cloudEnv_","")}}},{key:"_callback",value:function(e,t){var n=this._dbCallBacks;n[e]&&n[e].forEach((function(e){e.apply(void 0,(0,s.default)(t))}))}},{key:"_callbackAuth",value:function(e,t){var n=this._authCallBacks;n[e]&&n[e].forEach((function(e){e.apply(void 0,(0,s.default)(t))}))}},{key:"multiSend",value:function(){var e=Array.from(arguments),t=e.map((function(e){var t=e.getAction(),n=e.getCommand();if("getTemp"!==n.$db[n.$db.length-1].$method)throw new Error("multiSend只支持子命令内使用getTemp");return{action:t,command:n}}));return this._callCloudFunction({multiCommand:t,queryList:e})}}]),e}()),mn="token无效，跳转登录页面",yn="token过期，跳转登录页面",bn={TOKEN_INVALID_TOKEN_EXPIRED:yn,TOKEN_INVALID_INVALID_CLIENTID:mn,TOKEN_INVALID:mn,TOKEN_INVALID_WRONG_TOKEN:mn,TOKEN_INVALID_ANONYMOUS_USER:mn},xn={"uni-id-token-expired":yn,"uni-id-check-token-failed":mn,"uni-id-token-not-exist":mn,"uni-id-check-device-feature-failed":mn};function wn(e,t){var n="";return n=e?"".concat(e,"/").concat(t):t,n.replace(/^\//,"")}function kn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[],i=[];return e.forEach((function(e){!0===e.needLogin?n.push(wn(t,e.path)):!1===e.needLogin&&i.push(wn(t,e.path))})),{needLoginPage:n,notNeedLoginPage:i}}function _n(e){return e.split("?")[0].replace(/^\//,"")}function Sn(){return function(e){var t=e&&e.$page&&e.$page.fullPath||"";return t?("/"!==t.charAt(0)&&(t="/"+t),t):t}(function(){var e=getCurrentPages();return e[e.length-1]}())}function In(){return _n(Sn())}function Cn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return!1;if(!(t&&t.list&&t.list.length))return!1;var n=t.list,i=_n(e);return n.some((function(e){return e.pagePath===i}))}var Pn,Tn=!!m.default.uniIdRouter,On=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.default,t=e.pages,n=void 0===t?[]:t,i=e.subPackages,r=void 0===i?[]:i,a=e.uniIdRouter,o=void 0===a?{}:a,c=e.tabBar,u=void 0===c?{}:c,l=o.loginPage,d=o.needLogin,f=void 0===d?[]:d,h=o.resToLogin,p=void 0===h||h,g=kn(n),v=g.needLoginPage,y=g.notNeedLoginPage,b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],n=[];return e.forEach((function(e){var i=e.root,r=e.pages,a=void 0===r?[]:r,o=kn(a,i),c=o.needLoginPage,u=o.notNeedLoginPage;t.push.apply(t,(0,s.default)(c)),n.push.apply(n,(0,s.default)(u))})),{needLoginPage:t,notNeedLoginPage:n}}(r),x=b.needLoginPage,w=b.notNeedLoginPage;return{loginPage:l,routerNeedLogin:f,resToLogin:p,needLoginPage:[].concat((0,s.default)(v),(0,s.default)(x)),notNeedLoginPage:[].concat((0,s.default)(y),(0,s.default)(w)),loginPageInTabBar:Cn(l,u)}}(),An=On.loginPage,Mn=On.routerNeedLogin,En=On.resToLogin,Ln=On.needLoginPage,Dn=On.notNeedLoginPage,Rn=On.loginPageInTabBar;if(Ln.indexOf(An)>-1)throw new Error("Login page [".concat(An,'] should not be "needLogin", please check your pages.json'));function Fn(e){var t=In();if("/"===e.charAt(0))return e;var n=e.split("?"),i=(0,a.default)(n,2),r=i[0],o=i[1],s=r.replace(/^\//,"").split("/"),c=t.split("/");c.pop();for(var u=0;u<s.length;u++){var l=s[u];".."===l?c.pop():"."!==l&&c.push(l)}return""===c[0]&&c.shift(),"/"+c.join("/")+(o?"?"+o:"")}function Bn(e){var t=_n(Fn(e));return!(Dn.indexOf(t)>-1)&&(Ln.indexOf(t)>-1||Mn.some((function(t){return function(e,t){return new RegExp(t).test(e)}(e,t)})))}function zn(e){var t=e.redirect,n=_n(t),i=_n(An);return In()!==i&&n!==i}function Nn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.api,n=e.redirect;if(n&&zn({redirect:n})){var i=function(e,t){return"/"!==e.charAt(0)&&(e="/"+e),t?e.indexOf("?")>-1?e+"&uniIdRedirectUrl=".concat(encodeURIComponent(t)):e+"?uniIdRedirectUrl=".concat(encodeURIComponent(t)):e}(An,n);Rn?"navigateTo"!==t&&"redirectTo"!==t||(t="switchTab"):"switchTab"===t&&(t="navigateTo");var r={navigateTo:uni.navigateTo,redirectTo:uni.redirectTo,switchTab:uni.switchTab,reLaunch:uni.reLaunch};setTimeout((function(){r[t]({url:i})}),0)}}function jn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.url,n={abortLoginPageJump:!1,autoToLoginPage:!1},i=function(){var e,t=pe(),n=t.token,i=t.tokenExpired;if(n){if(i<Date.now()){var r="uni-id-token-expired";e={errCode:r,errMsg:xn[r]}}}else{var a="uni-id-check-token-failed";e={errCode:a,errMsg:xn[a]}}return e}();if(Bn(t)&&i){if(i.uniIdRedirectUrl=t,ne(Q).length>0)return setTimeout((function(){ae(Q,i)}),0),n.abortLoginPageJump=!0,n;n.autoToLoginPage=!0}return n}function qn(){!function(){var e=Sn(),t=jn({url:e}),n=t.abortLoginPageJump,i=t.autoToLoginPage;n||i&&Nn({api:"redirectTo",redirect:e})}();for(var e=["navigateTo","redirectTo","reLaunch","switchTab"],t=function(t){var n=e[t];uni.addInterceptor(n,{invoke:function(e){var t=jn({url:e.url}),i=t.abortLoginPageJump,r=t.autoToLoginPage;return i?e:r?(Nn({api:n,redirect:Fn(e.url)}),!1):e}})},n=0;n<e.length;n++)t(n)}function Un(){this.onResponse((function(e){var t=e.type,n=e.content,i=!1;switch(t){case"cloudobject":i=function(e){if("object"!=(0,o.default)(e))return!1;var t=e||{},n=t.errCode;return n in xn}(n);break;case"clientdb":i=function(e){if("object"!=(0,o.default)(e))return!1;var t=e||{},n=t.errCode;return n in bn}(n)}i&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ne(Q);ce().then((function(){var n=Sn();if(n&&zn({redirect:n}))return t.length>0?ae(Q,Object.assign({uniIdRedirectUrl:n},e)):void(An&&Nn({api:"navigateTo",redirect:n}))}))}(n)}))}function Wn(e){!function(e){e.onResponse=function(e){ie(G,e)},e.offResponse=function(e){re(G,e)}}(e),function(e){e.onNeedLogin=function(e){ie(Q,e)},e.offNeedLogin=function(e){re(Q,e)},Tn&&(q("_globalUniCloudStatus").needLoginInit||(q("_globalUniCloudStatus").needLoginInit=!0,ce().then((function(){qn.call(e)})),En&&Un.call(e)))}(e),function(e){e.onRefreshToken=function(e){ie(X,e)},e.offRefreshToken=function(e){re(X,e)}}(e)}var Hn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Vn=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/;function $n(){var e,t,n=pe().token||"",i=n.split(".");if(!n||3!==i.length)return{uid:null,role:[],permission:[],tokenExpired:0};try{e=JSON.parse((t=i[1],decodeURIComponent(Pn(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))))}catch(n){throw new Error("获取当前用户信息出错，详细错误信息为："+n.message)}return e.tokenExpired=1e3*e.exp,delete e.exp,delete e.iat,e}Pn="function"!=typeof atob?function(e){if(e=String(e).replace(/[\t\n\f\r ]+/g,""),!Vn.test(e))throw new Error("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");var t;e+="==".slice(2-(3&e.length));for(var n,i,r="",a=0;a<e.length;)t=Hn.indexOf(e.charAt(a++))<<18|Hn.indexOf(e.charAt(a++))<<12|(n=Hn.indexOf(e.charAt(a++)))<<6|(i=Hn.indexOf(e.charAt(a++))),r+=64===n?String.fromCharCode(t>>16&255):64===i?String.fromCharCode(t>>16&255,t>>8&255):String.fromCharCode(t>>16&255,t>>8&255,255&t);return r}:atob;var Kn=y((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="chooseAndUploadFile:ok",i="chooseAndUploadFile:fail";function r(e,t){return e.tempFiles.forEach((function(e,n){e.name||(e.name=e.path.substring(e.path.lastIndexOf("/")+1)),t&&(e.fileType=t),e.cloudPath=Date.now()+"_"+n+e.name.substring(e.name.lastIndexOf("."))})),e.tempFilePaths||(e.tempFilePaths=e.tempFiles.map((function(e){return e.path}))),e}function a(e,t,i){var r=i.onChooseFile,a=i.onUploadProgress;return t.then((function(e){if(r){var t=r(e);if(void 0!==t)return Promise.resolve(t).then((function(t){return void 0===t?e:t}))}return e})).then((function(t){return!1===t?{errMsg:n,tempFilePaths:[],tempFiles:[]}:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,r=arguments.length>3?arguments[3]:void 0;(t=Object.assign({},t)).errMsg=n;var a=t.tempFiles,o=a.length,s=0;return new Promise((function(n){for(;s<i;)c();function c(){var i=s++;if(i>=o)!a.find((function(e){return!e.url&&!e.errMsg}))&&n(t);else{var u=a[i];e.uploadFile({provider:u.provider,filePath:u.path,cloudPath:u.cloudPath,fileType:u.fileType,cloudPathAsRealPath:u.cloudPathAsRealPath,onUploadProgress:function(e){e.index=i,e.tempFile=u,e.tempFilePath=u.path,r&&r(e)}}).then((function(e){u.url=e.fileID,i<o&&c()})).catch((function(e){u.errMsg=e.errMsg||e.message,i<o&&c()}))}}}))}(e,t,5,a)}))}t.initChooseAndUploadFile=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"all"};return"image"===t.type?a(e,function(e){var t=e.count,n=e.sizeType,a=e.sourceType,o=void 0===a?["album","camera"]:a,s=e.extension;return new Promise((function(e,a){uni.chooseImage({count:t,sizeType:n,sourceType:o,extension:s,success:function(t){e(r(t,"image"))},fail:function(e){a({errMsg:e.errMsg.replace("chooseImage:fail",i)})}})}))}(t),t):"video"===t.type?a(e,function(e){var t=e.camera,n=e.compressed,a=e.maxDuration,o=e.sourceType,s=void 0===o?["album","camera"]:o,c=e.extension;return new Promise((function(e,o){uni.chooseVideo({camera:t,compressed:n,maxDuration:a,sourceType:s,extension:c,success:function(t){var n=t.tempFilePath,i=t.duration,a=t.size,o=t.height,s=t.width;e(r({errMsg:"chooseVideo:ok",tempFilePaths:[n],tempFiles:[{name:t.tempFile&&t.tempFile.name||"",path:n,size:a,type:t.tempFile&&t.tempFile.type||"",width:s,height:o,duration:i,fileType:"video",cloudPath:""}]},"video"))},fail:function(e){o({errMsg:e.errMsg.replace("chooseVideo:fail",i)})}})}))}(t),t):a(e,function(e){var t=e.count,n=e.extension;return new Promise((function(e,a){var o=uni.chooseFile;if("undefined"!=typeof wx&&"function"==typeof wx.chooseMessageFile&&(o=wx.chooseMessageFile),"function"!=typeof o)return a({errMsg:i+" 请指定 type 类型，该平台仅支持选择 image 或 video。"});o({type:"all",count:t,extension:n,success:function(t){e(r(t))},fail:function(e){a({errMsg:e.errMsg.replace("chooseFile:fail",i)})}})}))}(t),t)}}})),Jn=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(Kn);function Yn(e){return{props:{localdata:{type:Array,default:function(){return[]}},options:{type:[Object,Array],default:function(){return{}}},spaceInfo:{type:Object,default:function(){return{}}},collection:{type:[String,Array],default:""},action:{type:String,default:""},field:{type:String,default:""},orderby:{type:String,default:""},where:{type:[String,Object],default:""},pageData:{type:String,default:"add"},pageCurrent:{type:Number,default:1},pageSize:{type:Number,default:20},getcount:{type:[Boolean,String],default:!1},gettree:{type:[Boolean,String],default:!1},gettreepath:{type:[Boolean,String],default:!1},startwith:{type:String,default:""},limitlevel:{type:Number,default:10},groupby:{type:String,default:""},groupField:{type:String,default:""},distinct:{type:[Boolean,String],default:!1},foreignKey:{type:String,default:""},loadtime:{type:String,default:"auto"},manual:{type:Boolean,default:!1}},data:function(){return{mixinDatacomLoading:!1,mixinDatacomHasMore:!1,mixinDatacomResData:[],mixinDatacomErrorMessage:"",mixinDatacomPage:{},mixinDatacomError:null}},created:function(){var e=this;this.mixinDatacomPage={current:this.pageCurrent,size:this.pageSize,count:0},this.$watch((function(){var t=[];return["pageCurrent","pageSize","localdata","collection","action","field","orderby","where","getont","getcount","gettree","groupby","groupField","distinct"].forEach((function(n){t.push(e[n])})),t}),(function(t,n){if("manual"!==e.loadtime){for(var i=!1,r=[],a=2;a<t.length;a++)t[a]!==n[a]&&(r.push(t[a]),i=!0);t[0]!==n[0]&&(e.mixinDatacomPage.current=e.pageCurrent),e.mixinDatacomPage.size=e.pageSize,e.onMixinDatacomPropsChange(i,r)}}))},methods:{onMixinDatacomPropsChange:function(e,t){},mixinDatacomEasyGet:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.getone,i=void 0!==n&&n,r=t.success,a=t.fail;this.mixinDatacomLoading||(this.mixinDatacomLoading=!0,this.mixinDatacomErrorMessage="",this.mixinDatacomError=null,this.mixinDatacomGet().then((function(t){e.mixinDatacomLoading=!1;var n=t.result,a=n.data,o=n.count;e.getcount&&(e.mixinDatacomPage.count=o),e.mixinDatacomHasMore=a.length<e.pageSize;var s=i?a.length?a[0]:void 0:a;e.mixinDatacomResData=s,r&&r(s)})).catch((function(t){e.mixinDatacomLoading=!1,e.mixinDatacomErrorMessage=t,e.mixinDatacomError=t,a&&a(t)})))},mixinDatacomGet:function(){var t,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i=i||{},n="undefined"!=typeof __uniX&&__uniX?e.databaseForJQL(this.spaceInfo):e.database(this.spaceInfo);var r=i.action||this.action;r&&(n=n.action(r));var a=i.collection||this.collection;n=Array.isArray(a)?(t=n).collection.apply(t,(0,s.default)(a)):n.collection(a);var o=i.where||this.where;o&&Object.keys(o).length&&(n=n.where(o));var c=i.field||this.field;c&&(n=n.field(c));var u=i.foreignKey||this.foreignKey;u&&(n=n.foreignKey(u));var l=i.groupby||this.groupby;l&&(n=n.groupBy(l));var d=i.groupField||this.groupField;d&&(n=n.groupField(d)),!0===(void 0!==i.distinct?i.distinct:this.distinct)&&(n=n.distinct());var f=i.orderby||this.orderby;f&&(n=n.orderBy(f));var h=void 0!==i.pageCurrent?i.pageCurrent:this.mixinDatacomPage.current,p=void 0!==i.pageSize?i.pageSize:this.mixinDatacomPage.size,g=void 0!==i.getcount?i.getcount:this.getcount,v=void 0!==i.gettree?i.gettree:this.gettree,m=void 0!==i.gettreepath?i.gettreepath:this.gettreepath,y={getCount:g},b={limitLevel:void 0!==i.limitlevel?i.limitlevel:this.limitlevel,startWith:void 0!==i.startwith?i.startwith:this.startwith};return v&&(y.getTree=b),m&&(y.getTreePath=b),n=n.skip(p*(h-1)).limit(p).get(y),n}}}}function Gn(e){return q("_globalUniCloudSecureNetworkCache__{spaceId}".replace("{spaceId}",e.config.spaceId))}function Qn(){return Xn.apply(this,arguments)}function Xn(){return Xn=(0,l.default)((0,u.default)().mark((function e(){var t,n,i,r,a,o,s,c=arguments;return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:{},n=t.openid,i=t.callLoginByWeixin,r=void 0!==i&&i,a=Gn(this),"mp-weixin"===z){e.next=4;break}throw new Error("[SecureNetwork] API `initSecureNetworkByWeixin` is not supported on platform `".concat(z,"`"));case 4:if(!n||!r){e.next=6;break}throw new Error("[SecureNetwork] openid and callLoginByWeixin cannot be passed at the same time");case 6:if(!n){e.next=8;break}return e.abrupt("return",(a.mpWeixinOpenid=n,{}));case 8:return e.next=10,new Promise((function(e,t){uni.login({success:function(t){e(t.code)},fail:function(e){t(new Error(e.errMsg))}})}));case 10:return o=e.sent,s=this.importObject("uni-id-co",{customUI:!0}),e.next=14,s.secureNetworkHandshakeByWeixin({code:o,callLoginByWeixin:r});case 14:return a.mpWeixinCode=o,e.abrupt("return",{code:o});case 16:case"end":return e.stop()}}),e,this)}))),Xn.apply(this,arguments)}function Zn(e){return ei.apply(this,arguments)}function ei(){return ei=(0,l.default)((0,u.default)().mark((function e(t){var n;return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Gn(this),e.abrupt("return",(n.initPromise||(n.initPromise=Qn.call(this,t).then((function(e){return e})).catch((function(e){throw delete n.initPromise,e}))),n.initPromise));case 2:case"end":return e.stop()}}),e,this)}))),ei.apply(this,arguments)}function ti(e){!function(e){me=e}(e)}function ni(e){var t={getSystemInfo:uni.getSystemInfo,getPushClientId:uni.getPushClientId};return function(n){return new Promise((function(i,r){t[e]((0,d.default)((0,d.default)({},n),{},{success:function(e){i(e)},fail:function(e){r(e)}}))}))}}var ii=function(e){(0,f.default)(n,e);var t=(0,h.default)(n);function n(){var e;return(0,g.default)(this,n),e=t.call(this),e._uniPushMessageCallback=e._receivePushMessage.bind((0,r.default)(e)),e._currentMessageId=-1,e._payloadQueue=[],e}return(0,v.default)(n,[{key:"init",value:function(){var e=this;return Promise.all([ni("getSystemInfo")(),ni("getPushClientId")()]).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=(0,a.default)(t,2),i=n[0];i=void 0===i?{}:i;var r=i.appId,o=n[1];o=void 0===o?{}:o;var s=o.cid;if(!r)throw new Error("Invalid appId, please check the manifest.json file");if(!s)throw new Error("Invalid push client id");e._appId=r,e._pushClientId=s,e._seqId=Date.now()+"-"+Math.floor(9e5*Math.random()+1e5),e.emit("open"),e._initMessageListener()}),(function(t){throw e.emit("error",t),e.close(),t}))}},{key:"open",value:function(){var e=(0,l.default)((0,u.default)().mark((function e(){return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.init());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_isUniCloudSSE",value:function(e){if("receive"!==e.type)return!1;var t=e&&e.data&&e.data.payload;return!(!t||"UNI_CLOUD_SSE"!==t.channel||t.seqId!==this._seqId)}},{key:"_receivePushMessage",value:function(e){if(this._isUniCloudSSE(e)){var t=e&&e.data&&e.data.payload,n=t.action,i=t.messageId,r=t.message;this._payloadQueue.push({action:n,messageId:i,message:r}),this._consumMessage()}}},{key:"_consumMessage",value:function(){for(var e=this;;){var t=this._payloadQueue.find((function(t){return t.messageId===e._currentMessageId+1}));if(!t)break;this._currentMessageId++,this._parseMessagePayload(t)}}},{key:"_parseMessagePayload",value:function(e){var t=e.action,n=e.messageId,i=e.message;"end"===t?this._end({messageId:n,message:i}):"message"===t&&this._appendMessage({messageId:n,message:i})}},{key:"_appendMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.messageId,e.message);this.emit("message",t)}},{key:"_end",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.messageId,e.message);this.emit("end",t),this.close()}},{key:"_initMessageListener",value:function(){uni.onPushMessage(this._uniPushMessageCallback)}},{key:"_destroy",value:function(){uni.offPushMessage(this._uniPushMessageCallback)}},{key:"toJSON",value:function(){return{appId:this._appId,pushClientId:this._pushClientId,seqId:this._seqId}}},{key:"close",value:function(){this._destroy(),this.emit("close")}}]),n}(function(){function e(){(0,g.default)(this,e),this._callback={}}return(0,v.default)(e,[{key:"addListener",value:function(e,t){this._callback[e]||(this._callback[e]=[]),this._callback[e].push(t)}},{key:"on",value:function(e,t){return this.addListener(e,t)}},{key:"removeListener",value:function(e,t){if(!t)throw new Error('The "listener" argument must be of type function. Received undefined');var n=this._callback[e];if(n){var i=function(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return n;return-1}(n,t);n.splice(i,1)}}},{key:"off",value:function(e,t){return this.removeListener(e,t)}},{key:"removeAllListener",value:function(e){delete this._callback[e]}},{key:"emit",value:function(e){for(var t=this._callback[e],n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];if(t)for(var a=0;a<t.length;a++)t[a].apply(t,i)}}]),e}());var ri={tcb:Ot,tencent:Ot,aliyun:ke,private:Mt,alipay:qt},ai=new(function(){function e(){(0,g.default)(this,e)}return(0,v.default)(e,[{key:"init",value:function(e){var t={},n=ri[e.provider];if(!n)throw new Error("未提供正确的provider参数");return t=n.init(e),function(e){e._initPromiseHub||(e._initPromiseHub=new R({createPromise:function(){var t=Promise.resolve();t=new Promise((function(e){setTimeout((function(){e()}),1)}));var n=e.auth();return t.then((function(){return n.getLoginState()})).then((function(e){return e?Promise.resolve():n.signInAnonymously()}))}}))}(t),rn(t),function(e){var t=e.uploadFile;e.uploadFile=function(e){return t.call(this,e)}}(t),function(e){e.database=function(t){if(t&&Object.keys(t).length>0)return e.init(t).database();if(this._database)return this._database;var n=gn(vn,{uniClient:e});return this._database=n,n},e.databaseForJQL=function(t){if(t&&Object.keys(t).length>0)return e.init(t).databaseForJQL();if(this._databaseForJQL)return this._databaseForJQL;var n=gn(vn,{uniClient:e,isJQL:!0});return this._databaseForJQL=n,n}}(t),function(e){e.getCurrentUserInfo=$n,e.chooseAndUploadFile=Jn.initChooseAndUploadFile(e),Object.assign(e,{get mixinDatacom(){return Yn(e)}}),e.SSEChannel=ii,e.initSecureNetworkByWeixin=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.openid,i=t.callLoginByWeixin,r=void 0!==i&&i;return Zn.call(e,{openid:n,callLoginByWeixin:r})}}(e),e.setCustomClientInfo=ti,e.importObject=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.customUI=t.customUI||e.customUI,e.parseSystemError=t.parseSystemError||e.parseSystemError,Object.assign(e.loadingOptions,t.loadingOptions),Object.assign(e.errorOptions,t.errorOptions),"object"==(0,o.default)(t.secretMethods)&&(e.secretMethods=t.secretMethods),e}({customUI:!1,loadingOptions:{title:"加载中...",mask:!0},errorOptions:{type:"modal",retry:!1}},n);var i=n,r=i.customUI,a=i.loadingOptions,s=i.errorOptions,c=i.parseSystemError,f=!r;return new Proxy({},{get:function(i,r){switch(r){case"toString":return"[object UniCloudObject]";case"toJSON":return{}}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fn,n=e.interceptorName,i=e.getCallbackArgs;return(0,l.default)((0,u.default)().mark((function e(){var r,a,o,s,c,l,f=arguments;return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(r=f.length,a=new Array(r),o=0;o<r;o++)a[o]=f[o];return s=i?i({params:a}):{},e.prev=2,e.next=5,$(K(n,"invoke"),(0,d.default)({},s));case 5:return e.next=7,t.apply(void 0,a);case 7:return c=e.sent,e.next=10,$(K(n,"success"),(0,d.default)((0,d.default)({},s),{},{result:c}));case 10:return e.abrupt("return",c);case 13:return e.prev=13,e.t0=e["catch"](2),l=e.t0,e.next=18,$(K(n,"fail"),(0,d.default)((0,d.default)({},s),{},{error:l}));case 18:throw l;case 19:return e.prev=19,e.next=22,$(K(n,"complete"),l?(0,d.default)((0,d.default)({},s),{},{error:l}):(0,d.default)((0,d.default)({},s),{},{result:c}));case 22:return e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[2,13,19,23]])})))}({fn:function(){var i=(0,l.default)((0,u.default)().mark((function i(){var p,g,v,m,y,b,x,w,k,_,S,C,P,T,O,A=arguments;return(0,u.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:for(f&&uni.showLoading({title:a.title,mask:a.mask}),g=A.length,v=new Array(g),m=0;m<g;m++)v[m]=A[m];return y={name:t,type:I,data:{method:r,params:v}},"object"==(0,o.default)(n.secretMethods)&&function(e,t){var n=t.data.method,i=e.secretMethods||{},r=i[n]||i["*"];r&&(t.secretType=r)}(n,y),b=!1,i.prev=5,i.next=8,e.callFunction(y);case 8:p=i.sent,i.next=14;break;case 11:i.prev=11,i.t0=i["catch"](5),b=!0,p={result:new fe(i.t0)};case 14:if(x=p.result||{},w=x.errSubject,k=x.errCode,_=x.errMsg,S=x.newToken,f&&uni.hideLoading(),S&&S.token&&S.tokenExpired&&(ge(S),ae(X,(0,d.default)({},S))),!k){i.next=39;break}if(C=_,!b||!c){i.next=24;break}return i.next=20,c({objectName:t,methodName:r,params:v,errSubject:w,errCode:k,errMsg:_});case 20:if(i.t1=i.sent.errMsg,i.t1){i.next=23;break}i.t1=_;case 23:C=i.t1;case 24:if(!f){i.next=37;break}if("toast"!==s.type){i.next=29;break}uni.showToast({title:C,icon:"none"}),i.next=37;break;case 29:if("modal"===s.type){i.next=31;break}throw new Error("Invalid errorOptions.type: ".concat(s.type));case 31:return i.next=33,(0,l.default)((0,u.default)().mark((function e(){var t,n,i,r,a,o,s=arguments;return(0,u.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},n=t.title,i=t.content,r=t.showCancel,a=t.cancelText,o=t.confirmText,e.abrupt("return",new Promise((function(e,t){uni.showModal({title:n,content:i,showCancel:r,cancelText:a,confirmText:o,success:function(t){e(t)},fail:function(){e({confirm:!1,cancel:!0})}})})));case 2:case"end":return e.stop()}}),e)})))({title:"提示",content:C,showCancel:s.retry,cancelText:"取消",confirmText:s.retry?"重试":"确定"});case 33:if(P=i.sent,T=P.confirm,!s.retry||!T){i.next=37;break}return i.abrupt("return",h.apply(void 0,v));case 37:throw O=new fe({subject:w,code:k,message:_,requestId:p.requestId}),O.detail=p.result,ae(G,{type:te,content:O}),O;case 39:return i.abrupt("return",(ae(G,{type:te,content:p.result}),p.result));case 40:case"end":return i.stop()}}),i,null,[[5,11]])})));function h(){return i.apply(this,arguments)}return h}(),interceptorName:"callObject",getCallbackArgs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.params;return{objectName:t,methodName:r,params:n}}})}})}}(e)}(t),["callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile","chooseAndUploadFile"].forEach((function(e){if(t[e]){var n=t[e];t[e]=function(){return n.apply(t,Array.from(arguments))},t[e]=function(e,t){return function(n){var i=this,r=!1;if("callFunction"===t){var a=n&&n.type||S;r=a!==S}var o="callFunction"===t&&!r,s=this._initPromiseHub.exec();n=n||{};var c=ue(n),u=c.success,l=c.fail,d=c.complete,f=s.then((function(){return r?Promise.resolve():$(K(t,"invoke"),n)})).then((function(){return e.call(i,n)})).then((function(e){return r?Promise.resolve(e):$(K(t,"success"),e).then((function(){return $(K(t,"complete"),e)})).then((function(){return o&&ae(G,{type:ee,content:e}),Promise.resolve(e)}))}),(function(e){return r?Promise.reject(e):$(K(t,"fail"),e).then((function(){return $(K(t,"complete"),e)})).then((function(){return ae(G,{type:ee,content:e}),Promise.reject(e)}))}));if(!(u||l||d))return f;f.then((function(e){u&&u(e),d&&d(e),o&&ae(G,{type:ee,content:e})}),(function(e){l&&l(e),d&&d(e),o&&ae(G,{type:ee,content:e})}))}}(t[e],e).bind(t)}})),t.init=this.init,t}}]),e}());(function(){var e=N,t={};if(e&&1===e.length)t=e[0],ai=ai.init(t),ai._isDefault=!0;else{var n;n=e&&e.length>0?"应用有多个服务空间，请通过uniCloud.init方法指定要使用的服务空间":"应用未关联服务空间，请在uniCloud目录右键关联服务空间",["auth","callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile","database","getCurrentUSerInfo","importObject"].forEach((function(e){ai[e]=function(){return console.error(n),Promise.reject(new fe({code:"SYS_ERR",message:n}))}}))}Object.assign(ai,{get mixinDatacom(){return Yn(ai)}}),Wn(ai),ai.addInterceptor=H,ai.removeInterceptor=V,ai.interceptObject=J})();var oi=ai;t.default=oi}).call(this,n("0ee4"))},"86f6":function(e,t,n){var i=n("c86c");t=i(!1),t.push([e.i,".uni-file-picker[data-v-3907726b]{\nbox-sizing:border-box;overflow:hidden;width:100%;\nflex:1}.uni-file-picker__header[data-v-3907726b]{padding-top:5px;padding-bottom:10px;\ndisplay:flex;\njustify-content:space-between}.file-title[data-v-3907726b]{font-size:14px;color:#333}.file-count[data-v-3907726b]{font-size:14px;color:#999}.is-add[data-v-3907726b]{\ndisplay:flex;\nalign-items:center;justify-content:center}.icon-add[data-v-3907726b]{width:50px;height:5px;background-color:#f1f1f1;border-radius:2px}.rotate[data-v-3907726b]{position:absolute;-webkit-transform:rotate(90deg);transform:rotate(90deg)}",""]),e.exports=t},8842:function(e,t,n){var i=n("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.uni-file-picker__files[data-v-1e2ea0b2]{display:flex;flex-direction:column;justify-content:flex-start}.uni-file-picker__lists[data-v-1e2ea0b2]{position:relative;margin-top:5px;overflow:hidden}.file-picker__mask[data-v-1e2ea0b2]{display:flex;justify-content:center;align-items:center;position:absolute;right:0;top:0;bottom:0;left:0;color:#fff;font-size:14px;background-color:rgba(0,0,0,.4)}.uni-file-picker__lists-box[data-v-1e2ea0b2]{position:relative}.uni-file-picker__item[data-v-1e2ea0b2]{display:flex;align-items:center;padding:8px 10px;padding-right:5px;padding-left:10px}.files-border[data-v-1e2ea0b2]{border-top:1px #eee solid}.files__name[data-v-1e2ea0b2]{flex:1;font-size:14px;color:#666;margin-right:25px;word-break:break-all;word-wrap:break-word}.icon-files[data-v-1e2ea0b2]{position:static;background-color:initial}.is-list-card[data-v-1e2ea0b2]{border:1px #eee solid;margin-bottom:5px;border-radius:5px;box-shadow:0 0 2px 0 rgba(0,0,0,.1);padding:5px}.files__image[data-v-1e2ea0b2]{width:40px;height:40px;margin-right:10px}.header-image[data-v-1e2ea0b2]{width:100%;height:100%}.is-text-box[data-v-1e2ea0b2]{border:1px #eee solid;border-radius:5px}.is-text-image[data-v-1e2ea0b2]{width:25px;height:25px;margin-left:5px}.rotate[data-v-1e2ea0b2]{position:absolute;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.icon-del-box[data-v-1e2ea0b2]{display:flex;margin:auto 0;align-items:center;justify-content:center;position:absolute;top:0;bottom:0;right:5px;height:26px;width:26px;z-index:2;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.icon-del[data-v-1e2ea0b2]{width:15px;height:1px;background-color:#333}@media (min-width:768px){.uni-file-picker__files[data-v-1e2ea0b2]{max-width:375px}}',""]),e.exports=t},"8a20":function(e,t,n){"use strict";n.r(t);var i=n("f145"),r=n("e710");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("64af");var o=n("828b"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"4320523e",null,!1,i["a"],void 0);t["default"]=s.exports},9370:function(e,t,n){"use strict";var i=n("8bdb"),r=n("af9e"),a=n("1099"),o=n("c215"),s=r((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}));i({target:"Date",proto:!0,arity:1,forced:s},{toJSON:function(e){var t=a(this),n=o(t,"number");return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},"9b03":function(e,t,n){"use strict";n.r(t);var i=n("1496"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},"9b40":function(e,t,n){"use strict";n.r(t);var i=n("e5aa"),r=n("c1ed");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);var o=n("828b"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"3e106eac",null,!1,i["a"],void 0);t["default"]=s.exports},"9c18":function(e,t,n){var i=n("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.uni-easyinput[data-v-12e406b6]{width:100%;flex:1;position:relative;text-align:left;color:#333;font-size:14px}.uni-easyinput__content[data-v-12e406b6]{flex:1;width:100%;display:flex;box-sizing:border-box;flex-direction:row;align-items:center;border-color:#fff;transition-property:border-color;transition-duration:.3s}.uni-easyinput__content-input[data-v-12e406b6]{width:auto;position:relative;overflow:hidden;flex:1;line-height:1;font-size:14px;height:35px\r\n  /*ifdef H5*/\r\n  /*endif*/}.uni-easyinput__content-input[data-v-12e406b6] ::-ms-reveal{display:none}.uni-easyinput__content-input[data-v-12e406b6] ::-ms-clear{display:none}.uni-easyinput__content-input[data-v-12e406b6] ::-o-clear{display:none}.uni-easyinput__placeholder-class[data-v-12e406b6]{color:#999;font-size:12px}.is-textarea[data-v-12e406b6]{align-items:flex-start}.is-textarea-icon[data-v-12e406b6]{margin-top:5px}.uni-easyinput__content-textarea[data-v-12e406b6]{position:relative;overflow:hidden;flex:1;line-height:1.5;font-size:14px;margin:6px;margin-left:0;height:80px;min-height:80px;min-height:80px;width:auto}.input-padding[data-v-12e406b6]{padding-left:10px}.content-clear-icon[data-v-12e406b6]{padding:0 5px}.label-icon[data-v-12e406b6]{margin-right:5px;margin-top:-1px}.is-input-border[data-v-12e406b6]{display:flex;box-sizing:border-box;flex-direction:row;align-items:center;border:1px solid #dcdfe6;border-radius:4px}.uni-error-message[data-v-12e406b6]{position:absolute;bottom:-17px;left:0;line-height:12px;color:#e43d33;font-size:12px;text-align:left}.uni-error-msg--boeder[data-v-12e406b6]{position:relative;bottom:0;line-height:22px}.is-input-error-border[data-v-12e406b6]{border-color:#e43d33}.is-input-error-border .uni-easyinput__placeholder-class[data-v-12e406b6]{color:#f29e99}.uni-easyinput--border[data-v-12e406b6]{margin-bottom:0;padding:10px 15px;border-top:1px #eee solid}.uni-easyinput-error[data-v-12e406b6]{padding-bottom:0}.is-first-border[data-v-12e406b6]{border:none}.is-disabled[data-v-12e406b6]{background-color:#f7f6f6;color:#d5d5d5}.is-disabled .uni-easyinput__placeholder-class[data-v-12e406b6]{color:#d5d5d5;font-size:12px}',""]),e.exports=t},"9c67":function(e,t,n){"use strict";n.r(t);var i=n("19f9"),r=n("0014");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("b9ca");var o=n("828b"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"12e406b6",null,!1,i["a"],void 0);t["default"]=s.exports},a24b:function(e,t,n){var i=n("86f6");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("967d").default;r("718d98e9",i,!0,{sourceMap:!1,shadowMode:!1})},a2a8:function(e,t,n){var i=n("ebf1");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("967d").default;r("15a5f5c4",i,!0,{sourceMap:!1,shadowMode:!1})},a317:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"uni-file-picker__files"},[e.readonly?e._e():n("v-uni-view",{staticClass:"files-button",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.choose.apply(void 0,arguments)}}},[e._t("default")],2),e.list.length>0?n("v-uni-view",{staticClass:"uni-file-picker__lists is-text-box",style:e.borderStyle},e._l(e.list,(function(t,i){return n("v-uni-view",{key:i,staticClass:"uni-file-picker__lists-box",class:{"files-border":0!==i&&e.styles.dividline},style:0!==i&&e.styles.dividline&&e.borderLineStyle},[n("v-uni-view",{staticClass:"uni-file-picker__item"},[n("v-uni-view",{staticClass:"files__name"},[e._v(e._s(t.name))]),e.delIcon&&!e.readonly?n("v-uni-view",{staticClass:"icon-del-box icon-files",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.delFile(i)}}},[n("v-uni-view",{staticClass:"icon-del icon-files"}),n("v-uni-view",{staticClass:"icon-del rotate"})],1):e._e()],1),t.progress&&100!==t.progress||0===t.progress?n("v-uni-view",{staticClass:"file-picker__progress"},[n("v-uni-progress",{staticClass:"file-picker__progress-item",attrs:{percent:-1===t.progress?0:t.progress,"stroke-width":"4",backgroundColor:t.errMsg?"#ff5a5f":"#EBEBEB"}})],1):e._e(),"error"===t.status?n("v-uni-view",{staticClass:"file-picker__mask",on:{click:function(n){n.stopPropagation(),arguments[0]=n=e.$handleEvent(n),e.uploadFiles(t,i)}}},[e._v("点击重试")]):e._e()],1)})),1):e._e()],1)},r=[]},a810:function(e,t,n){"use strict";n.r(t);var i=n("de1e"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},ab3f5:function(e,t,n){"use strict";var i=n("ee98").end,r=n("8b27");e.exports=r("trimEnd")?function(){return i(this)}:"".trimEnd},ab9b:function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("49d5"),r={name:"lime-painter-view",mixins:[(0,i.children)("painter"),(0,i.parent)("painter")],props:{id:String,type:{type:String,default:"view"},css:[String,Object]},data:function(){return{el:{css:{},views:[]}}},mounted:function(){}};t.default=r},acb1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,i.default)(e,t)},n("7a76"),n("c9b5"),n("6a54");var i=function(e){return e&&e.__esModule?e:{default:e}}(n("e668"))},ad32:function(e,t,n){"use strict";n.r(t);var i=n("cacb"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},ad6d:function(e,t,n){e.exports=n.p+"static/game_cps/bg_qd_01@2x.png"},b15c:function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("49d5"),r={name:"lime-painter-image",mixins:[(0,i.children)("painter")],props:{id:String,css:[String,Object],src:String},data:function(){return{type:"image",el:{css:{},src:null}}}};t.default=r},b2c7:function(e,t,n){var i=n("74a5");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("967d").default;r("0c4ef538",i,!0,{sourceMap:!1,shadowMode:!1})},b693:function(e,t,n){"use strict";var i=n("c02b"),r=n.n(i);r.a},b9ca:function(e,t,n){"use strict";var i=n("c929"),r=n.n(i);r.a},bc0e:function(e,t,n){var i=n("c86c");t=i(!1),t.push([e.i,".lime-painter[data-v-4320523e],\n.lime-painter__canvas[data-v-4320523e]{\nwidth:100%;\n}",""]),e.exports=t},bc8f:function(e,t,n){"use strict";n.r(t);var i=n("318f"),r=n("ce6c");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);var o=n("828b"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"bebf3e84",null,!1,i["a"],void 0);t["default"]=s.exports},be9e:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"uqrcode",class:{"uqrcode-hide":e.hide},style:{width:e.templateOptions.width+"px",height:e.templateOptions.height+"px"}},[n("v-uni-view",{staticClass:"uqrcode-canvas-wrapper"},[e.templateOptions.canvasDisplay?n("v-uni-canvas",{staticClass:"uqrcode-canvas",style:{width:e.templateOptions.canvasWidth+"px",height:e.templateOptions.canvasHeight+"px",transform:e.templateOptions.canvasTransform},attrs:{id:e.canvasId,"canvas-id":e.canvasId,type:e.canvasType},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClick.apply(void 0,arguments)}}}):e._e()],1),(void 0===e.loading?e.makeing:e.loading)?n("v-uni-view",{staticClass:"uqrcode-makeing"},[e._t("loading",[n("v-uni-image",{staticClass:"uqrcode-makeing-image",style:{width:e.templateOptions.size/4+"px",height:e.templateOptions.size/4+"px"},attrs:{src:"data:image/gif;base64,R0lGODlhAAEAAfIEAOHh4SSsWuDg4N3d3f///wAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ4OCwgMjAyMC8wNy8xMC0yMjowNjo1MyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjAgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjAyODhGMzM4RDEwMTExRUM4MDhCRkVBQkE2QUZDQzkwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjAyODhGMzM5RDEwMTExRUM4MDhCRkVBQkE2QUZDQzkwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDI4OEYzMzZEMTAxMTFFQzgwOEJGRUFCQTZBRkNDOTAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDI4OEYzMzdEMTAxMTFFQzgwOEJGRUFCQTZBRkNDOTAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PDs6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQFFAAEACwAAAAAAAEAAQAD/0i63P4wykmrvTjrzbv/YCiOZGmeaKqubOu+cCzPdG3feK7vfO//wKBwSCwaj8ikcslsOp/QqHRKrVqv2Kx2y+16v+CweEwum8/otHrNbrvf8Lh8Tq/b7/i8fs/v+/+AgYKDhIWGh4iJiouMjY6PkJGSk5SVlpeYmZqbnJ2en6ChoqOkpaanigCqq6ytrieusbISAbW2t7i5uru8vb66bLLCrLDDw7S/ycrLzLXBxsLF0LHIzdbXzc/Trybb1BHY4eK92t6r0uaq1ePs4+Xp6PDg7fTh7+bx+PP1/Mz33vkA7utH0Ne/bQERDizIMNfBaQkhLmxIMcBDaBExTqzI8P+isYwfN3Ik6PFYt3TnRI7kVzLaSZQA1q0s2HLWS5QyZ/ar+a0ETHUqdbLjyc3nz5xC6RFtBdIkhKQ01/yMeVPeU6g7pR6tqu8q1npLiXEV6PVru7ApjcJEquyEPa1rxyosm83EWzVTm7qk688uNrRA1eIMatDvNcBUBVt9cJdEYzR55Urku8ztX7iDFXdlfLnE4zORNZPlfNiwNcR6bVJua7ou3q2i55I+3brv67ixJ8927bhzmtAkgDv4HIJ4GeEikDMw/oH5GOUgoCtw3oF6GOkesFvfsP0L9g7afY/o7uU7h/ClPYsHDTt4++Hri8c//j55/eXzm+d/fj96/+n/+1UX4HX/ZVcgeRggyIV5G6BHmycMauAgb5xEmMGEtnViIQYYVvbJhhd0yBqEBYJ34ICUgGiBiMmAomIFLP7iYonnnZiehjQ2aOODOE7l449MERbVai1iBuSRO67EVpG3IenkYvDptKSMRj5pZUhENjRlYU1e6aVqu420JTlVfmlmYGFyNCYviJ2ZWZoVrblLm25uFuVMcgJTZp1X5gmWkGzuyeeTfioF6JyCDopkoWcdqmeXilrJ6FCOOpRopD9O6k6luNCJ6V5wUqSpRZd+mqSYnN7iqalFhaplqrasyqpYWXYEqzOlzmpnA0mNKquuiblqa61kQgrsqWreSqqx/8e+eaeSyqIi7bTUVmvttdhmq+223Hbr7bejCCDuuOSWa+656Kar7rrnSjDAu/DGK++89NZr77340vsru/z2224E+QYs8MAEw7uvvwj3627BDDfM8MEJR5zuwg5XbHG9EEusMbkUX+zxxRlvvHHHH5f8cK4ip+wvySa3HHDIKifMsss0Y4xyzDijO3PNPBt8c85Aj7tzzzzDHPS6QxNNs9FHTwyw0lAPwHTT/0IQNdRTU11u0ld/nLXWQj/dddE/g50y12Nb/LXZaKft8Npgt+32ycyafbTccxMMt9Z45y3w3lT37Xe+qEnGruDxzihxalU/ULHiETNuLuI+k7i44f9Ii013j5Fjri7l70Ius+dOW/32hxpLvrXmBYuOsOocs6436pfndrjsA7u+Muk64/437Z3bnrnpDeuuMO+NO/A48KML/7nvLzP/OvKTQ0+49Ls7X7rjp1sevHu1c1889sdr3zvxm1eYOvWro986+fzCHrb7s3vfPPjfK9895/ePMLL1+DKe3c6Hv/fZb4DPM5++4IfA9hWwfvxrIAH9tz/1STCBD8wdAy8oNfYlboMXlF/oQChBEXbwgByMnQLnJcAUmrCFHDTh4FhYNrZ5cIY2q5sLb4hDGuowhjzs4Qd/GMIgCnGERCyhEY8IOAxS8IgVZE8Kk2cfKI4viQ2UIRPAaxi3JQqxiXcDoBXtVbgVOlB/YzTgb9ZnRhWKL40axCIVQ/A/+sExgFwU1wvFeMchrjF8T8xfA/oYxz8Kko5sfCMh71XGDJZPkYvMoSH7V8VDLiCS15Nj9do4P0hiUl6NDCQlGfBJRoLrlKhMpSpXycpWuvKVsIylLGdJy1ra8pa4zKUud8nLXvryl8AMpjCHScxiGvOYyEymMpfJzGY685nQjKY0p0nNalrzmtjMpja3yc1uevOb4AynOMdJhwQAACH5BAUUAAQALDIAMgCcAJwAAAP/KLrcTjDKSWt0OFsIuv9gKI5kaZ6Ztq1s6iorKs90/apsTt1pbP/AIA+mK16Gj41wyWwan8ikpUmtRp/GaMNn7Xq3WJ2Wwf2arWHxmDg9u6np3JpdeduX8da8fO8j83xXSn6EQ4CDa4GFi2CHO3uIjJJkjo+JkZOTlZZjipmFmxNzAp6ffqESo6Wmd6hHl22sjK4ckLGyoLSqmLh9tAS7t72+urZ1QL+LycacNcuEz528M9HErsHHP9WtxbDZNtt24YbTMuNu5zerJulm7S7rJe9e8zjfzt2n+VrxJPVo+wQJo/GvSsFG9wgGFLeQ3EBqDdFFVFcOxUEnE1/0G3GR/0lHOs0UXss10ltIiCX1peRX8cRHIS83iniJLVRNUcgyfonZkp1Oej/tnTT3K87NSkdfgSuaJukhp8ByMsUCNQ/UIFPDVDXKDKe2rFC6IhWrFB/YIlubkq319awak5uuSnWrB+5Yu2VF0pUpBZXctnt7jhqMl63KhMMIU3z4hm9ixY4xMn6sGENkj4IpVyaVuctlzdImn/kMWiDixp1L/z08VPVm0lhTuw59WqLo2YNhz22NO7dsOL9789ANmLfwwlGhBT8Obzke58wtQ499O/qf6bu9WvddHWj37RqxF9cOHrky8ZvTs/wOkH2IwPDjy59Pv779+/jz69/Pv7////8ABijggAQWaOCBCCao4FQDNOjggxBGKOGEFFZooYQrBKDhhhx26OGHIIYo4ogfXmjiiSim6GCGJLbo4oswaqjijDTSyGKMOOYYY4089ljhjToGKWSJPhZpJJBDJimkkUz2iKSSUO7Y5JQqPhnllSRSqeWJVmLpJZFbhjlhl1+WKaOYaEJIpplfpulmg2uyieWbbsYpZ5R0pmnnnUrmieaefA7pp5iABhrkoGEWamiOiG6p6KJSNjrlo5C+KCmVlFba4qWTbqCpl5w2memnIvLIkwVB6mdqUBh6qqOqNZ5aQar5rbpSiqMGAKuNrEaY664zykoBrfjZ6lesruYIbJX/vaqZLI7L4trsg7/WiuytKFZb7LXH8orqq9Z6222wz8YYbbbTrlgujOdymS6c677YronCTkDsfcbaxO2w4G4rrr7/2tsvvvvGVbAE99qXr8EBIzywwgc7srDDyoZLLrbufluxv6EOUFTC9XWsLi0g0ycyvCQ/HPLJH6tsMsu/lDzfyR7H7PLMMKe8McEit7wzxD3b/PPKQesMrcWh+kxqnzm7sjSeTaPyNJQ0Kz31oVGHcnWSVQu9tY5dG/01jmE7PTbYWW9yNtpFm712pDQ3HMHbZEf8lN0E0A03sxjTG6/eIU4sMd6AW4q3VYQXvunhXMkNgeKLOw6I4I9DPiLlGZMnbnngjKsl+ealdq6V5qB7iDnin5f+YQIAIfkEBRQABAAsMgAyAJwAnAAAA/84utxOMMpJa3Q4Wyi6/2AojmRpnpm2rWzqKisqz3T9qmxO3Wls/8AgD6YrXoaPjXDJbBqfyKSlSa1Gn8Zow2fterdYnZbB/ZqtYfGYOD27qencml1525fx1rx87yPzfFdKfoRDgINrgYWLYIc7e4iMkmSOj4mRk5OVlmOKmYWbE3MDnp9+oRKjpaZ3qEeXbayMrhyQsbKgtKqYuH20BLu3vb66tnVAv4vJxpw1y4TPnbwz0cSuwcc/1a3FsNk223bhhtMy427nN6sm6WbtLusl717zON/O3af5WvEk9Wj7BAmj8a9KwUb3CAYUt5DcQGoN0UVUVw7FQScTX/QbcZH/SUc6zRReyzXSW0iIJfWl5FfxxEchLzeKeIktVE1RyDJ+idmSnU56P+2dNPcrzs1KR1+BK5om6SGnwHIyxQI1D9QgU8NUNcoMp7asULoiFasUH9giW5uSrfX1rBqTm65KdasH7li7ZUXSlSkFldy2e3uOGoyXrcqEwwhTfPiGb2LFjjEyfqwYQ2SPgilXJpW5y2XN0iaf+QxaIOLGnUv/PTxU9WbSWFO7Dn1aoujZg2HPbY07t2w4v3vz0A2Yt/DCUaEFPw5vOR7nzC1Dj307+p/pu71a910daPftGrEX1w4euTLxm9Oz/A6QfYjA8OPLn0+/vv37+PPr38+/v////wAGKOCABBZo4IEIJqjgVAE06OCDEEYo4YQUVmihhMQBoOGGHHbo4YcghsjhhSSWaOKJDmYo4oostqghijDGGKOKLtZo44sy5qgjhTTe6OOKOwYpZAA9/mikh0MmKWORRzYJgJJQnsikk0ZGaeWFU1Lp45VcTpilljZ2KeaDX4Lp4pholmkmi2iOqeaaIrYp5ptwgihnl3TWieSdV+ap54h8WunnnzgGCuWghBoaJaJ/KnooeoTW6KiSjOo5aZKV1pnjL5tCp1+nroBaG4ufLkmLqMaJWOqMp5rqXoerwsipq6OuGCuKs7L6Koe3StmqrrWqmh+qmxCbipG9mpirrP+eDktrKMbmVWOyJS6La7P4RXuItsn5SC2J1vq664bfYvkrs+NqWK6F4SqL7X3c5sHtketW2G6179oXbxzzIusssNA+S56N9fJ47rXpAlCwlweLG2yIC7fJU7aXkhnUhxGnebGHGbu5Maz/Vkzkx7yGXPHE8IrcIMr6qjzySgSbfCnL9bn8sl/+UqwyTZHeaDPPPUvqMtBBt/gzyUVvOTTSSYe5NMxNr3k01FGDOTXOVWv6NNZZS721TV3DaXO/YZu5bxpkl63l2WGkrbaTbGPh9ttHxv3E3HT/aLcReOfts8CV9O230AAXC7i0gxOOLiqCJ87m4dtC3q3jThceuOQElP+YAAAh+QQFFAAEACwyADIAnACcAAAD/xi63E4wyklrdDhbOLr/YCiOZGmKWcpsbEuoMHvOdG17sOruVJ7Kt6Aw6NPwjq/iYzNsOkvKJXIXbQCfWGx1NaVuFdesWPgFd13lQHjMpqXP6PK6TSe94ay7pc6HyvEbehV9hCGCgBOHE4WMHYqIEI8RjYySiJYElIWYeJiahJxwnp98oWejpHSmXaipbKtTra5isEiys1p/kIm6g7hjtUe3v03BPMM0uxTFvcpJX3M1zhLM0NORzYtD1xxDxl7We9vc1Vvcz+ZM49flVefIM+ftUe/Z1OvT80r14b5C8t7sQYJ3AiAZgZcQZsLnTF8RfunE/SMXsJ8zgiYMElHYSf9hE403vsWxqG0iu4oRp2EsAdKGyBYrSbSs8TKPR4bKHPqA6E6dyXwoe16LOWKmG46ibv5sGJQeN6IijM6oGUhpkHMdSe6CGgJrUq0Drd7wegppWbDdlpIFl/KiWBtrY5ll9VZaXGFz5aJdqPZu1b1Z25a86petUJV1kxUeKXhr4niLYaaZTFmKP03RjlbePDkzIc8nOIt+3Ae0idGonUrE7HNj6tc6WlMy7Qe2bcvLSNG2c7v3gt1tgKPw7Vv4GOMgiBeX3Qj5B+W9nWOR7gi6bepOsFu/zpyR9u2vsX/srhn8aPE47x00f578Z/eh2bdfPRv+afmi0fed1BQ/VzH/3/lXmX6E0eeSgAPaV0eACP6XBXaRRSjhhBRWaOGFGGao4YYcdujhhyCGKOKIJJZo4okopqjiimQB4OKLMMYo44w01mjjjTMSKMCOPPbo449ABinkkDgWaeSROOpI5JJMNonkk1BGqaSTVFYZ5ZVY3jillVx2meWXSG7p5Zhkgmmmi2KWqeaZbBqZ5ppwtilnjG/GaeecbNZ55554Yqknn4D2eeSfgRYqaI2EGqrooS8muiijkDr6KKSCSjoppXNaeimmeSq46aec2qgpqKH66SmpqJYKwKipqjroqa3yKVWSsP64oaknSVmrj7deOauWu/bYq665QgmhhrgCRexl/1UOayxFy+bGpbNP/ipqsDxSGya0zxropLavFlsttjuC6ya343rbpLlFWosouQKwS6u426rLpLzA0hsus1Tie62+59q7pL/vAtwuvATT6K7CCCPrK7r18vutw9Hm9LDARCacI8T7SmulxjIuvDHGQ4JMJ8cBS7wuxa6GjPK9LLcMo8i2xiwzmi8PbPPNNPO6s8w9C/tzy0FnO7SrRZd7tKpJx7t0qU2bzGjUT4fadKxYn2xw1lwfvHXXYDP8ddhkN5pz2WhfjTbQZ68dttpuM9123De7PDbddZvJatZUk4x3xbsk6/Hfa/atMuGCWww4f4gXPrfYhzferbKTDy554hmBXxz55R0rXvlgnGvO1OJphS665+luTncCADs="}})])],2):e._e(),e.isError?n("v-uni-view",{staticClass:"uqrcode-error",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClick.apply(void 0,arguments)}}},[e._t("error",[n("v-uni-text",{staticClass:"uqrcode-error-message"},[e._v(e._s(e.error.errMsg))])],{error:e.error})],2):e._e(),e.isH5Save?n("v-uni-view",{staticClass:"uqrcode-h5-save"},[e._t("h5save",[n("v-uni-image",{staticClass:"uqrcode-h5-save-image",attrs:{src:e.tempFilePath}}),n("v-uni-text",{staticClass:"uqrcode-h5-save-text"},[e._v(e._s(e.h5SaveIsDownload?"若保存失败，":"")+"请长按二维码进行保存")])],{tempFilePath:e.tempFilePath}),n("v-uni-view",{staticClass:"uqrcode-h5-save-close",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.isH5Save=!1}}},[n("v-uni-view",{staticClass:"uqrcode-h5-save-close-before"}),n("v-uni-view",{staticClass:"uqrcode-h5-save-close-after"})],1)],2):e._e()],1)},r=[]},c02b:function(e,t,n){var i=n("8842");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("967d").default;r("cd5fde84",i,!0,{sourceMap:!1,shadowMode:!1})},c1a3:function(e,t,n){"use strict";n("15ab")},c1ed:function(e,t,n){"use strict";n.r(t);var i=n("ab9b"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},c238:function(e,t,n){"use strict";var i=n("af9e");e.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},c929:function(e,t,n){var i=n("9c18");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("967d").default;r("44cf1ce9",i,!0,{sourceMap:!1,shadowMode:!1})},cacb:function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("64aa");var i=n("49d5"),r={name:"lime-painter-text",mixins:[(0,i.children)("painter")],props:{type:{type:String,default:"text"},uid:String,css:[String,Object],text:[String,Number],replace:Object},data:function(){return{el:{css:{},text:null}}}};t.default=r},cad9:function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,r.default)();return function(){var n,r=(0,i.default)(e);if(t){var o=(0,i.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.default)(this,n)}},n("6a88"),n("bf0f"),n("7996");var i=o(n("f1f8")),r=o(n("6c31")),a=o(n("62b0"));function o(e){return e&&e.__esModule?e:{default:e}}},cbb3:function(e,t,n){var i=n("0e8b");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("967d").default;r("bcc0e378",i,!0,{sourceMap:!1,shadowMode:!1})},ce6c:function(e,t,n){"use strict";n.r(t);var i=n("b15c"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},d0b1:function(e,t,n){"use strict";var i=n("8bdb"),r=n("bb80"),a=n("11bf"),o=n("1c06"),s=n("338c"),c=n("d6b1").f,u=n("80bb"),l=n("8449"),d=n("1ea2"),f=n("d7b4"),h=n("c238"),p=!1,g=f("meta"),v=0,m=function(e){c(e,g,{value:{objectID:"O"+v++,weakData:{}}})},y=e.exports={enable:function(){y.enable=function(){},p=!0;var e=u.f,t=r([].splice),n={};n[g]=1,e(n).length&&(u.f=function(n){for(var i=e(n),r=0,a=i.length;r<a;r++)if(i[r]===g){t(i,r,1);break}return i},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,g)){if(!d(e))return"F";if(!t)return"E";m(e)}return e[g].objectID},getWeakData:function(e,t){if(!s(e,g)){if(!d(e))return!0;if(!t)return!1;m(e)}return e[g].weakData},onFreeze:function(e){return h&&p&&d(e)&&!s(e,g)&&m(e),e}};a[g]=!0},d2c4:function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,n("6a88"),n("bf0f"),n("7996"),n("aa9c");var i=a(n("e668")),r=a(n("6c31"));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,n,a){return(0,r.default)()?t.default=o=Reflect.construct.bind():t.default=o=function(e,t,n){var r=[null];r.push.apply(r,t);var a=Function.bind.apply(e,r),o=new a;return n&&(0,i.default)(o,n.prototype),o},o.apply(null,arguments)}},d441:function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},n("5ef2"),n("c9b5"),n("bf0f"),n("ab80")},dda5:function(e,t,n){e.exports=n.p+"static/game_cps/bg_shouyi_02@2x.png"},de1e:function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("49d5"),r={name:"lime-painter-qrcode",mixins:[(0,i.children)("painter")],props:{id:String,css:[String,Object],text:String},data:function(){return{type:"qrcode",el:{css:{},text:null}}}};t.default=r},e062:function(e,t,n){"use strict";var i=n("8bdb");i({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},e226:function(e,t,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("9b1b")),a=i(n("2634")),o=i(n("2fdc"));n("64aa"),n("4626"),n("c223"),n("bf0f"),n("2797"),n("9db6"),n("7a76"),n("c9b5"),n("aa77"),n("5c47"),n("aa9c");var s=i(n("eee1")),c=n("74e0"),u=n("7558"),l=null,d={name:"uqrcode",props:{canvasId:{type:String,required:!0},value:{type:[String,Number]},options:{type:Object,default:function(){return{}}},size:{type:[String,Number],default:200},sizeUnit:{type:String,default:"px"},fileType:{type:String,default:"png"},start:{type:Boolean,default:!0},auto:{type:Boolean,default:!0},hide:{type:Boolean,default:!1},type:{type:String,default:function(){return"normal"}},queue:{type:Boolean,default:!1},isQueueLoadImage:{type:Boolean,default:!1},loading:{type:Boolean,default:void 0},h5SaveIsDownload:{type:Boolean,default:!1},h5DownloadName:{type:String,default:"uQRCode"}},data:function(){return{canvas:void 0,canvasType:void 0,canvasContext:void 0,makeDelegate:void 0,drawDelegate:void 0,toTempFilePathDelegate:void 0,makeExecuted:!1,makeing:!1,drawing:!1,isError:!1,error:void 0,isH5Save:!1,tempFilePath:"",templateOptions:{size:0,width:0,height:0,canvasWidth:0,canvasHeight:0,canvasTransform:"",canvasDisplay:!1},uqrcodeOptions:{data:""},plugins:[],makeingPattern:[[[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0]],[[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!1,!1,!1],[!0,!0,!0,!0,!0,!0,!1,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!1,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!1,!0,!0,!0]],[[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!1,!1,!1],[!0,!0,!0,!0,!0,!0,!0,!1,!1,!1],[!0,!0,!0,!0,!0,!0,!0,!1,!1,!1],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0]],[[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!1,!1,!1],[!0,!0,!0,!1,!1,!1,!1,!1,!1,!1],[!0,!0,!0,!1,!1,!1,!1,!1,!1,!1],[!0,!0,!0,!1,!1,!1,!1,!1,!1,!1],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0]]]}},watch:{type:{handler:function(e){["2d"].includes(e)?this.canvasType=e:this.canvasType=void 0},immediate:!0},value:{handler:function(){this.auto&&this.remake()}},size:{handler:function(){this.auto&&this.remake()}},options:{handler:function(){this.auto&&this.remake()},deep:!0},makeing:{handler:function(e){e||"function"===typeof this.toTempFilePathDelegate&&this.toTempFilePathDelegate()}}},mounted:function(){this.templateOptions.size="rpx"==this.sizeUnit?uni.upx2px(this.size):this.size,this.templateOptions.width=this.templateOptions.size,this.templateOptions.height=this.templateOptions.size,this.templateOptions.canvasWidth=this.templateOptions.size,this.templateOptions.canvasHeight=this.templateOptions.size,this.canvasType,this.templateOptions.canvasTransform="scale(".concat(this.templateOptions.size/this.templateOptions.canvasWidth,", ").concat(this.templateOptions.size/this.templateOptions.canvasHeight,")"),this.start&&this.make()},methods:{getTemplateOptions:function(){var e="rpx"==this.sizeUnit?uni.upx2px(this.size):this.size;return f(this.templateOptions,{size:e,width:e,height:e})},getUqrcodeOptions:function(){return f(this.options,{data:String(this.value),size:Number(this.templateOptions.size)})},resetCanvas:function(e){var t=this;this.templateOptions.canvasDisplay=!1,this.$nextTick((function(){t.templateOptions.canvasDisplay=!0,t.$nextTick((function(){e&&e()}))}))},draw:function(){var e=arguments,t=this;return(0,o.default)((0,a.default)().mark((function n(){var i,r,o,u;return(0,a.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=e.length>0&&void 0!==e[0]?e[0]:{},r=e.length>1&&void 0!==e[1]&&e[1],"function"!=typeof i.success&&(i.success=function(){}),"function"!=typeof i.fail&&(i.fail=function(){}),"function"!=typeof i.complete&&(i.complete=function(){}),!t.drawing){n.next=11;break}if(r){n.next=9;break}return t.drawDelegate=function(){t.draw(i,!0)},n.abrupt("return");case 9:n.next=12;break;case 11:t.drawing=!0;case 12:if(t.canvasId){n.next=19;break}return console.error("[uQRCode]: canvasId must be set!"),t.isError=!0,t.drawing=!1,i.fail({errMsg:"[uQRCode]: canvasId must be set!"}),i.complete({errMsg:"[uQRCode]: canvasId must be set!"}),n.abrupt("return");case 19:if(t.value){n.next=26;break}return console.error("[uQRCode]: value must be set!"),t.isError=!0,t.drawing=!1,i.fail({errMsg:"[uQRCode]: value must be set!"}),i.complete({errMsg:"[uQRCode]: value must be set!"}),n.abrupt("return");case 26:t.templateOptions=t.getTemplateOptions(),t.uqrcodeOptions=t.getUqrcodeOptions(),"string"===typeof t.uqrcodeOptions.errorCorrectLevel&&(t.uqrcodeOptions.errorCorrectLevel=s.default.errorCorrectLevel[t.uqrcodeOptions.errorCorrectLevel]),"undefined"===typeof t.options.useDynamicSize&&(t.uqrcodeOptions.useDynamicSize=!0),o=l=new s.default,t.plugins.forEach((function(e){return o.register(e.plugin)})),o.setOptions(t.uqrcodeOptions),o.make(),u=null,"2d"===t.canvasType?(u=t.canvasContext=uni.createCanvasContext(t.canvasId,t),t.templateOptions.canvasWidth=o.dynamicSize,t.templateOptions.canvasHeight=o.dynamicSize,t.templateOptions.canvasTransform="scale(".concat(t.templateOptions.size/t.templateOptions.canvasWidth,", ").concat(t.templateOptions.size/t.templateOptions.canvasHeight,")"),o.loadImage=t.getLoadImage((function(e){return new Promise((function(t,n){if(e.startsWith("http"))uni.getImageInfo({src:e,success:function(e){t(e.path)},fail:function(e){n(e)}});else{if(e.startsWith("."))throw console.error("[uQRCode]: 本地图片路径仅支持绝对路径！"),new Error("[uQRCode]: local image path only supports absolute path!");t(e)}}))}))):(u=t.canvasContext=uni.createCanvasContext(t.canvasId,t),t.templateOptions.canvasWidth=o.dynamicSize,t.templateOptions.canvasHeight=o.dynamicSize,t.templateOptions.canvasTransform="scale(".concat(t.templateOptions.size/t.templateOptions.canvasWidth,", ").concat(t.templateOptions.size/t.templateOptions.canvasHeight,")"),o.loadImage=t.getLoadImage((function(e){return new Promise((function(t,n){if(e.startsWith("http"))uni.getImageInfo({src:e,success:function(e){t(e.path)},fail:function(e){n(e)}});else{if(e.startsWith("."))throw console.error("[uQRCode]: 本地图片路径仅支持绝对路径！"),new Error("[uQRCode]: local image path only supports absolute path!");t(e)}}))}))),o.canvasContext=u,setTimeout((function(){var e,n=t.plugins.find((function(e){return e.name==o.style})),r=n?n.drawCanvas:"drawCanvas";e=t.queue?function(){return c.queueDraw.exec((function(){return o[r]()}))}:function(){return o[r]()},e().then((function(){if(t.drawDelegate){var e=t.drawDelegate;t.drawDelegate=void 0,e()}else t.drawing=!1,i.success()})).catch((function(e){if(console.log(e),t.drawDelegate){var n=t.drawDelegate;t.drawDelegate=void 0,n()}else t.drawing=!1,t.isError=!0,i.fail(e)})).finally((function(){i.complete()}))}),300);case 38:case"end":return n.stop()}}),n)})))()},make:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.makeExecuted=!0,this.makeing=!0,this.isError=!1,"function"!=typeof t.success&&(t.success=function(){}),"function"!=typeof t.fail&&(t.fail=function(){}),"function"!=typeof t.complete&&(t.complete=function(){}),this.resetCanvas((function(){clearTimeout(e.makeDelegate),e.makeDelegate=setTimeout((function(){e.draw({success:function(){setTimeout((function(){t.success(),e.complete(!0)}),300)},fail:function(n){t.fail(n),e.error=n,e.complete(!1,n.errMsg)},complete:function(){t.complete(),e.makeing=!1}})}),300)}))},remake:function(e){this.$emit("change"),this.make(e)},complete:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e?this.$emit("complete",{success:e}):this.$emit("complete",{success:e,errMsg:t})},toTempFilePath:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"!=typeof t.success&&(t.success=function(){}),"function"!=typeof t.fail&&(t.fail=function(){}),"function"!=typeof t.complete&&(t.complete=function(){}),!this.makeExecuted){console.error("[uQRCode]: make() 方法从未调用！请先成功调用 make() 后再进行操作。");var n={errMsg:"[uQRCode]: make() method has never been executed! please execute make() successfully before operating."};return t.fail(n),void t.complete(n)}if(this.isError)return t.fail(this.error),void t.complete(this.error);this.makeing?this.toTempFilePathDelegate=function(){e.toTempFilePath(t)}:(this.toTempFilePathDelegate=null,"2d"===this.canvasType||uni.canvasToTempFilePath({canvasId:this.canvasId,fileType:this.fileType,width:Number(this.templateOptions.canvasWidth),height:Number(this.templateOptions.canvasHeight),destWidth:Number(this.templateOptions.size),destHeight:Number(this.templateOptions.size),success:function(e){t.success(e)},fail:function(e){t.fail(e)},complete:function(){t.complete()}},this))},save:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"function"!=typeof t.success&&(t.success=function(){}),"function"!=typeof t.fail&&(t.fail=function(){}),"function"!=typeof t.complete&&(t.complete=function(){}),this.toTempFilePath({success:function(n){if(e.isH5Save=!0,e.tempFilePath=n.tempFilePath,e.h5SaveIsDownload){var i=document.createElement("a");i.download=e.h5DownloadName,i.href=n.tempFilePath,document.body.appendChild(i),i.click(),i.remove()}t.success({errMsg:"ok"}),t.complete({errMsg:"ok"})},fail:function(e){t.fail(e),t.complete(e)}})},onClick:function(e){this.$emit("click",e)},getInstance:function(){return l},registerStyle:function(e){if("style"!=e.Type)return console.warn("[uQRCode]: registerStyle 仅支持注册 style 类型的扩展！"),{errMsg:"registerStyle 仅支持注册 style 类型的扩展！"};"function"===typeof e&&this.plugins.push({plugin:e,name:e.Name,drawCanvas:e.DrawCanvas})},getLoadImage:function(e){var t=this;return"function"==typeof e?function(n){return t.isQueueLoadImage?c.queueLoadImage.exec((function(){return new Promise((function(t,i){setTimeout((function(){var r=u.cacheImageList.find((function(e){return e.src==n}));r?t(r.img):e(n).then((function(e){u.cacheImageList.push({src:n,img:e}),t(e)})).catch((function(e){i(e)}))}),10)}))})):e(n)}:function(e){return Promise.resolve(e)}}}};function f(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var a in e=i?t:(0,r.default)({},t),n){var o=n[a];void 0!=o&&(o.constructor==Object?e[a]=this.deepReplace(e[a],o):o.constructor!=String||o?e[a]=o:e[a]=e[a])}return e}t.default=d},e270:function(e,t,n){"use strict";var i=n("f6ce"),r=n.n(i);r.a},e5aa:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var i=function(){var e=this.$createElement,t=this._self._c||e;return t("v-uni-view",[this._t("default")],2)},r=[]},e668:function(e,t,n){"use strict";function i(e,n){return t.default=i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,n)}n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,n("8a8d")},e6d5:function(e,t,n){"use strict";n("7340");var i=n("8bdb"),r=n("4f05");i({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==r},{trimStart:r})},e710:function(e,t,n){"use strict";n.r(t);var i=n("f4df"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},e87d:function(e,t,n){"use strict";(function(e){n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("64aa"),n("f7a5"),n("aa77"),n("bf0f"),n("2797"),n("5c47"),n("a1c1"),n("23f4"),n("7d2f"),n("9c4e"),n("ab80"),n("5ef2"),n("c223");var i={name:"uni-data-select",mixins:[e.mixinDatacom||{}],props:{localdata:{type:Array,default:function(){return[]}},value:{type:[String,Number],default:""},modelValue:{type:[String,Number],default:""},label:{type:String,default:""},placeholder:{type:String,default:"请选择"},emptyTips:{type:String,default:"无选项"},clear:{type:Boolean,default:!0},defItem:{type:Number,default:0},disabled:{type:Boolean,default:!1},format:{type:String,default:""},placement:{type:String,default:"bottom"}},data:function(){return{showSelector:!1,current:"",mixinDatacomResData:[],apps:[],channels:[],cacheKey:"uni-data-select-lastSelectedValue"}},created:function(){var e=this;this.debounceGet=this.debounce((function(){e.query()}),300),this.collection&&!this.localdata.length&&this.debounceGet()},computed:{typePlaceholder:function(){var e=this.placeholder,t={"opendb-stat-app-versions":"版本","opendb-app-channels":"渠道","opendb-app-list":"应用"}[this.collection];return t?e+t:e},valueCom:function(){return this.value},textShow:function(){var e=this.current;return e.length>10?e.slice(0,25)+"...":e},getOffsetByPlacement:function(){switch(this.placement){case"top":return"bottom:calc(100% + 12px);";case"bottom":return"top:calc(100% + 12px);"}}},watch:{localdata:{immediate:!0,handler:function(e,t){Array.isArray(e)&&t!==e&&(this.mixinDatacomResData=e)}},valueCom:function(e,t){this.initDefVal()},mixinDatacomResData:{immediate:!0,handler:function(e){e.length&&this.initDefVal()}}},methods:{debounce:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=null;return function(){for(var i=this,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];n&&clearTimeout(n),n=setTimeout((function(){e.apply(i,a)}),t)}},query:function(){this.mixinDatacomEasyGet()},onMixinDatacomPropsChange:function(){this.collection&&this.debounceGet()},initDefVal:function(){var e="";if(!this.valueCom&&0!==this.valueCom||this.isDisabled(this.valueCom)){var t;if(this.collection&&(t=this.getCache()),t||0===t)e=t;else{var n="";this.defItem>0&&this.defItem<=this.mixinDatacomResData.length&&(n=this.mixinDatacomResData[this.defItem-1].value),e=n}(e||0===e)&&this.emit(e)}else e=this.valueCom;var i=this.mixinDatacomResData.find((function(t){return t.value===e}));this.current=i?this.formatItemName(i):""},isDisabled:function(e){var t=!1;return this.mixinDatacomResData.forEach((function(n){n.value===e&&(t=n.disable)})),t},clearVal:function(){this.emit(""),this.collection&&this.removeCache()},change:function(e){e.disable||(this.showSelector=!1,this.current=this.formatItemName(e),this.emit(e.value))},emit:function(e){this.$emit("input",e),this.$emit("update:modelValue",e),this.$emit("change",e),this.collection&&this.setCache(e)},toggleSelector:function(){this.disabled||(this.showSelector=!this.showSelector)},formatItemName:function(e){var t=e.text,n=e.value,i=e.channel_code;if(i=i?"(".concat(i,")"):"",this.format){var r="";for(var a in r=this.format,e)r=r.replace(new RegExp("{".concat(a,"}"),"g"),e[a]);return r}return this.collection.indexOf("app-list")>0?"".concat(t,"(").concat(n,")"):t||"未命名".concat(i)},getLoadData:function(){return this.mixinDatacomResData},getCurrentCacheKey:function(){return this.collection},getCache:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getCurrentCacheKey(),t=uni.getStorageSync(this.cacheKey)||{};return t[e]},setCache:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCurrentCacheKey(),n=uni.getStorageSync(this.cacheKey)||{};n[t]=e,uni.setStorageSync(this.cacheKey,n)},removeCache:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getCurrentCacheKey(),t=uni.getStorageSync(this.cacheKey)||{};delete t[e],uni.setStorageSync(this.cacheKey,t)}}};t.default=i}).call(this,n("861b")["default"])},ebf1:function(e,t,n){var i=n("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.uni-section[data-v-f2578578]{background-color:#fff}.uni-section .uni-section-header[data-v-f2578578]{position:relative;display:flex;flex-direction:row;align-items:center;padding:12px 10px;font-weight:400}.uni-section .uni-section-header__decoration[data-v-f2578578]{margin-right:6px;background-color:#2979ff}.uni-section .uni-section-header__decoration.line[data-v-f2578578]{width:4px;height:12px;border-radius:10px}.uni-section .uni-section-header__decoration.circle[data-v-f2578578]{width:8px;height:8px;border-top-right-radius:50px;border-top-left-radius:50px;border-bottom-left-radius:50px;border-bottom-right-radius:50px}.uni-section .uni-section-header__decoration.square[data-v-f2578578]{width:8px;height:8px}.uni-section .uni-section-header__content[data-v-f2578578]{display:flex;flex-direction:column;flex:1;color:#333}.uni-section .uni-section-header__content .distraction[data-v-f2578578]{flex-direction:row;align-items:center}.uni-section .uni-section-header__content-sub[data-v-f2578578]{margin-top:2px}.uni-section .uni-section-header__slot-right[data-v-f2578578]{font-size:14px}.uni-section .uni-section-content[data-v-f2578578]{font-size:14px}',""]),e.exports=t},ec2b:function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"UniSection",emits:["click"],props:{type:{type:String,default:""},title:{type:String,required:!0,default:""},titleFontSize:{type:String,default:"14px"},titleColor:{type:String,default:"#333"},subTitle:{type:String,default:""},subTitleFontSize:{type:String,default:"12px"},subTitleColor:{type:String,default:"#999"},padding:{type:[Boolean,String],default:!1}},computed:{_padding:function(){return"string"===typeof this.padding?this.padding:this.padding?"10px":""}},watch:{title:function(e){uni.report&&""!==e&&uni.report("title",e)}},methods:{onClick:function(){this.$emit("click")}}};t.default=i},ee26:function(e,t,n){var i=n("3d94");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("967d").default;r("1e6baff4",i,!0,{sourceMap:!1,shadowMode:!1})},eee1:function(e,t,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=y;var r=i(n("2634")),a=i(n("2fdc")),o=i(n("9b1b"));function s(e){this.mode=u.MODE_8BIT_BYTE,this.data=e}function c(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=new Array}n("aa9c"),n("7a76"),n("c9b5"),n("a03a"),n("64aa"),n("bf0f"),n("2797"),n("dc8a"),n("ab80"),n("4626"),n("5ac7"),n("1851"),s.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},c.prototype={addData:function(e){var t=new s(e);this.dataList.push(t),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=g.getRSBlocks(e,this.errorCorrectLevel),n=new v,i=0,r=0;r<t.length;r++)i+=t[r].dataCount;for(r=0;r<this.dataList.length;r++){var a=this.dataList[r];n.put(a.mode,4),n.put(a.getLength(),d.getLengthInBits(a.mode,e)),a.write(n)}if(n.getLengthInBits()<=8*i)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[n][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=c.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var i=-1;i<=7;i++)t+i<=-1||this.moduleCount<=t+i||(this.modules[e+n][t+i]=0<=n&&n<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=i&&i<=4)},getBestMaskPattern:function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var i=d.getLostPoint(this);(0==n||e>i)&&(e=i,t=n)}return t},createMovieClip:function(e,t,n){var i=e.createEmptyMovieClip(t,n);this.make();for(var r=0;r<this.modules.length;r++)for(var a=1*r,o=0;o<this.modules[r].length;o++){var s=1*o;this.modules[r][o]&&(i.beginFill(0,100),i.moveTo(s,a),i.lineTo(s+1,a),i.lineTo(s+1,a+1),i.lineTo(s,a+1),i.endFill())}return i},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=d.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var i=e[t],r=e[n];if(null==this.modules[i][r])for(var a=-2;a<=2;a++)for(var o=-2;o<=2;o++)this.modules[i+a][r+o]=-2==a||2==a||-2==o||2==o||0==a&&0==o}},setupTypeNumber:function(e){for(var t=d.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var i=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(n=0;n<18;n++)i=!e&&1==(t>>n&1),this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i},setupTypeInfo:function(e,t){for(var n=this.errorCorrectLevel<<3|t,i=d.getBCHTypeInfo(n),r=0;r<15;r++){var a=!e&&1==(i>>r&1);r<6?this.modules[r][8]=a:r<8?this.modules[r+1][8]=a:this.modules[this.moduleCount-15+r][8]=a}for(r=0;r<15;r++)a=!e&&1==(i>>r&1),r<8?this.modules[8][this.moduleCount-r-1]=a:r<9?this.modules[8][15-r-1+1]=a:this.modules[8][15-r-1]=a;this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var n=-1,i=this.moduleCount-1,r=7,a=0,o=this.moduleCount-1;o>0;o-=2)for(6==o&&o--;;){for(var s=0;s<2;s++)if(null==this.modules[i][o-s]){var c=!1;a<e.length&&(c=1==(e[a]>>>r&1)),d.getMask(t,i,o-s)&&(c=!c),this.modules[i][o-s]=c,-1==--r&&(a++,r=7)}if((i+=n)<0||this.moduleCount<=i){i-=n,n=-n;break}}}},c.PAD0=236,c.PAD1=17,c.createData=function(e,t,n){for(var i=g.getRSBlocks(e,t),r=new v,a=0;a<n.length;a++){var o=n[a];r.put(o.mode,4),r.put(o.getLength(),d.getLengthInBits(o.mode,e)),o.write(r)}var s=0;for(a=0;a<i.length;a++)s+=i[a].dataCount;if(r.getLengthInBits()>8*s)throw new Error("code length overflow. ("+r.getLengthInBits()+">"+8*s+")");for(r.getLengthInBits()+4<=8*s&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(!1);for(;!(r.getLengthInBits()>=8*s||(r.put(c.PAD0,8),r.getLengthInBits()>=8*s));)r.put(c.PAD1,8);return c.createBytes(r,i)},c.createBytes=function(e,t){for(var n=0,i=0,r=0,a=new Array(t.length),o=new Array(t.length),s=0;s<t.length;s++){var c=t[s].dataCount,u=t[s].totalCount-c;i=Math.max(i,c),r=Math.max(r,u),a[s]=new Array(c);for(var l=0;l<a[s].length;l++)a[s][l]=255&e.buffer[l+n];n+=c;var f=d.getErrorCorrectPolynomial(u),h=new p(a[s],f.getLength()-1).mod(f);for(o[s]=new Array(f.getLength()-1),l=0;l<o[s].length;l++){var g=l+h.getLength()-o[s].length;o[s][l]=g>=0?h.get(g):0}}var v=0;for(l=0;l<t.length;l++)v+=t[l].totalCount;var m=new Array(v),y=0;for(l=0;l<i;l++)for(s=0;s<t.length;s++)l<a[s].length&&(m[y++]=a[s][l]);for(l=0;l<r;l++)for(s=0;s<t.length;s++)l<o[s].length&&(m[y++]=o[s][l]);return m};for(var u={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},l={L:1,M:0,Q:3,H:2},d={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;d.getBCHDigit(t)-d.getBCHDigit(d.G15)>=0;)t^=d.G15<<d.getBCHDigit(t)-d.getBCHDigit(d.G15);return(e<<10|t)^d.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;d.getBCHDigit(t)-d.getBCHDigit(d.G18)>=0;)t^=d.G18<<d.getBCHDigit(t)-d.getBCHDigit(d.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return d.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case 0:return(t+n)%2==0;case 1:return t%2==0;case 2:return n%3==0;case 3:return(t+n)%3==0;case 4:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case 5:return t*n%2+t*n%3==0;case 6:return(t*n%2+t*n%3)%2==0;case 7:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new p([1],0),n=0;n<e;n++)t=t.multiply(new p([1,f.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case u.MODE_NUMBER:return 10;case u.MODE_ALPHA_NUM:return 9;case u.MODE_8BIT_BYTE:case u.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case u.MODE_NUMBER:return 12;case u.MODE_ALPHA_NUM:return 11;case u.MODE_8BIT_BYTE:return 16;case u.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case u.MODE_NUMBER:return 14;case u.MODE_ALPHA_NUM:return 13;case u.MODE_8BIT_BYTE:return 16;case u.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,i=0;i<t;i++)for(var r=0;r<t;r++){for(var a=0,o=e.isDark(i,r),s=-1;s<=1;s++)if(!(i+s<0||t<=i+s))for(var c=-1;c<=1;c++)r+c<0||t<=r+c||0==s&&0==c||o==e.isDark(i+s,r+c)&&a++;a>5&&(n+=3+a-5)}for(i=0;i<t-1;i++)for(r=0;r<t-1;r++){var u=0;e.isDark(i,r)&&u++,e.isDark(i+1,r)&&u++,e.isDark(i,r+1)&&u++,e.isDark(i+1,r+1)&&u++,0!=u&&4!=u||(n+=3)}for(i=0;i<t;i++)for(r=0;r<t-6;r++)e.isDark(i,r)&&!e.isDark(i,r+1)&&e.isDark(i,r+2)&&e.isDark(i,r+3)&&e.isDark(i,r+4)&&!e.isDark(i,r+5)&&e.isDark(i,r+6)&&(n+=40);for(r=0;r<t;r++)for(i=0;i<t-6;i++)e.isDark(i,r)&&!e.isDark(i+1,r)&&e.isDark(i+2,r)&&e.isDark(i+3,r)&&e.isDark(i+4,r)&&!e.isDark(i+5,r)&&e.isDark(i+6,r)&&(n+=40);var l=0;for(r=0;r<t;r++)for(i=0;i<t;i++)e.isDark(i,r)&&l++;return n+Math.abs(100*l/t/t-50)/5*10}},f={glog:function(e){if(e<1)throw new Error("glog("+e+")");return f.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return f.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},h=0;h<8;h++)f.EXP_TABLE[h]=1<<h;for(h=8;h<256;h++)f.EXP_TABLE[h]=f.EXP_TABLE[h-4]^f.EXP_TABLE[h-5]^f.EXP_TABLE[h-6]^f.EXP_TABLE[h-8];for(h=0;h<255;h++)f.LOG_TABLE[f.EXP_TABLE[h]]=h;function p(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var i=0;i<e.length-n;i++)this.num[i]=e[i+n]}function g(e,t){this.totalCount=e,this.dataCount=t}function v(){this.buffer=new Array,this.length=0}function m(e){return e.setFillStyle=e.setFillStyle||function(t){e.fillStyle=t},e.setFontSize=e.setFontSize||function(t){e.font="".concat(t,"px")},e.setTextAlign=e.setTextAlign||function(t){e.textAlign=t},e.setTextBaseline=e.setTextBaseline||function(t){e.textBaseline=t},e.setGlobalAlpha=e.setGlobalAlpha||function(t){e.globalAlpha=t},e.setStrokeStyle=e.setStrokeStyle||function(t){e.strokeStyle=t},e.setShadow=e.setShadow||function(t,n,i,r){e.shadowOffsetX=t,e.shadowOffsetY=n,e.shadowBlur=i,e.shadowColor=r},e.draw=e.draw||function(e,t){t&&t()},e.clearRect=e.clearRect||function(t,n,i,r){e.draw(!1)},e}function y(e,t){var n=this,i=this.data="",r=this.size=200;this.useDynamicSize=!1,this.dynamicSize=r;var a=this.typeNumber=-1;this.errorCorrectLevel=y.errorCorrectLevel.H;var o=this.margin=0;this.areaColor="#FFFFFF",this.backgroundColor="rgba(255,255,255,0)",this.backgroundImageSrc=void 0;var s=this.backgroundImageWidth=void 0,c=this.backgroundImageHeight=void 0,u=this.backgroundImageX=void 0,l=this.backgroundImageY=void 0;this.backgroundImageAlpha=1,this.backgroundImageBorderRadius=0;var d=this.backgroundPadding=0;this.foregroundColor="#000000",this.foregroundImageSrc=void 0;var f=this.foregroundImageWidth=void 0,h=this.foregroundImageHeight=void 0,p=this.foregroundImageX=void 0,g=this.foregroundImageY=void 0,v=this.foregroundImagePadding=0;this.foregroundImageBackgroundColor="#FFFFFF";var b=this.foregroundImageBorderRadius=0,x=this.foregroundImageShadowOffsetX=0,w=this.foregroundImageShadowOffsetY=0,k=this.foregroundImageShadowBlur=0;this.foregroundImageShadowColor="#808080";var _=this.foregroundPadding=0,S=this.positionProbeBackgroundColor=void 0,I=this.positionProbeForegroundColor=void 0,C=this.separatorColor=void 0,P=this.positionAdjustBackgroundColor=void 0,T=this.positionAdjustForegroundColor=void 0,O=this.timingBackgroundColor=void 0,A=this.timingForegroundColor=void 0,M=this.typeNumberBackgroundColor=void 0,E=this.typeNumberForegroundColor=void 0,L=this.darkBlockColor=void 0;this.base=void 0,this.modules=[],this.moduleCount=0,this.drawModules=[];var D=this.canvasContext=void 0;this.loadImage,this.drawReserve=!1,this.isMaked=!1,Object.defineProperties(this,{data:{get:function(){if(""===i||void 0===i)throw console.error("[uQRCode]: data must be set!"),new y.Error("data must be set!");return i},set:function(e){i=String(e)}},size:{get:function(){return r},set:function(e){r=Number(e)}},typeNumber:{get:function(){return a},set:function(e){a=Number(e)}},margin:{get:function(){return o},set:function(e){o=Number(e)}},backgroundImageWidth:{get:function(){return void 0===s?this.dynamicSize:this.useDynamicSize?this.dynamicSize/this.size*s:s},set:function(e){s=Number(e)}},backgroundImageHeight:{get:function(){return void 0===c?this.dynamicSize:this.useDynamicSize?this.dynamicSize/this.size*c:c},set:function(e){c=Number(e)}},backgroundImageX:{get:function(){return void 0===u?0:this.useDynamicSize?this.dynamicSize/this.size*u:u},set:function(e){u=Number(e)}},backgroundImageY:{get:function(){return void 0===l?0:this.useDynamicSize?this.dynamicSize/this.size*l:l},set:function(e){l=Number(e)}},backgroundPadding:{get:function(){return d},set:function(e){d=e>1?1:e<0?0:e}},foregroundImageWidth:{get:function(){return void 0===f?(this.dynamicSize-2*this.margin)/4:this.useDynamicSize?this.dynamicSize/this.size*f:f},set:function(e){f=Number(e)}},foregroundImageHeight:{get:function(){return void 0===h?(this.dynamicSize-2*this.margin)/4:this.useDynamicSize?this.dynamicSize/this.size*h:h},set:function(e){h=Number(e)}},foregroundImageX:{get:function(){return void 0===p?this.dynamicSize/2-this.foregroundImageWidth/2:this.useDynamicSize?this.dynamicSize/this.size*p:p},set:function(e){p=Number(e)}},foregroundImageY:{get:function(){return void 0===g?this.dynamicSize/2-this.foregroundImageHeight/2:this.useDynamicSize?this.dynamicSize/this.size*g:g},set:function(e){g=Number(e)}},foregroundImagePadding:{get:function(){return this.useDynamicSize?this.dynamicSize/this.size*v:v},set:function(e){v=Number(e)}},foregroundImageBorderRadius:{get:function(){return this.useDynamicSize?this.dynamicSize/this.size*b:b},set:function(e){b=Number(e)}},foregroundImageShadowOffsetX:{get:function(){return this.useDynamicSize?this.dynamicSize/this.size*x:x},set:function(e){x=Number(e)}},foregroundImageShadowOffsetY:{get:function(){return this.useDynamicSize?this.dynamicSize/this.size*w:w},set:function(e){w=Number(e)}},foregroundImageShadowBlur:{get:function(){return this.useDynamicSize?this.dynamicSize/this.size*k:k},set:function(e){k=Number(e)}},foregroundPadding:{get:function(){return _},set:function(e){_=e>1?1:e<0?0:e}},positionProbeBackgroundColor:{get:function(){return S||this.backgroundColor},set:function(e){S=e}},positionProbeForegroundColor:{get:function(){return I||this.foregroundColor},set:function(e){I=e}},separatorColor:{get:function(){return C||this.backgroundColor},set:function(e){C=e}},positionAdjustBackgroundColor:{get:function(){return P||this.backgroundColor},set:function(e){P=e}},positionAdjustForegroundColor:{get:function(){return T||this.foregroundColor},set:function(e){T=e}},timingBackgroundColor:{get:function(){return O||this.backgroundColor},set:function(e){O=e}},timingForegroundColor:{get:function(){return A||this.foregroundColor},set:function(e){A=e}},typeNumberBackgroundColor:{get:function(){return M||this.backgroundColor},set:function(e){M=e}},typeNumberForegroundColor:{get:function(){return E||this.foregroundColor},set:function(e){E=e}},darkBlockColor:{get:function(){return L||this.foregroundColor},set:function(e){L=e}},canvasContext:{get:function(){if(void 0===D)throw console.error("[uQRCode]: use drawCanvas, you need to set the canvasContext!"),new y.Error("use drawCanvas, you need to set the canvasContext!");return D},set:function(e){D=m(e)}}}),y.plugins.forEach((function(e){return e(y,n,!1)})),e&&this.setOptions(e),t&&(this.canvasContext=m(t))}p.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<e.getLength();i++)t[n+i]^=f.gexp(f.glog(this.get(n))+f.glog(e.get(i)));return new p(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=f.glog(this.get(0))-f.glog(e.get(0)),n=new Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(i=0;i<e.getLength();i++)n[i]^=f.gexp(f.glog(e.get(i))+t);return new p(n,0).mod(e)}},g.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],g.getRSBlocks=function(e,t){var n=g.getRsBlockTable(e,t);if(null==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var i=n.length/3,r=new Array,a=0;a<i;a++)for(var o=n[3*a+0],s=n[3*a+1],c=n[3*a+2],u=0;u<o;u++)r.push(new g(s,c));return r},g.getRsBlockTable=function(e,t){switch(t){case l.L:return g.RS_BLOCK_TABLE[4*(e-1)+0];case l.M:return g.RS_BLOCK_TABLE[4*(e-1)+1];case l.Q:return g.RS_BLOCK_TABLE[4*(e-1)+2];case l.H:return g.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},v.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},c.errorCorrectLevel=l,y.errorCorrectLevel=c.errorCorrectLevel,y.Error=function(e){this.errMsg="[uQRCode]: "+e},y.plugins=[],y.use=function(e){"function"==typeof e&&y.plugins.push(e)},y.prototype.loadImage=function(e){return Promise.resolve(e)},y.prototype.setOptions=function(e){var t,n,i,r,a,s,c,u,l,d,f,h,p,g,v,m,y,b,x,w,k,_,S,I,C,P,T,O,A,M,E,L,D,R,F,B,z,N,j,q,U,W,H,V,$,K,J,Y,G,Q,X,Z,ee,te,ne,ie,re=this;e&&(Object.keys(e).forEach((function(t){re[t]=e[t]})),function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var r in e=i?t:(0,o.default)({},t),n){var a=n[r];null!=a&&(a.constructor==Object?e[r]=this.deepReplace(e[r],a):a.constructor!=String||a?e[r]=a:e[r]=e[r])}}(this,{data:e.data||e.text,size:e.size,useDynamicSize:e.useDynamicSize,typeNumber:e.typeNumber,errorCorrectLevel:e.errorCorrectLevel,margin:e.margin,areaColor:e.areaColor,backgroundColor:e.backgroundColor||(null===(t=e.background)||void 0===t?void 0:t.color),backgroundImageSrc:e.backgroundImageSrc||(null===(n=e.background)||void 0===n||null===(i=n.image)||void 0===i?void 0:i.src),backgroundImageWidth:e.backgroundImageWidth||(null===(r=e.background)||void 0===r||null===(a=r.image)||void 0===a?void 0:a.width),backgroundImageHeight:e.backgroundImageHeight||(null===(s=e.background)||void 0===s||null===(c=s.image)||void 0===c?void 0:c.height),backgroundImageX:e.backgroundImageX||(null===(u=e.background)||void 0===u||null===(l=u.image)||void 0===l?void 0:l.x),backgroundImageY:e.backgroundImageY||(null===(d=e.background)||void 0===d||null===(f=d.image)||void 0===f?void 0:f.y),backgroundImageAlpha:e.backgroundImageAlpha||(null===(h=e.background)||void 0===h||null===(p=h.image)||void 0===p?void 0:p.alpha),backgroundImageBorderRadius:e.backgroundImageBorderRadius||(null===(g=e.background)||void 0===g||null===(v=g.image)||void 0===v?void 0:v.borderRadius),backgroundPadding:e.backgroundPadding,foregroundColor:e.foregroundColor||(null===(m=e.foreground)||void 0===m?void 0:m.color),foregroundImageSrc:e.foregroundImageSrc||(null===(y=e.foreground)||void 0===y||null===(b=y.image)||void 0===b?void 0:b.src),foregroundImageWidth:e.foregroundImageWidth||(null===(x=e.foreground)||void 0===x||null===(w=x.image)||void 0===w?void 0:w.width),foregroundImageHeight:e.foregroundImageHeight||(null===(k=e.foreground)||void 0===k||null===(_=k.image)||void 0===_?void 0:_.height),foregroundImageX:e.foregroundImageX||(null===(S=e.foreground)||void 0===S||null===(I=S.image)||void 0===I?void 0:I.x),foregroundImageY:e.foregroundImageY||(null===(C=e.foreground)||void 0===C||null===(P=C.image)||void 0===P?void 0:P.y),foregroundImagePadding:e.foregroundImagePadding||(null===(T=e.foreground)||void 0===T||null===(O=T.image)||void 0===O?void 0:O.padding),foregroundImageBackgroundColor:e.foregroundImageBackgroundColor||(null===(A=e.foreground)||void 0===A||null===(M=A.image)||void 0===M?void 0:M.backgroundColor),foregroundImageBorderRadius:e.foregroundImageBorderRadius||(null===(E=e.foreground)||void 0===E||null===(L=E.image)||void 0===L?void 0:L.borderRadius),foregroundImageShadowOffsetX:e.foregroundImageShadowOffsetX||(null===(D=e.foreground)||void 0===D||null===(R=D.image)||void 0===R?void 0:R.shadowOffsetX),foregroundImageShadowOffsetY:e.foregroundImageShadowOffsetY||(null===(F=e.foreground)||void 0===F||null===(B=F.image)||void 0===B?void 0:B.shadowOffsetY),foregroundImageShadowBlur:e.foregroundImageShadowBlur||(null===(z=e.foreground)||void 0===z||null===(N=z.image)||void 0===N?void 0:N.shadowBlur),foregroundImageShadowColor:e.foregroundImageShadowColor||(null===(j=e.foreground)||void 0===j||null===(q=j.image)||void 0===q?void 0:q.shadowColor),foregroundPadding:e.foregroundPadding,positionProbeBackgroundColor:e.positionProbeBackgroundColor||(null===(U=e.positionProbe)||void 0===U?void 0:U.backgroundColor)||(null===(W=e.positionDetection)||void 0===W?void 0:W.backgroundColor),positionProbeForegroundColor:e.positionProbeForegroundColor||(null===(H=e.positionProbe)||void 0===H?void 0:H.foregroundColor)||(null===(V=e.positionDetection)||void 0===V?void 0:V.foregroundColor),separatorColor:e.separatorColor||(null===($=e.separator)||void 0===$?void 0:$.color),positionAdjustBackgroundColor:e.positionAdjustBackgroundColor||(null===(K=e.positionAdjust)||void 0===K?void 0:K.backgroundColor)||(null===(J=e.alignment)||void 0===J?void 0:J.backgroundColor),positionAdjustForegroundColor:e.positionAdjustForegroundColor||(null===(Y=e.positionAdjust)||void 0===Y?void 0:Y.foregroundColor)||(null===(G=e.alignment)||void 0===G?void 0:G.foregroundColor),timingBackgroundColor:e.timingBackgroundColor||(null===(Q=e.timing)||void 0===Q?void 0:Q.backgroundColor),timingForegroundColor:e.timingForegroundColor||(null===(X=e.timing)||void 0===X?void 0:X.foregroundColor),typeNumberBackgroundColor:e.typeNumberBackgroundColor||(null===(Z=e.typeNumber)||void 0===Z?void 0:Z.backgroundColor)||(null===(ee=e.versionInformation)||void 0===ee?void 0:ee.backgroundColor),typeNumberForegroundColor:e.typeNumberForegroundColor||(null===(te=e.typeNumber)||void 0===te?void 0:te.foregroundColor)||(null===(ne=e.versionInformation)||void 0===ne?void 0:ne.foregroundColor),darkBlockColor:e.darkBlockColor||(null===(ie=e.darkBlock)||void 0===ie?void 0:ie.color)},!0))},y.prototype.make=function(){var e=this.foregroundColor,t=this.backgroundColor,n=this.typeNumber,i=this.errorCorrectLevel,r=this.data,a=this.size,o=this.margin,s=this.useDynamicSize;if(e===t)throw console.error("[uQRCode]: foregroundColor and backgroundColor cannot be the same!"),new y.Error("foregroundColor and backgroundColor cannot be the same!");var u=new c(n,i);u.addData(function(e){e=e.toString();for(var t,n="",i=0;i<e.length;i++)(t=e.charCodeAt(i))>=1&&t<=127?n+=e.charAt(i):t>2047?(n+=String.fromCharCode(224|t>>12&15),n+=String.fromCharCode(128|t>>6&63),n+=String.fromCharCode(128|t>>0&63)):(n+=String.fromCharCode(192|t>>6&31),n+=String.fromCharCode(128|t>>0&63));return n}(r)),u.make(),this.base=u,this.typeNumber=u.typeNumber,this.modules=u.modules,this.moduleCount=u.moduleCount,this.dynamicSize=s?Math.ceil((a-2*o)/u.moduleCount)*u.moduleCount+2*o:a,function(e){var t=e.dynamicSize,n=e.margin,i=e.backgroundColor,r=e.backgroundPadding,a=e.foregroundColor,o=e.foregroundPadding,s=e.modules,c=e.moduleCount,u=(t-2*n)/c,l=u,d=0;r>0&&(d=l*r/2,l-=2*d);var f=u,h=0;o>0&&(h=f*o/2,f-=2*h);for(var p=0;p<c;p++)for(var g=0;g<c;g++){var v=g*u+n,m=p*u+n;if(s[p][g]){var y=h,b=v+h,x=m+h,w=f,k=f;s[p][g]={type:["foreground"],color:a,isBlack:!0,isDrawn:!1,destX:v,destY:m,destWidth:u,destHeight:u,x:b,y:x,width:w,height:k,paddingTop:y,paddingRight:y,paddingBottom:y,paddingLeft:y}}else y=d,b=v+d,x=m+d,w=l,k=l,s[p][g]={type:["background"],color:i,isBlack:!1,isDrawn:!1,destX:v,destY:m,destWidth:u,destHeight:u,x:b,y:x,width:w,height:k,paddingTop:y,paddingRight:y,paddingBottom:y,paddingLeft:y}}}(this),function(e){var t=e.modules,n=e.moduleCount,i=e.positionProbeBackgroundColor,r=e.positionProbeForegroundColor,a=n-7;[[0,0,1],[1,0,1],[2,0,1],[3,0,1],[4,0,1],[5,0,1],[6,0,1],[0,1,1],[1,1,0],[2,1,0],[3,1,0],[4,1,0],[5,1,0],[6,1,1],[0,2,1],[1,2,0],[2,2,1],[3,2,1],[4,2,1],[5,2,0],[6,2,1],[0,3,1],[1,3,0],[2,3,1],[3,3,1],[4,3,1],[5,3,0],[6,3,1],[0,4,1],[1,4,0],[2,4,1],[3,4,1],[4,4,1],[5,4,0],[6,4,1],[0,5,1],[1,5,0],[2,5,0],[3,5,0],[4,5,0],[5,5,0],[6,5,1],[0,6,1],[1,6,1],[2,6,1],[3,6,1],[4,6,1],[5,6,1],[6,6,1]].forEach((function(e){var n=t[e[0]][e[1]],o=t[e[0]+a][e[1]],s=t[e[0]][e[1]+a];s.type.push("positionProbe"),o.type.push("positionProbe"),n.type.push("positionProbe"),n.color=1==e[2]?r:i,o.color=1==e[2]?r:i,s.color=1==e[2]?r:i}))}(this),function(e){var t=e.modules,n=e.moduleCount,i=e.separatorColor;[[7,0],[7,1],[7,2],[7,3],[7,4],[7,5],[7,6],[7,7],[0,7],[1,7],[2,7],[3,7],[4,7],[5,7],[6,7]].forEach((function(e){var r=t[e[0]][e[1]],a=t[n-e[0]-1][e[1]],o=t[e[0]][n-e[1]-1];o.type.push("separator"),a.type.push("separator"),r.type.push("separator"),r.color=i,a.color=i,o.color=i}))}(this),function(e){var t=e.typeNumber,n=e.modules,i=e.moduleCount,r=e.foregroundColor,a=e.backgroundColor,o=e.positionAdjustForegroundColor,s=e.positionAdjustBackgroundColor,c=e.timingForegroundColor,u=e.timingBackgroundColor,l=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]][t-1];if(l)for(var d=[[-2,-2,1],[-1,-2,1],[0,-2,1],[1,-2,1],[2,-2,1],[-2,-1,1],[-1,-1,0],[0,-1,0],[1,-1,0],[2,-1,1],[-2,0,1],[-1,0,0],[0,0,1],[1,0,0],[2,0,1],[-2,1,1],[-1,1,0],[0,1,0],[1,1,0],[2,1,1],[-2,2,1],[-1,2,1],[0,2,1],[1,2,1],[2,2,1]],f=l.length,h=0;h<f;h++)for(var p=function(e){var t={x:l[h],y:l[e]},f=t.x,p=t.y;f<9&&p<9||f>i-9-1&&p<9||p>i-9-1&&f<9||d.forEach((function(e){var t=n[f+e[0]][p+e[1]];t.type.push("positionAdjust"),t.type.includes("timing")?1==e[2]?t.color=o==r?c:o:t.color=o==r&&s==a?u:s:t.color=1==e[2]?o:s}))},g=0;g<f;g++)p(g)}(this),function(e){for(var t=e.modules,n=e.moduleCount,i=e.timingForegroundColor,r=e.timingBackgroundColor,a=n-16,o=0;o<a;o++){var s=t[6][8+o],c=t[8+o][6];s.type.push("timing"),c.type.push("timing"),s.color=1&o^1?i:r,c.color=1&o^1?i:r}}(this),function(e){var t=e.modules,n=e.moduleCount,i=e.darkBlockColor,r=t[n-7-1][8];r.type.push("darkBlock"),r.color=i}(this),function(e){var t=e.typeNumber,n=e.modules,i=e.moduleCount,r=e.typeNumberBackgroundColor,a=e.typeNumberForegroundColor;if(t<7)return n;var o=[0,0,0,0,0,0,0,"000111110010010100","001000010110111100","001001101010011001","001010010011010011","001011101111110110","001100011101100010","001101100001000111","001110011000001101","001111100100101000","010000101101111000","010001010001011101","010010101000010111","010011010100110010","010100100110100110","010101011010000011","010110100011001001","010111011111101100","011000111011000100","011001000111100001","011010111110101011","011011000010001110","011100110000011010","011101001100111111","011110110101110101","011111001001010000","100000100111010101","100001011011110000","100010100010111010","100011011110011111","100100101100001011","100101010000101110","100110101001100100","100111010101000001","101000110001101001"],s=o[t]+o[t],c=[i-11,i-10,i-9];[[5,c[2]],[5,c[1]],[5,c[0]],[4,c[2]],[4,c[1]],[4,c[0]],[3,c[2]],[3,c[1]],[3,c[0]],[2,c[2]],[2,c[1]],[2,c[0]],[1,c[2]],[1,c[1]],[1,c[0]],[0,c[2]],[0,c[1]],[0,c[0]],[c[2],5],[c[1],5],[c[0],5],[c[2],4],[c[1],4],[c[0],4],[c[2],3],[c[1],3],[c[0],3],[c[2],2],[c[1],2],[c[0],2],[c[2],1],[c[1],1],[c[0],1],[c[2],0],[c[1],0],[c[0],0]].forEach((function(e,t){var i=n[e[0]][e[1]];i.type.push("typeNumber"),i.color="1"==s[t]?a:r}))}(this),this.isMaked=!0,this.drawModules=[]},y.prototype.getDrawModules=function(){if(this.drawModules&&this.drawModules.length>0)return this.drawModules;var e=this.drawModules=[],t=this.modules,n=this.moduleCount,i=this.dynamicSize,r=this.areaColor,a=this.backgroundImageSrc,o=this.backgroundImageX,s=this.backgroundImageY,c=this.backgroundImageWidth,u=this.backgroundImageHeight,l=this.backgroundImageAlpha,d=this.backgroundImageBorderRadius,f=this.foregroundImageSrc,h=this.foregroundImageX,p=this.foregroundImageY,g=this.foregroundImageWidth,v=this.foregroundImageHeight,m=this.foregroundImagePadding,y=this.foregroundImageBackgroundColor,b=this.foregroundImageBorderRadius,x=this.foregroundImageShadowOffsetX,w=this.foregroundImageShadowOffsetY,k=this.foregroundImageShadowBlur,_=this.foregroundImageShadowColor;r&&e.push({name:"area",type:"area",color:r,x:0,y:0,width:i,height:i}),a&&e.push({name:"backgroundImage",type:"image",imageSrc:a,mappingName:"backgroundImageSrc",x:o,y:s,width:c,height:u,alpha:l,borderRadius:d});for(var S=0;S<n;S++)for(var I=0;I<n;I++){var C=t[S][I];C.isDrawn||(C.type.includes("foreground")?e.push({name:"foreground",type:"tile",color:C.color,destX:C.destX,destY:C.destY,destWidth:C.destWidth,destHeight:C.destHeight,x:C.x,y:C.y,width:C.width,height:C.height,paddingTop:C.paddingTop,paddingRight:C.paddingRight,paddingBottom:C.paddingBottom,paddingLeft:C.paddingLeft,rowIndex:S,colIndex:I}):e.push({name:"background",type:"tile",color:C.color,destX:C.destX,destY:C.destY,destWidth:C.destWidth,destHeight:C.destHeight,x:C.x,y:C.y,width:C.width,height:C.height,paddingTop:C.paddingTop,paddingRight:C.paddingRight,paddingBottom:C.paddingBottom,paddingLeft:C.paddingLeft,rowIndex:S,colIndex:I}),C.isDrawn=!0)}return f&&e.push({name:"foregroundImage",type:"image",imageSrc:f,mappingName:"foregroundImageSrc",x:h,y:p,width:g,height:v,padding:m,backgroundColor:y,borderRadius:b,shadowOffsetX:x,shadowOffsetY:w,shadowBlur:k,shadowColor:_}),e},y.prototype.isBlack=function(e,t){var n=this.moduleCount;return!(0>e||0>t||e>=n||t>=n)&&this.modules[e][t].isBlack},y.prototype.drawCanvas=function(){var e=this,t=this.isMaked,n=this.canvasContext,i=(this.useDynamicSize,this.dynamicSize),o=(this.foregroundColor,this.foregroundPadding,this.backgroundColor,this.backgroundPadding,this.drawReserve);this.margin;if(!t)return console.error("[uQRCode]: please execute the make method first!"),Promise.reject(new y.Error("please execute the make method first!"));var s=this.getDrawModules(),c=function(){var t=(0,a.default)((0,r.default)().mark((function t(a,c){var u,l,d,f,h,p,g,v,m,b,x,w,k,_;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,n.clearRect(0,0,i,i),n.draw(!1),u=0;case 3:if(!(u<s.length)){t.next=48;break}l=s[u],t.t0=(n.save(),l.type),t.next="area"===t.t0?8:"tile"===t.t0?10:"image"===t.t0?13:44;break;case 8:return n.setFillStyle(l.color),n.fillRect(l.x,l.y,l.width,l.height),t.abrupt("break",44);case 10:return d=l.x,f=l.y,h=l.width,p=l.height,n.setFillStyle(l.color),n.fillRect(d,f,h,p),t.abrupt("break",44);case 13:if("backgroundImage"!==l.name){t.next=28;break}return d=Math.round(l.x),f=Math.round(l.y),h=Math.round(l.width),p=Math.round(l.height),h<2*(v=Math.round(l.borderRadius))&&(v=h/2),p<2*v&&(v=p/2),n.setGlobalAlpha(l.alpha),v>0&&(n.beginPath(),n.moveTo(d+v,f),n.arcTo(d+h,f,d+h,f+p,v),n.arcTo(d+h,f+p,d,f+p,v),n.arcTo(d,f+p,d,f,v),n.arcTo(d,f,d+h,f,v),n.closePath(),n.setStrokeStyle("rgba(0,0,0,0)"),n.stroke(),n.clip()),t.prev=16,t.next=19,e.loadImage(l.imageSrc);case 19:g=t.sent,n.drawImage(g,d,f,h,p),t.next=26;break;case 23:throw t.prev=23,t.t1=t["catch"](16),console.error("[uQRCode]: ".concat(l.mappingName," invalid!")),new y.Error("".concat(l.mappingName," invalid!"));case 26:t.next=44;break;case 28:if("foregroundImage"!==l.name){t.next=44;break}return d=Math.round(l.x),f=Math.round(l.y),h=Math.round(l.width),p=Math.round(l.height),m=Math.round(l.padding),h<2*(v=Math.round(l.borderRadius))&&(v=h/2),p<2*v&&(v=p/2),b=d-m,x=f-m,w=h+2*m,k=p+2*m,_=Math.round(w/h*v),w<2*_&&(_=w/2),k<2*_&&(_=k/2),n.save(),n.setShadow(l.shadowOffsetX,l.shadowOffsetY,l.shadowBlur,l.shadowColor),_>0?(n.beginPath(),n.moveTo(b+_,x),n.arcTo(b+w,x,b+w,x+k,_),n.arcTo(b+w,x+k,b,x+k,_),n.arcTo(b,x+k,b,x,_),n.arcTo(b,x,b+w,x,_),n.closePath(),n.setFillStyle(l.backgroundColor),n.fill()):(n.setFillStyle(l.backgroundColor),n.fillRect(b,x,w,k)),n.restore(),n.save(),_>0?(n.beginPath(),n.moveTo(b+_,x),n.arcTo(b+w,x,b+w,x+k,_),n.arcTo(b+w,x+k,b,x+k,_),n.arcTo(b,x+k,b,x,_),n.arcTo(b,x,b+w,x,_),n.closePath(),n.setFillStyle(m>0?l.backgroundColor:"rgba(0,0,0,0)"),n.fill()):(n.setFillStyle(m>0?l.backgroundColor:"rgba(0,0,0,0)"),n.fillRect(b,x,w,k)),n.restore(),v>0&&(n.beginPath(),n.moveTo(d+v,f),n.arcTo(d+h,f,d+h,f+p,v),n.arcTo(d+h,f+p,d,f+p,v),n.arcTo(d,f+p,d,f,v),n.arcTo(d,f,d+h,f,v),n.closePath(),n.setStrokeStyle("rgba(0,0,0,0)"),n.stroke(),n.clip()),t.prev=34,t.next=37,e.loadImage(l.imageSrc);case 37:g=t.sent,n.drawImage(g,d,f,h,p),t.next=44;break;case 41:throw t.prev=41,t.t2=t["catch"](34),console.error("[uQRCode]: ".concat(l.mappingName," invalid!")),new y.Error("".concat(l.mappingName," invalid!"));case 44:o&&n.draw(!0),n.restore();case 45:u++,t.next=3;break;case 48:n.draw(!0),setTimeout(a,150),t.next=56;break;case 51:if(t.prev=51,t.t3=t["catch"](0),t.t3 instanceof y.Error){t.next=55;break}throw t.t3;case 55:c(t.t3);case 56:case"end":return t.stop()}}),t,null,[[0,51],[16,23],[34,41]])})));return function(e,n){return t.apply(this,arguments)}}();return new Promise((function(e,t){c(e,t)}))},y.prototype.draw=function(){return this.drawCanvas()},y.prototype.register=function(e){e&&e(y,this,!0)}},f145:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{ref:"limepainter",staticClass:"lime-painter"},[e.canvasId&&e.size?n("v-uni-view",{style:e.styles},[e.use2dCanvas?n("v-uni-canvas",{staticClass:"lime-painter__canvas",style:e.size,attrs:{id:e.canvasId,type:"2d"}}):n("v-uni-canvas",{staticClass:"lime-painter__canvas",style:e.size,attrs:{id:e.canvasId,"canvas-id":e.canvasId,width:e.boardWidth*e.dpr,height:e.boardHeight*e.dpr,hidpi:e.hidpi}})],1):e._e(),e._t("default")],2)},r=[]},f1f8:function(e,t,n){"use strict";function i(e){return t.default=i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,n("8a8d"),n("926e")},f2de:function(e,t,n){"use strict";var i=n("cbb3"),r=n.n(i);r.a},f469:function(e,t,n){"use strict";function i(e){var t="";for(var n in e){var i=e[n];t+="".concat(n,":").concat(i,";")}return t}n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("c223"),n("64aa"),n("0c26"),n("e6d5"),n("6e12"),n("5c47"),n("a1c1");var r={name:"uni-easyinput",emits:["click","iconClick","update:modelValue","input","focus","blur","confirm","clear","eyes","change","keyboardheightchange"],model:{prop:"modelValue",event:"update:modelValue"},options:{},inject:{form:{from:"uniForm",default:null},formItem:{from:"uniFormItem",default:null}},props:{name:String,value:[Number,String],modelValue:[Number,String],type:{type:String,default:"text"},clearable:{type:Boolean,default:!0},autoHeight:{type:Boolean,default:!1},placeholder:{type:String,default:" "},placeholderStyle:String,focus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},maxlength:{type:[Number,String],default:140},confirmType:{type:String,default:"done"},clearSize:{type:[Number,String],default:24},inputBorder:{type:Boolean,default:!0},prefixIcon:{type:String,default:""},suffixIcon:{type:String,default:""},trim:{type:[Boolean,String],default:!1},cursorSpacing:{type:Number,default:0},passwordIcon:{type:Boolean,default:!0},adjustPosition:{type:Boolean,default:!0},primaryColor:{type:String,default:"#2979ff"},styles:{type:Object,default:function(){return{color:"#333",backgroundColor:"#fff",disableColor:"#F7F6F6",borderColor:"#e5e5e5"}}},errorMessage:{type:[String,Boolean],default:""}},data:function(){return{focused:!1,val:"",showMsg:"",border:!1,isFirstBorder:!1,showClearIcon:!1,showPassword:!1,focusShow:!1,localMsg:"",isEnter:!1}},computed:{isVal:function(){var e=this.val;return!(!e&&0!==e)},msg:function(){return this.localMsg||this.errorMessage},inputMaxlength:function(){return Number(this.maxlength)},boxStyle:function(){return"color:".concat(this.inputBorder&&this.msg?"#e43d33":this.styles.color,";")},inputContentClass:function(){return function(e){var t="";for(var n in e){var i=e[n];i&&(t+="".concat(n," "))}return t}({"is-input-border":this.inputBorder,"is-input-error-border":this.inputBorder&&this.msg,"is-textarea":"textarea"===this.type,"is-disabled":this.disabled,"is-focused":this.focusShow})},inputContentStyle:function(){var e=this.focusShow?this.primaryColor:this.styles.borderColor,t=this.inputBorder&&this.msg?"#dd524d":e;return i({"border-color":t||"#e5e5e5","background-color":this.disabled?this.styles.disableColor:this.styles.backgroundColor})},inputStyle:function(){var e="password"===this.type||this.clearable||this.prefixIcon?"":"10px";return i({"padding-right":e,"padding-left":this.prefixIcon?"":"10px"})}},watch:{value:function(e){this.val=e},modelValue:function(e){this.val=e},focus:function(e){var t=this;this.$nextTick((function(){t.focused=t.focus,t.focusShow=t.focus}))}},created:function(){var e=this;this.init(),this.form&&this.formItem&&this.$watch("formItem.errMsg",(function(t){e.localMsg=t}))},mounted:function(){var e=this;this.$nextTick((function(){e.focused=e.focus,e.focusShow=e.focus}))},methods:{init:function(){this.value||0===this.value?this.val=this.value:this.modelValue||0===this.modelValue||""===this.modelValue?this.val=this.modelValue:this.val=null},onClickIcon:function(e){this.$emit("iconClick",e)},onEyes:function(){this.showPassword=!this.showPassword,this.$emit("eyes",this.showPassword)},onInput:function(e){var t=e.detail.value;this.trim&&("boolean"===typeof this.trim&&this.trim&&(t=this.trimStr(t)),"string"===typeof this.trim&&(t=this.trimStr(t,this.trim))),this.errMsg&&(this.errMsg=""),this.val=t,this.$emit("input",t),this.$emit("update:modelValue",t)},onFocus:function(){var e=this;this.$nextTick((function(){e.focused=!0})),this.$emit("focus",null)},_Focus:function(e){this.focusShow=!0,this.$emit("focus",e)},onBlur:function(){this.focused=!1,this.$emit("blur",null)},_Blur:function(e){e.detail.value;if(this.focusShow=!1,this.$emit("blur",e),!1===this.isEnter&&this.$emit("change",this.val),this.form&&this.formItem){var t=this.form.validateTrigger;"blur"===t&&this.formItem.onFieldChange()}},onConfirm:function(e){var t=this;this.$emit("confirm",this.val),this.isEnter=!0,this.$emit("change",this.val),this.$nextTick((function(){t.isEnter=!1}))},onClear:function(e){this.val="",this.$emit("input",""),this.$emit("update:modelValue",""),this.$emit("clear")},onkeyboardheightchange:function(e){this.$emit("keyboardheightchange",e)},trimStr:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";return"both"===t?e.trim():"left"===t?e.trimLeft():"right"===t?e.trimRight():"start"===t?e.trimStart():"end"===t?e.trimEnd():"all"===t?e.replace(/\s+/g,""):e}}};t.default=r},f478:function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},n("7a76"),n("c9b5")},f4df:function(e,t,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("2634")),a=i(n("2fdc"));n("c223"),n("dc8a"),n("d4b5"),n("aa9c"),n("bf0f"),n("5c47"),n("7a76"),n("c9b5"),n("e966"),n("a1c1"),n("0506");var o=n("49d5"),s=i(n("3bb4")),c=n("fd9b"),u=i(n("467e")),l={name:"lime-painter",mixins:[s.default,(0,o.parent)("painter"),{}],data:function(){return{use2dCanvas:!1,canvasHeight:150,canvasWidth:null,parentWidth:0,inited:!1,progress:0,firstRender:0,done:!1,tasks:[]}},computed:{styles:function(){return"".concat(this.size).concat(this.customStyle||"",";")+(this.hidden&&"position: fixed; left: 1500rpx;")},canvasId:function(){return"l-painter".concat(this._&&this._.uid||this._uid)},size:function(){if(this.boardWidth&&this.boardHeight)return"width:".concat(this.boardWidth,"px; height: ").concat(this.boardHeight,"px;")},dpr:function(){return this.pixelRatio||uni.getSystemInfoSync().pixelRatio},boardWidth:function(){var e=this.elements&&this.elements.css||this.elements||this,t=e.width,n=void 0===t?0:t,i=(0,c.toPx)(n||this.width);return i||Math.max(i,(0,c.toPx)(this.canvasWidth))},boardHeight:function(){var e=this.elements&&this.elements.css||this.elements||this,t=e.height,n=void 0===t?0:t,i=(0,c.toPx)(n||this.height);return i||Math.max(i,(0,c.toPx)(this.canvasHeight))},hasBoard:function(){return this.board&&Object.keys(this.board).length},elements:function(){return this.hasBoard?this.board:JSON.parse(JSON.stringify(this.el))}},created:function(){this.use2dCanvas="2d"===this.type&&(0,c.canIUseCanvas2d)()&&!c.isPC},mounted:function(){var e=this;return(0,a.default)((0,r.default)().mark((function t(){return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,c.sleep)(30);case 2:return t.next=4,e.getParentWeith();case 4:e.$nextTick((function(){setTimeout((function(){e.$watch("elements",e.watchRender,{deep:!0,immediate:!0})}),30)}));case 5:case"end":return t.stop()}}),t)})))()},destroyed:function(){this.done=!1,this.inited=!1,this.firstRender=0,this.progress=0,this.painter=null,clearTimeout(this.rendertimer)},methods:{watchRender:function(e,t){var n=this;return(0,a.default)((0,r.default)().mark((function i(){return(0,r.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(e&&e.views&&(n.firstRender?n.firstRender:e.views.length)&&Object.keys(e).length&&JSON.stringify(e)!=JSON.stringify(t)){i.next=2;break}return i.abrupt("return");case 2:n.firstRender=1,n.progress=0,n.done=!1,clearTimeout(n.rendertimer),n.rendertimer=setTimeout((function(){n.render(e)}),n.beforeDelay);case 7:case"end":return i.stop()}}),i)})))()},setFilePath:function(e,t){var n=this;return(0,a.default)((0,r.default)().mark((function i(){var a,o,s,u;return(0,r.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(a=e,o=t||n,s=o.pathType,u=void 0===s?n.pathType:s,"base64"!=u||(0,c.isBase64)(e)){i.next=8;break}return i.next=5,(0,c.pathToBase64)(e);case 5:a=i.sent,i.next=12;break;case 8:if("url"!=u||!(0,c.isBase64)(e)){i.next=12;break}return i.next=11,(0,c.base64ToPath)(e);case 11:a=i.sent;case 12:return t&&t.isEmit&&n.$emit("success",a),i.abrupt("return",a);case 14:case"end":return i.stop()}}),i)})))()},getSize:function(e){var t=this;return(0,a.default)((0,r.default)().mark((function n(){var i,a,o,s;return(0,r.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=e.css||e,a=i.width,o=e.css||e,s=o.height,t.size){n.next=12;break}if(!a&&!s){n.next=10;break}return t.canvasWidth=a||t.canvasWidth,t.canvasHeight=s||t.canvasHeight,n.next=8,(0,c.sleep)(30);case 8:n.next=12;break;case 10:return n.next=12,t.getParentWeith();case 12:case"end":return n.stop()}}),n)})))()},canvasToTempFilePathSync:function(e){this.tasks.push(e),this.done&&this.runTask()},runTask:function(){while(this.tasks.length){var e=this.tasks.shift();this.canvasToTempFilePath(e)}},getParentWeith:function(){var e=this;return new Promise((function(t){uni.createSelectorQuery().in(e).select(".lime-painter").boundingClientRect().exec((function(n){var i=n[0]||{},r=i.width,a=i.height;e.parentWidth=Math.ceil(r||0),e.canvasWidth=e.parentWidth||300,e.canvasHeight=a||e.canvasHeight||150,t(n[0])}))}))},render:function(){var e=arguments,t=this;return(0,a.default)((0,r.default)().mark((function n(){var i,a,o,s,l,d,f,h,p,g,v,m,y,b;return(0,r.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=e.length>0&&void 0!==e[0]?e[0]:{},Object.keys(i).length){n.next=3;break}return n.abrupt("return",console.error("空对象"));case 3:return t.progress=0,t.done=!1,n.next=7,t.getSize(i);case 7:return n.next=9,t.getContext();case 9:if(a=n.sent,o=t.use2dCanvas,s=t.boardWidth,l=t.boardHeight,d=t.canvas,f=t.afterDelay,!o||d){n.next=13;break}return n.abrupt("return",Promise.reject(new Error("canvas 没创建")));case 13:return t.boundary={top:0,left:0,width:s,height:l},t.painter=null,t.painter||(h=i.css||i,p=h.width,g=i.css||i,g.height,!p&&t.parentWidth&&Object.assign(i,{width:t.parentWidth}),v={context:a,canvas:d,width:s,height:l,pixelRatio:t.dpr,useCORS:t.useCORS,createImage:c.getImageInfo.bind(t),performance:t.performance,listen:{onProgress:function(e){t.progress=e,t.$emit("progress",e)},onEffectFail:function(e){t.$emit("faill",e)}}},t.painter=new u.default(v)),n.prev=16,n.next=19,t.painter.source(JSON.parse(JSON.stringify(i)));case 19:return m=n.sent,y=m.width,b=m.height,t.boundary.height=t.canvasHeight=b,t.boundary.width=t.canvasWidth=y,n.next=26,(0,c.sleep)(t.sleep);case 26:return n.next=28,t.painter.render();case 28:return n.next=30,new Promise((function(e){return t.$nextTick(e)}));case 30:if(o){n.next=33;break}return n.next=33,t.canvasDraw();case 33:if(!f||!o){n.next=36;break}return n.next=36,(0,c.sleep)(f);case 36:return t.$emit("done"),t.done=!0,t.isCanvasToTempFilePath&&t.canvasToTempFilePath().then((function(e){t.$emit("success",e.tempFilePath)})).catch((function(e){t.$emit("fail",new Error(JSON.stringify(e)))})),t.runTask(),n.abrupt("return",Promise.resolve({ctx:a,draw:t.painter,node:t.node}));case 43:n.prev=43,n.t0=n["catch"](16);case 45:case"end":return n.stop()}}),n,null,[[16,43]])})))()},canvasDraw:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(n,i){return e.ctx.draw(t,(function(){return setTimeout((function(){return n()}),e.afterDelay)}))}))},getContext:function(){var e=this;return(0,a.default)((0,r.default)().mark((function t(){var n,i,a;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.canvasWidth){t.next=4;break}return e.$emit("fail","painter no size"),console.error("[lime-painter]: 给画板或父级设置尺寸"),t.abrupt("return",Promise.reject());case 4:if(!e.ctx||!e.inited){t.next=6;break}return t.abrupt("return",Promise.resolve(e.ctx));case 6:if(n=e.type,i=e.use2dCanvas,e.dpr,e.boardWidth,e.boardHeight,a=function(){return new Promise((function(t){uni.createSelectorQuery().in(e).select("#".concat(e.canvasId)).boundingClientRect().exec((function(n){if(n){var i=uni.createCanvasContext(e.canvasId,e);if(e.inited||(e.inited=!0,e.use2dCanvas=!1,e.canvas=n),!i.measureText){var r=function(e){for(var t=0,n=0;n<e.length;n++)e.charCodeAt(n)>0&&e.charCodeAt(n)<128?t++:t+=2;return t};i.measureText=function(e){var t=i.state&&i.state.fontSize||12,n=i.__font;return n&&12==t&&(t=parseInt(n.split(" ")[3],10)),t/=2,{width:r(e)*t}}}e.ctx=i,t(e.ctx)}else console.error("[lime-painter] no node")}))}))},i){t.next=10;break}return t.abrupt("return",a());case 10:return t.abrupt("return",new Promise((function(t){uni.createSelectorQuery().in(e).select("#".concat(e.canvasId)).node().exec((function(i){var r=i&&i[0]||{},a=r.node;if(a){var o=a.getContext(n);e.inited||(e.inited=!0,e.use2dCanvas=!0,e.canvas=a),e.ctx=o,t(e.ctx)}else console.error("[lime-painter]: no size")}))})));case 11:case"end":return t.stop()}}),t)})))()},canvasToTempFilePath:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(){var n=(0,a.default)((0,r.default)().mark((function n(i,o){var s,c,u,l,d,f,h,p,g,v,m;return(0,r.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(s=e.use2dCanvas,c=e.canvasId,e.dpr,u=e.fileType,l=e.quality,d=function(){var n=(0,a.default)((0,r.default)().mark((function n(a){var o,s;return(0,r.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.setFilePath(a.tempFilePath||a,t);case 3:o=n.sent,s=Object.assign(a,{tempFilePath:o}),t.success&&t.success(s),i(s),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](0),e.$emit("fail",n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}(),f=e.boundary||e,h=f.top,void 0===h?0:h,p=f.left,void 0===p?0:p,f.width,f.height,g=Object.assign({canvasId:c,id:c,fileType:u,quality:l},t,{success:d}),!s){n.next=25;break}if(g.canvas=e.canvas,n.prev=6,v=e.canvas.toDataURL("image/".concat(t.fileType||u).replace(/pg/,"peg"),t.quality||l),!/data:,/.test(v)){n.next=12;break}uni.canvasToTempFilePath(g,e),n.next=17;break;case 12:return n.next=14,e.setFilePath(v,t);case 14:m=n.sent,t.success&&t.success({tempFilePath:m}),i({tempFilePath:m});case 17:n.next=23;break;case 19:n.prev=19,n.t0=n["catch"](6),t.fail&&t.fail(n.t0),o(n.t0);case 23:n.next=26;break;case 25:uni.canvasToTempFilePath(g,e);case 26:case"end":return n.stop()}}),n,null,[[6,19]])})));return function(e,t){return n.apply(this,arguments)}}())}}};t.default=l},f555:function(e,t,n){"use strict";var i=n("85c1"),r=n("ab4a"),a=n("e4ca"),o=n("471d"),s=n("af9e"),c=i.RegExp,u=c.prototype,l=r&&s((function(){var e=!0;try{c(".","d")}catch(l){e=!1}var t={},n="",i=e?"dgimsy":"gimsy",r=function(e,i){Object.defineProperty(t,e,{get:function(){return n+=i,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in e&&(a.hasIndices="d"),a)r(o,a[o]);var s=Object.getOwnPropertyDescriptor(u,"flags").get.call(t);return s!==i||n!==i}));l&&a(u,"flags",{configurable:!0,get:o})},f661:function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("64aa"),n("bf0f"),n("2797"),n("aa9c"),n("c223"),n("5ef2");var i={name:"uploadFile",emits:["uploadFiles","choose","delFile"],props:{filesList:{type:Array,default:function(){return[]}},delIcon:{type:Boolean,default:!0},limit:{type:[Number,String],default:9},showType:{type:String,default:""},listStyles:{type:Object,default:function(){return{border:!0,dividline:!0,borderStyle:{}}}},readonly:{type:Boolean,default:!1}},computed:{list:function(){var e=[];return this.filesList.forEach((function(t){e.push(t)})),e},styles:function(){return Object.assign({border:!0,dividline:!0,"border-style":{}},this.listStyles)},borderStyle:function(){var e=this.styles,t=e.borderStyle,n=e.border,i={};if(n){var r=t&&t.width||1;r=this.value2px(r);var a=t&&t.radius||5;a=this.value2px(a),i={"border-width":r,"border-style":t&&t.style||"solid","border-color":t&&t.color||"#eee","border-radius":a}}else i.border="none";var o="";for(var s in i)o+="".concat(s,":").concat(i[s],";");return o},borderLineStyle:function(){var e={},t=this.styles.borderStyle;if(t&&t.color&&(e["border-color"]=t.color),t&&t.width){var n=t&&t.width||1,i=t&&t.style||0;"number"===typeof n?n+="px":n=n.indexOf("px")?n:n+"px",e["border-width"]=n,"number"===typeof i?i+="px":i=i.indexOf("px")?i:i+"px",e["border-top-style"]=i}var r="";for(var a in e)r+="".concat(a,":").concat(e[a],";");return r}},methods:{uploadFiles:function(e,t){this.$emit("uploadFiles",{item:e,index:t})},choose:function(){this.$emit("choose")},delFile:function(e){this.$emit("delFile",e)},value2px:function(e){return"number"===typeof e?e+="px":e=-1!==e.indexOf("px")?e:e+"px",e}}};t.default=i},f6ce:function(e,t,n){var i=n("2807");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("967d").default;r("79355aff",i,!0,{sourceMap:!1,shadowMode:!1})},f81a:function(e,t,n){var i=n("bdbb").default;n("5c47"),n("2c10"),n("5ef2"),n("aa9c"),n("a1c1"),n("d4b5"),function(t,n){e.exports=function(e,t){if(!e)return void console.warn("can't use weixin-js-sdk in server side");var n,i,r,a,o,s,c,u,l,d,f,h,p,g,v,m,y,b,x,w,k,_;return e.jWeixin?e.jWeixin:(n={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest",openEnterpriseRedPacket:"getRecevieBizHongBaoRequest",startSearchBeacons:"startMonitoringBeacons",stopSearchBeacons:"stopMonitoringBeacons",onSearchBeacons:"onBeaconsInRange",consumeAndShareCard:"consumedShareCard",openAddress:"editAddress"},i=function(){var e,t={};for(e in n)t[n[e]]=e;return t}(),r=e.document,a=r.title,o=navigator.userAgent.toLowerCase(),h=navigator.platform.toLowerCase(),s=!(!h.match("mac")&&!h.match("win")),c=-1!=o.indexOf("wxdebugger"),u=-1!=o.indexOf("micromessenger"),l=-1!=o.indexOf("android"),d=-1!=o.indexOf("iphone")||-1!=o.indexOf("ipad"),f=(h=o.match(/micromessenger\/(\d+\.\d+\.\d+)/)||o.match(/micromessenger\/(\d+\.\d+)/))?h[1]:"",p={initStartTime:E(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},g={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:d?1:l?2:-1,clientVersion:f,url:encodeURIComponent(location.href)},v={},m={_completes:[]},y={state:0,data:{}},L((function(){p.initEndTime=E()})),b=!1,x=[],w={config:function(t){A("config",v=t);var i=!1!==v.check;L((function(){if(i)S(n.config,{verifyJsApiList:O(v.jsApiList),verifyOpenTagList:O(v.openTagList)},(m._complete=function(e){p.preVerifyEndTime=E(),y.state=1,y.data=e},m.success=function(e){g.isPreVerifyOk=0},m.fail=function(e){m._fail?m._fail(e):y.state=-1},(a=m._completes).push((function(){M()})),m.complete=function(e){for(var t=0,n=a.length;t<n;++t)a[t]();m._completes=[]},m)),p.preVerifyStartTime=E();else{y.state=1;for(var e=m._completes,t=0,r=e.length;t<r;++t)e[t]();m._completes=[]}var a})),w.invoke||(w.invoke=function(t,n,i){e.WeixinJSBridge&&WeixinJSBridge.invoke(t,C(n),i)},w.on=function(t,n){e.WeixinJSBridge&&WeixinJSBridge.on(t,n)})},ready:function(e){(0!=y.state||(m._completes.push(e),!u&&v.debug))&&e()},error:function(e){f<"6.0.2"||(-1==y.state?e(y.data):m._fail=e)},checkJsApi:function(e){S("checkJsApi",{jsApiList:O(e.jsApiList)},(e._complete=function(e){l&&(n=e.checkResult)&&(e.checkResult=JSON.parse(n));var t,n=e,r=n.checkResult;for(t in r){var a=i[t];a&&(r[a]=r[t],delete r[t])}},e))},onMenuShareTimeline:function(e){I(n.onMenuShareTimeline,{complete:function(){S("shareTimeline",{title:e.title||a,desc:e.title||a,img_url:e.imgUrl||"",link:e.link||location.href,type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareAppMessage:function(e){I(n.onMenuShareAppMessage,{complete:function(t){"favorite"===t.scene?S("sendAppMessage",{title:e.title||a,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""}):S("sendAppMessage",{title:e.title||a,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareQQ:function(e){I(n.onMenuShareQQ,{complete:function(){S("shareQQ",{title:e.title||a,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareWeibo:function(e){I(n.onMenuShareWeibo,{complete:function(){S("shareWeiboApp",{title:e.title||a,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareQZone:function(e){I(n.onMenuShareQZone,{complete:function(){S("shareQZone",{title:e.title||a,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},updateTimelineShareData:function(e){S("updateTimelineShareData",{title:e.title,link:e.link,imgUrl:e.imgUrl},e)},updateAppMessageShareData:function(e){S("updateAppMessageShareData",{title:e.title,desc:e.desc,link:e.link,imgUrl:e.imgUrl},e)},startRecord:function(e){S("startRecord",{},e)},stopRecord:function(e){S("stopRecord",{},e)},onVoiceRecordEnd:function(e){I("onVoiceRecordEnd",e)},playVoice:function(e){S("playVoice",{localId:e.localId},e)},pauseVoice:function(e){S("pauseVoice",{localId:e.localId},e)},stopVoice:function(e){S("stopVoice",{localId:e.localId},e)},onVoicePlayEnd:function(e){I("onVoicePlayEnd",e)},uploadVoice:function(e){S("uploadVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadVoice:function(e){S("downloadVoice",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},translateVoice:function(e){S("translateVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},chooseImage:function(e){S("chooseImage",{scene:"1|2",count:e.count||9,sizeType:e.sizeType||["original","compressed"],sourceType:e.sourceType||["album","camera"]},(e._complete=function(e){if(l){var t=e.localIds;try{t&&(e.localIds=JSON.parse(t))}catch(e){}}},e))},getLocation:function(e){e=e||{},S(n.getLocation,{type:e.type||"wgs84"},(e._complete=function(e){delete e.type},e))},previewImage:function(e){S(n.previewImage,{current:e.current,urls:e.urls},e)},uploadImage:function(e){S("uploadImage",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadImage:function(e){S("downloadImage",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},getLocalImgData:function(e){!1===b?(b=!0,S("getLocalImgData",{localId:e.localId},(e._complete=function(e){var t;b=!1,0<x.length&&(t=x.shift(),wx.getLocalImgData(t))},e))):x.push(e)},getNetworkType:function(e){S("getNetworkType",{},(e._complete=function(e){var t=e,n=(e=t.errMsg,t.errMsg="getNetworkType:ok",t.subtype);if(delete t.subtype,n)t.networkType=n;else{n=e.indexOf(":");var i=e.substring(n+1);switch(i){case"wifi":case"edge":case"wwan":t.networkType=i;break;default:t.errMsg="getNetworkType:fail"}}},e))},openLocation:function(e){S("openLocation",{latitude:e.latitude,longitude:e.longitude,name:e.name||"",address:e.address||"",scale:e.scale||28,infoUrl:e.infoUrl||""},e)},hideOptionMenu:function(e){S("hideOptionMenu",{},e)},showOptionMenu:function(e){S("showOptionMenu",{},e)},closeWindow:function(e){S("closeWindow",{},e=e||{})},hideMenuItems:function(e){S("hideMenuItems",{menuList:e.menuList},e)},showMenuItems:function(e){S("showMenuItems",{menuList:e.menuList},e)},hideAllNonBaseMenuItem:function(e){S("hideAllNonBaseMenuItem",{},e)},showAllNonBaseMenuItem:function(e){S("showAllNonBaseMenuItem",{},e)},scanQRCode:function(e){S("scanQRCode",{needResult:(e=e||{}).needResult||0,scanType:e.scanType||["qrCode","barCode"]},(e._complete=function(e){var t;d&&(t=e.resultStr)&&(t=JSON.parse(t),e.resultStr=t&&t.scan_code&&t.scan_code.scan_result)},e))},openAddress:function(e){S(n.openAddress,{},(e._complete=function(e){(e=e).postalCode=e.addressPostalCode,delete e.addressPostalCode,e.provinceName=e.proviceFirstStageName,delete e.proviceFirstStageName,e.cityName=e.addressCitySecondStageName,delete e.addressCitySecondStageName,e.countryName=e.addressCountiesThirdStageName,delete e.addressCountiesThirdStageName,e.detailInfo=e.addressDetailInfo,delete e.addressDetailInfo},e))},openProductSpecificView:function(e){S(n.openProductSpecificView,{pid:e.productId,view_type:e.viewType||0,ext_info:e.extInfo},e)},addCard:function(e){for(var t=e.cardList,i=[],r=0,a=t.length;r<a;++r){var o=t[r];o={card_id:o.cardId,card_ext:o.cardExt};i.push(o)}S(n.addCard,{card_list:i},(e._complete=function(e){if(t=e.card_list){for(var t,n=0,i=(t=JSON.parse(t)).length;n<i;++n){var r=t[n];r.cardId=r.card_id,r.cardExt=r.card_ext,r.isSuccess=!!r.is_succ,delete r.card_id,delete r.card_ext,delete r.is_succ}e.cardList=t,delete e.card_list}},e))},chooseCard:function(e){S("chooseCard",{app_id:v.appId,location_id:e.shopId||"",sign_type:e.signType||"SHA1",card_id:e.cardId||"",card_type:e.cardType||"",card_sign:e.cardSign,time_stamp:e.timestamp+"",nonce_str:e.nonceStr},(e._complete=function(e){e.cardList=e.choose_card_info,delete e.choose_card_info},e))},openCard:function(e){for(var t=e.cardList,i=[],r=0,a=t.length;r<a;++r){var o=t[r];o={card_id:o.cardId,code:o.code};i.push(o)}S(n.openCard,{card_list:i},e)},consumeAndShareCard:function(e){S(n.consumeAndShareCard,{consumedCardId:e.cardId,consumedCode:e.code},e)},chooseWXPay:function(e){S(n.chooseWXPay,P(e),e),M({jsApiName:"chooseWXPay"})},openEnterpriseRedPacket:function(e){S(n.openEnterpriseRedPacket,P(e),e)},startSearchBeacons:function(e){S(n.startSearchBeacons,{ticket:e.ticket},e)},stopSearchBeacons:function(e){S(n.stopSearchBeacons,{},e)},onSearchBeacons:function(e){I(n.onSearchBeacons,e)},openEnterpriseChat:function(e){S("openEnterpriseChat",{useridlist:e.userIds,chatname:e.groupName},e)},launchMiniProgram:function(e){S("launchMiniProgram",{targetAppId:e.targetAppId,path:function(e){var t;if("string"==typeof e&&0<e.length)return t=e.split("?")[0],t+=".html",void 0!==(e=e.split("?")[1])?t+"?"+e:t}(e.path),envVersion:e.envVersion},e)},openBusinessView:function(e){S("openBusinessView",{businessType:e.businessType,queryString:e.queryString||"",envVersion:e.envVersion},(e._complete=function(e){if(l){var t=e.extraData;if(t)try{e.extraData=JSON.parse(t)}catch(t){e.extraData={}}}},e))},miniProgram:{navigateBack:function(e){e=e||{},L((function(){S("invokeMiniProgramAPI",{name:"navigateBack",arg:{delta:e.delta||1}},e)}))},navigateTo:function(e){L((function(){S("invokeMiniProgramAPI",{name:"navigateTo",arg:{url:e.url}},e)}))},redirectTo:function(e){L((function(){S("invokeMiniProgramAPI",{name:"redirectTo",arg:{url:e.url}},e)}))},switchTab:function(e){L((function(){S("invokeMiniProgramAPI",{name:"switchTab",arg:{url:e.url}},e)}))},reLaunch:function(e){L((function(){S("invokeMiniProgramAPI",{name:"reLaunch",arg:{url:e.url}},e)}))},postMessage:function(e){L((function(){S("invokeMiniProgramAPI",{name:"postMessage",arg:e.data||{}},e)}))},getEnv:function(t){L((function(){t({miniprogram:"miniprogram"===e.__wxjs_environment})}))}}},k=1,_={},r.addEventListener("error",(function(e){var t,n,i;l||(i=(t=e.target).tagName,n=t.src,"IMG"!=i&&"VIDEO"!=i&&"AUDIO"!=i&&"SOURCE"!=i)||-1!=n.indexOf("wxlocalresource://")&&(e.preventDefault(),e.stopPropagation(),(i=t["wx-id"])||(i=k++,t["wx-id"]=i),_[i]||(_[i]=!0,wx.ready((function(){wx.getLocalImgData({localId:n,success:function(e){t.src=e.localData}})}))))}),!0),r.addEventListener("load",(function(e){var t;l||(t=(e=e.target).tagName,e.src,"IMG"!=t&&"VIDEO"!=t&&"AUDIO"!=t&&"SOURCE"!=t)||(t=e["wx-id"])&&(_[t]=!1)}),!0),t&&(e.wx=e.jWeixin=w),w);function S(t,n,i){e.WeixinJSBridge?WeixinJSBridge.invoke(t,C(n),(function(e){T(t,e,i)})):A(t,i)}function I(t,n,i){e.WeixinJSBridge?WeixinJSBridge.on(t,(function(e){i&&i.trigger&&i.trigger(e),T(t,e,n)})):A(t,i||n)}function C(e){return(e=e||{}).appId=v.appId,e.verifyAppId=v.appId,e.verifySignType="sha1",e.verifyTimestamp=v.timestamp+"",e.verifyNonceStr=v.nonceStr,e.verifySignature=v.signature,e}function P(e){return{timeStamp:e.timestamp+"",nonceStr:e.nonceStr,package:e.package,paySign:e.paySign,signType:e.signType||"SHA1"}}function T(e,t,n){"openEnterpriseChat"!=e&&"openBusinessView"!==e||(t.errCode=t.err_code),delete t.err_code,delete t.err_desc,delete t.err_detail;var r=t.errMsg;r||(r=t.err_msg,delete t.err_msg,r=function(e,t){var n,r=i[e];return r&&(e=r),r="ok",t&&(n=t.indexOf(":"),"access denied"!=(r=(r=(r=-1!=(r=-1!=(r="failed"==(r="confirm"==(r=t.substring(n+1))?"ok":r)?"fail":r).indexOf("failed_")?r.substring(7):r).indexOf("fail_")?r.substring(5):r).replace(/_/g," ")).toLowerCase())&&"no permission to execute"!=r||(r="permission denied"),""==(r="config"==e&&"function not exist"==r?"ok":r))&&(r="fail"),e+":"+r}(e,r),t.errMsg=r),(n=n||{})._complete&&(n._complete(t),delete n._complete),r=t.errMsg||"",v.debug&&!n.isInnerInvoke&&alert(JSON.stringify(t)),e=r.indexOf(":");switch(r.substring(e+1)){case"ok":n.success&&n.success(t);break;case"cancel":n.cancel&&n.cancel(t);break;default:n.fail&&n.fail(t)}n.complete&&n.complete(t)}function O(e){if(e){for(var t=0,i=e.length;t<i;++t){var r=e[t];r=n[r];r&&(e[t]=r)}return e}}function A(e,t){var n;!v.debug||t&&t.isInnerInvoke||((n=i[e])&&(e=n),t&&t._complete&&delete t._complete,console.log('"'+e+'",',t||""))}function M(e){var t;s||c||v.debug||f<"6.0.2"||g.systemType<0||(t=new Image,g.appId=v.appId,g.initTime=p.initEndTime-p.initStartTime,g.preVerifyTime=p.preVerifyEndTime-p.preVerifyStartTime,w.getNetworkType({isInnerInvoke:!0,success:function(n){g.networkType=n.networkType,n="https://open.weixin.qq.com/sdk/report?v="+g.version+"&o="+g.isPreVerifyOk+"&s="+g.systemType+"&c="+g.clientVersion+"&a="+g.appId+"&n="+g.networkType+"&i="+g.initTime+"&p="+g.preVerifyTime+"&u="+g.url+"&jsapi_name="+(e?e.jsApiName:""),t.src=n}}))}function E(){return(new Date).getTime()}function L(t){u&&(e.WeixinJSBridge?t():r.addEventListener&&r.addEventListener("WeixinJSBridgeReady",t,!1))}}(t)}("object"===("undefined"===typeof window?"undefined":i(window))&&window)},f8c7:function(e,t,n){e.exports=n.p+"static/game_cps/home_bg_header@2x.png"},f936:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var i=function(){var e=this.$createElement,t=this._self._c||e;return t("div")},r=[]},fa34:function(e,t,n){"use strict";n.r(t);var i=n("5a55"),r=n("ffd9");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("2e67");var o=n("828b"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"fdd9c65c",null,!1,i["a"],void 0);t["default"]=s.exports},faeb:function(e,t,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.get_files_and_is_max=t.get_file_info=t.get_file_ext=t.get_file_data=t.get_extname=void 0;var r=i(n("2634")),a=i(n("2fdc"));n("20f3"),n("5c47"),n("a1c1"),n("bf0f"),n("2797"),n("5ef2"),n("aa9c"),n("c223");var o=function(e){var t=e.lastIndexOf("."),n=e.length;return{name:e.substring(0,t),ext:e.substring(t+1,n)}};t.get_file_ext=o;t.get_extname=function(e){if(Array.isArray(e))return e;var t=e.replace(/(\[|\])/g,"");return t.split(",")};t.get_files_and_is_max=function(e,t){var n=[],i=[];return t&&0!==t.length?(e.tempFiles.forEach((function(e){var r=o(e.name),a=r.ext.toLowerCase();-1!==t.indexOf(a)&&(i.push(e),n.push(e.path))})),i.length!==e.tempFiles.length&&uni.showToast({title:"当前选择了".concat(e.tempFiles.length,"个文件 ，").concat(e.tempFiles.length-i.length," 个文件格式不正确"),icon:"none",duration:5e3}),{filePaths:n,files:i}):{filePaths:n,files:i}};var s=function(e){return new Promise((function(t,n){uni.getImageInfo({src:e,success:function(e){t(e)},fail:function(e){n(e)}})}))};t.get_file_info=s;var c=function(){var e=(0,a.default)((0,r.default)().mark((function e(t){var n,i,a,c,u,l=arguments;return(0,r.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:"image",i=o(t.name),a=i.ext.toLowerCase(),c={name:t.name,uuid:t.uuid,extname:a||"",cloudPath:t.cloudPath,fileType:t.fileType,thumbTempFilePath:t.thumbTempFilePath,url:t.path||t.path,size:t.size,image:{},path:t.path,video:{}},"image"!==n){e.next=14;break}return e.next=7,s(t.path);case 7:u=e.sent,delete c.video,c.image.width=u.width,c.image.height=u.height,c.image.location=u.path,e.next=15;break;case 14:delete c.image;case 15:return e.abrupt("return",c);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.get_file_data=c},fc5f:function(e,t,n){"use strict";n.r(t);var i=n("4427"),r=n("2180");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("f2de");var o=n("828b"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"0cb8aba9",null,!1,i["a"],void 0);t["default"]=s.exports},fd9b:function(e,t,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.base64ToPath=function(e){var t=/^data:image\/(\w+);base64,/.exec(e)||[],n=(0,s.default)(t,2);n[1];return new Promise((function(t,n){for(var i=e.split(",")[0].split(":")[1].split(";")[0],r=atob(e.split(",")[1]),a=new ArrayBuffer(r.length),o=new Uint8Array(a),s=0;s<r.length;s++)o[s]=r.charCodeAt(s);t(URL.createObjectURL(new Blob([o],{type:i})))}))},t.canIUseCanvas2d=function(){return!1},t.compareVersion=h,t.getImageInfo=function(e,t){var n=this,i=this&&this.canvas&&this.canvas.createImage;return new Promise(function(){var s=(0,o.default)((0,r.default)().mark((function o(s,c){var u,f;return(0,r.default)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(u=e.replace(/^@\//,"/"),!d[e]||!d[e].errMsg){r.next=5;break}s(d[e]),r.next=22;break;case 5:if(r.prev=5,!t){r.next=10;break}return r.next=9,p(e);case 9:u=r.sent;case 10:r.next=15;break;case 12:r.prev=12,r.t0=r["catch"](5),c((0,a.default)((0,a.default)({},r.t0),{},{src:u}));case 15:if(!i||l){r.next=21;break}return f=n.canvas.createImage(),f.onload=function(){var t={path:f,width:f.width,height:f.height};d[e]=t,s(d[e])},f.onerror=function(t){c({err:t,path:e})},f.src=u,r.abrupt("return");case 21:uni.getImageInfo({src:u,success:function(t){if(i){var r=n.canvas.createImage();return r.onload=function(){t.path=r,d[e]=t,s(d[e])},r.onerror=function(t){c({err:t,path:e})},void(r.src=u)}d[e]=t,s(d[e])},fail:function(t){console.error({err:t,path:e}),c({err:t,path:e})}});case 22:case"end":return r.stop()}}),o,null,[[5,12]])})));return function(e,t){return s.apply(this,arguments)}}())},t.isBase64=void 0,t.isNumber=f,t.networkReg=t.isPC=void 0,t.pathToBase64=p,t.sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))},t.toPx=function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("number"===typeof t)return t;if(f(t))return 1*t;if("string"===typeof t){var r=/^-?([0-9]+)?([.]{1}[0-9]+){0,1}(em|rpx|px|%)$/g,a=r.exec(t);if(!t||!a)return 0;var o=a[3];t=parseFloat(t);var s=0;return"rpx"===o?s=uni.upx2px(t):"px"===o?s=1*t:"%"===o?s=t*e(n)/100:"em"===o&&(s=t*e(n||14)),i?1*s.toFixed(2):Math.round(s)}return 0};var r=i(n("2634")),a=i(n("9b1b")),o=i(n("2fdc")),s=i(n("5de6"));n("5c47"),n("0506"),n("bf0f"),n("e838"),n("aa9c"),n("e966"),n("c9b5"),n("15d1"),n("d5c6"),n("5a56"),n("f074"),n("80e3"),n("4db2"),n("c976"),n("4d8f"),n("7b97"),n("668a"),n("c5b7"),n("8ff5"),n("2378"),n("641a"),n("64e0"),n("cce3"),n("efba"),n("d009"),n("bd7d"),n("7edd"),n("d798"),n("f547"),n("5e54"),n("b60a"),n("8c18"),n("12973"),n("f991"),n("198e"),n("8557"),n("63b1"),n("1954"),n("1cf1"),n("18f7"),n("de6c"),n("dc89"),n("2425"),n("a1c1");t.networkReg=/^(http|\/\/)/;t.isBase64=function(e){return/^data:image\/(\w+);base64/.test(e)};var c=uni.getSystemInfoSync(),u=c.platform,l=(c.SDKVersion,/windows|mac/.test(u));t.isPC=l;var d={};function f(e){return/^-?\d+(\.\d+)?$/.test(e)}function h(e,t){e=e.split("."),t=t.split(".");var n=Math.max(e.length,t.length);while(e.length<n)e.push("0");while(t.length<n)t.push("0");for(var i=0;i<n;i++){var r=parseInt(e[i],10),a=parseInt(t[i],10);if(r>a)return 1;if(r<a)return-1}return 0}function p(e){return/^data:/.test(e)?e:new Promise((function(t,n){var i=new Image;i.setAttribute("crossOrigin","Anonymous"),i.onload=function(){var e=document.createElement("canvas");e.width=this.naturalWidth,e.height=this.naturalHeight,e.getContext("2d").drawImage(i,0,0);var n=e.toDataURL("image/png");t(n),e.height=e.width=0},i.src=e+"?v="+Math.random(),i.onerror=function(e){n(e)}}))}},ffd9:function(e,t,n){"use strict";n.r(t);var i=n("e87d"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a}}]);