(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/subpages/goodsList/goodsList"],{"0898":function(e,n,t){"use strict";(function(e,n){var o=t("47a9");t("cf4c");o(t("3240"));var i=o(t("1087"));e.__webpack_require_UNI_MP_PLUGIN__=t,n(i.default)}).call(this,t("3223")["default"],t("df3c")["createPage"])},1087:function(e,n,t){"use strict";t.r(n);var o=t("874e"),i=t("b9ae");for(var a in i)["default"].indexOf(a)<0&&function(e){t.d(n,e,(function(){return i[e]}))}(a);t("3381");var c=t("828b"),u=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"84ba3532",null,!1,o["a"],void 0);n["default"]=u.exports},3381:function(e,n,t){"use strict";var o=t("56c3"),i=t.n(o);i.a},"56c3":function(e,n,t){},"874e":function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return a})),t.d(n,"a",(function(){return o}));var o={uniNoticeBar:function(){return t.e("node-modules/@dcloudio/uni-ui/lib/uni-notice-bar/uni-notice-bar").then(t.bind(null,"482c"))},uniTable:function(){return t.e("node-modules/@dcloudio/uni-ui/lib/uni-table/uni-table").then(t.bind(null,"05ff"))},uniTr:function(){return t.e("node-modules/@dcloudio/uni-ui/lib/uni-tr/uni-tr").then(t.bind(null,"4bb4"))},uniTh:function(){return t.e("node-modules/@dcloudio/uni-ui/lib/uni-th/uni-th").then(t.bind(null,"72b5"))},uniTd:function(){return t.e("node-modules/@dcloudio/uni-ui/lib/uni-td/uni-td").then(t.bind(null,"db59"))},uniPopup:function(){return t.e("node-modules/@dcloudio/uni-ui/lib/uni-popup/uni-popup").then(t.bind(null,"947e"))},uniPopupDialog:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/@dcloudio/uni-ui/lib/uni-popup-dialog/uni-popup-dialog")]).then(t.bind(null,"08c8"))},lPainter:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/lime-painter/components/l-painter/l-painter")]).then(t.bind(null,"e841"))},lPainterImage:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/lime-painter/components/l-painter-image/l-painter-image")]).then(t.bind(null,"8c90"))},lPainterView:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/lime-painter/components/l-painter-view/l-painter-view")]).then(t.bind(null,"12d4"))},lPainterText:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/lime-painter/components/l-painter-text/l-painter-text")]).then(t.bind(null,"d737"))}},i=function(){var e=this,n=e.$createElement,t=(e._self._c,e.__map(e.lists,(function(n,t){var o=e.__get_orig(n),i=e._f("parseTime")(n.createTime,"{y}-{m}-{d}");return{$orig:o,f0:i}})));e.$mp.data=Object.assign({},{$root:{l0:t}})},a=[]},"933f":function(e,n,t){"use strict";(function(e,o){var i=t("47a9");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(t("7ca3")),c=t("8f59"),u=i(t("a84f")),l=t("2378");function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}var s={data:function(){return{img:"",info:{},infoNew:{},notice:{},lists:[],detail2:{},detail:{},activeNumber:null,imgs:1,type:1,url:"",account:"",isChoose:!0}},filters:{parseTime:l.parseTime},components:{myProcess:function(){t.e("pages/subpages/common/myProcess").then(function(){return resolve(t("733c"))}.bind(null,t)).catch(t.oe)},LPainterText:function(){Promise.all([t.e("common/vendor"),t.e("uni_modules/lime-painter/components/l-painter-text/l-painter-text")]).then(function(){return resolve(t("d737"))}.bind(null,t)).catch(t.oe)},LPainterView:function(){Promise.all([t.e("common/vendor"),t.e("uni_modules/lime-painter/components/l-painter-view/l-painter-view")]).then(function(){return resolve(t("12d4"))}.bind(null,t)).catch(t.oe)},LPainterImage:function(){Promise.all([t.e("common/vendor"),t.e("uni_modules/lime-painter/components/l-painter-image/l-painter-image")]).then(function(){return resolve(t("8c90"))}.bind(null,t)).catch(t.oe)},LPainterQrcode:function(){Promise.all([t.e("common/vendor"),t.e("uni_modules/lime-painter/components/l-painter-qrcode/l-painter-qrcode")]).then(function(){return resolve(t("6a06"))}.bind(null,t)).catch(t.oe)},LPainter:function(){Promise.all([t.e("common/vendor"),t.e("uni_modules/lime-painter/components/l-painter/l-painter")]).then(function(){return resolve(t("e841"))}.bind(null,t)).catch(t.oe)},uQrcode:function(){Promise.all([t.e("common/vendor"),t.e("uni_modules/Sansnn-uQRCode/components/u-qrcode/u-qrcode")]).then(function(){return resolve(t("0c2c"))}.bind(null,t)).catch(t.oe)}},computed:function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){(0,a.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},(0,c.mapState)({config:function(e){return e.user.config}})),onShareAppMessage:function(e){return"button"===e.from&&console.log(e.target),{title:"月荔游戏",path:"/pages/index/index?code=".concat(this.info.refereeCode),imageUrl:"https://image.wyntf.cn/wl/zhu/shike.png"}},onShow:function(){var n=this;e.showShareMenu({withShareTicket:!0,menus:["shareAppMessage"]}),this.img=__wxConfig.accountInfo.icon,u.default.notice(2).then((function(e){200==e.code&&(n.notice=e.rows[0])})),u.default.userInfo().then((function(e){200==e.code&&(n.info=e.data)}));var t={userSource:1};u.default.statistics({params:t}).then((function(e){200==e.code&&(n.detail=e.data)}));var o={userSource:2};u.default.statistics({params:o}).then((function(e){200==e.code&&(n.detail2=e.data)})),u.default.getToUserIdList(1).then((function(e){200==e.code&&(n.lists=e.rows)})),u.default.getData(null).then((function(e){200==e.code&&(n.activeNumber=e.data.activeNumber?e.data.activeNumber:0)}))},methods:{choose:function(e){this.isChoose=e},openHai:function(){var e=this;u.default.userInfo().then((function(n){200==n.code&&(e.infoNew=n.data,e.$refs.alertDialoghaibao.open())}))},saveClick:function(){console.log("saveClick"),this.$refs.painter.canvasToTempFilePathSync({fileType:"jpg",pathType:"url",quality:.9,success:function(e){console.log(e.tempFilePath),o.saveImageToPhotosAlbum({filePath:e.tempFilePath,success:function(){o.showToast({title:"图片已保存"})},fail:function(){o.showToast({icon:"error",title:"图片保存失败"})}})},fail:function(e){console.error("生成图片失败：",e),o.showToast({icon:"error",title:"生成图片失败"})}})},save:function(){var e=this;o.getSetting({success:function(n){n.authSetting["scope.writePhotosAlbum"]?e.saveImageToPhotosAlbum():o.authorize({scope:"scope.writePhotosAlbum",success:function(){e.saveImageToPhotosAlbum()},fail:function(){o.showToast({title:"请打开保存相册权限，再点击保存相册分享",icon:"none",duration:2e3});var e=setTimeout((function(){clearTimeout(e),o.openSetting({success:function(){}})}),2e3)}})}})},saveImageInH5:function(){var e=this.info.refereeImg;if(e){var n=e;e.startsWith("data:image")||(n="data:image/png;base64,"+e);var t=n.split(","),i=t[0].match(/:(.*?);/);if(i){var a=i[1],c=atob(t[1]),u=c.length,l=new Uint8Array(u);while(u--)l[u]=c.charCodeAt(u);var r=new Blob([l],{type:a}),s=document.createElement("a"),d=URL.createObjectURL(r);s.href=d,s.download="image_".concat(Date.now(),".png"),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(d),o.showToast({title:"图片已保存",icon:"success"})}else o.showToast({title:"图片格式错误",icon:"none"})}else o.showToast({title:"图片数据为空",icon:"none"})},change:function(e){this.imgs=e},showInputDialog:function(){var e=this;this.account=this.info.account,console.log(this.account),o.showModal({title:"修改渠道名称",content:this.account,editable:!0,placeholderText:"请输入渠道名称",confirmText:"确认",cancelText:"取消",success:function(n){n.confirm&&u.default.userUpdate({account:n.content}).then((function(n){200==n.code&&(u.default.userInfo().then((function(n){200==n.code&&(e.info=n.data)})),e.Tips("操作成功！"))}))}})},saveImageToPhotosAlbum:function(){var n=this.info.refereeImg,t=Math.random();e.getFileSystemManager().writeFile({filePath:e.env.USER_DATA_PATH+"/pic"+t+".png",data:n,encoding:"base64",success:function(n){e.saveImageToPhotosAlbum({filePath:e.env.USER_DATA_PATH+"/pic"+t+".png",success:function(n){e.showToast({title:"保存成功"})},fail:function(e){console.log(e)}}),console.log(n)},fail:function(e){console.log(e)}})},closePo:function(){this.$refs.alertDialog.close()},openPopup:function(){this.$refs.alertDialog.open()},downloadFile:function(){e.downloadFile({url:this.url,success:function(n){e.saveImageToPhotosAlbum({filePath:n.tempFilePath,success:function(n){e.hideLoading(),e.showModal({title:"提示",content:"您的二维码已保存到相册，赶快识别二维码添加我们进行咨询吧",showCancel:!1})},fail:function(n){"saveImageToPhotosAlbum:fail:auth denied"!==n.errMsg&&"saveImageToPhotosAlbum:fail auth deny"!==n.errMsg&&"saveImageToPhotosAlbum:fail authorize no response"!==n.errMsg||e.showModal({title:"提示",content:"需要您授权保存相册",showCancel:!1,success:function(n){e.openSetting({success:function(n){console.log("settingdata",n),n.authSetting["scope.writePhotosAlbum"]?e.showModal({title:"提示",content:"获取权限成功,再次点击图片即可保存",showCancel:!1}):e.showModal({title:"提示",content:"获取权限失败，将无法保存到相册哦~",showCancel:!1})},fail:function(e){console.log("failData",e)},complete:function(e){console.log("finishData",e)}})}})},complete:function(n){e.hideLoading()}})}})}}};n.default=s}).call(this,t("3223")["default"],t("df3c")["default"])},b9ae:function(e,n,t){"use strict";t.r(n);var o=t("933f"),i=t.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(a);n["default"]=i.a}},[["0898","common/runtime","common/vendor"]]]);